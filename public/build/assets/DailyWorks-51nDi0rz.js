import{V as Or,j as _,a as i,F as oe,c as Yn,M as _r}from"./app-8X8jzGRc.js";import{v as jt,w as j,x as $t,y as Lt,E as ft,H as gt,J as me,T as Ee,r as f,ai as Oe,P as de,_ as m,al as Qe,U as Ze,f as dt,aw as tn,aj as jr,ao as ne,an as $r,u as pn,Q as Xn,ah as Ve,aq as Ge,ap as It,ax as Lr,b as he,ar as l,as as Gn,j as Je,at as Nr,t as ht,Y as Vr,B as De,R as Mt,c as Re,X as Nt,G as ue,F as zr,k as Hr,S as Wr,M as Le,V as Br,Z as Vt,$ as zt,a0 as Ur,m as Kr,n as Yr,o as Cn,p as xt,q as Xr,a2 as Gr,e as qr,g as Qr,a as Pn,I as Zr}from"./vendor-_0rRkWJw.js";import{r as Ht,d as Jr,B as Ae,aj as et,ak as tt,al as wn,am as Rn,G as ea,A as ta}from"./App-D6RdScpI.js";import{X as na,m as ra,A as aa}from"./minMax-Cy_Wdadx.js";import{d as oa}from"./Delete-Ci7XC9Pr.js";import{L as ia,U as nn}from"./Loader-DWBv8h26.js";import{l as ve,s as ut}from"./chunk-QEQ4EHOG-B5kTe-v5.js";import{u as qt}from"./chunk-TLBGAR4N-CiCkdrcM.js";import{d as sa}from"./dayjs.min-DJbw3HPZ.js";import{d as fn,G as Wt}from"./GlassDialog-B_hfIYpj.js";import{L as gn}from"./LoadingButton-BV5x_kWd.js";import{u as Qt,w as la}from"./xlsx-DjuO7_Ju.js";import{D as rn}from"./Download-B0y9Ygyg.js";import{d as ca,p as ua}from"./Search-BGR73_ne.js";import{C as da}from"./Clear-DKa3Yl6q.js";import{I as pa,J as kn,K as fa,N as ga,O as Sn,q as ha,e as nt,u as Bt,f as qn,h as Ft,n as In,Q as ma,R as ba,T as ya,U as va,l as Da,o as xa,G as Ca,b as Qn,j as Pa,d as wa,k as Ra,W as ka,p as Sa,B as Mn,X as Ia,Y as Ma,Z as Fa,a as Fn,_ as Ta,P as Ea,c as Tn,E as an,v as Zn,w as Jn,$ as Aa,L as hn,x as Oa,a0 as En,A as er,F as _a,H as ja}from"./AdapterDayjs-BxznAAX2.js";import"./DOMLayoutDelegate-DWmwDVpp.js";import"./useLabel-DGju_fc-.js";import"./chunk-NCVCYSZZ-DFdntz80.js";import"./chunk-CAFRINWI-CcU5yOMx.js";import"./isBetween-Bui0pSg7.js";const $a=jt(j.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),La=jt(j.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Na=jt(j.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),Va=jt(j.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");var mn={},za=Lt;Object.defineProperty(mn,"__esModule",{value:!0});var tr=mn.default=void 0,Ha=za(Ht()),Wa=$t();tr=mn.default=(0,Ha.default)((0,Wa.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var bn={},Ba=Lt;Object.defineProperty(bn,"__esModule",{value:!0});var nr=bn.default=void 0,Ua=Ba(Ht()),Ka=$t();nr=bn.default=(0,Ua.default)((0,Ka.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");var yn={},Ya=Lt;Object.defineProperty(yn,"__esModule",{value:!0});var rr=yn.default=void 0,Xa=Ya(Ht()),Ga=$t();rr=yn.default=(0,Xa.default)((0,Ga.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var vn={},qa=Lt;Object.defineProperty(vn,"__esModule",{value:!0});var ar=vn.default=void 0,Qa=qa(Ht()),Za=$t();ar=vn.default=(0,Qa.default)((0,Za.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Ja(e){return gt("MuiPickersToolbarText",e)}const An=ft("MuiPickersToolbarText",["root","selected"]),eo=["className","selected","value"],to=e=>{const{classes:t,selected:n}=e;return Ze({root:["root",n&&"selected"]},Ja,t)},no=me(Ee,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${An.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${An.selected}`]:{color:(e.vars||e).palette.text.primary}})),ro=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,c=de(r,eo),s=to(r);return j.jsx(no,m({ref:n,className:Qe(a,s.root),component:"span"},c,{children:o}))}),ao=["align","className","selected","typographyClassName","value","variant","width"],oo=e=>{const{classes:t}=e;return Ze({root:["root"]},pa,t)},io=me(dt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),On=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:c,typographyClassName:s,value:p,variant:b,width:g}=r,v=de(r,ao),h=oo(r);return j.jsx(io,m({variant:"text",ref:n,className:Qe(o,h.root)},g?{sx:{width:g}}:{},v,{children:j.jsx(ro,{align:a,className:s,variant:b,value:p,selected:c})}))}),so=["value","referenceDate"],qe={emptyValue:[null,null],getTodayValue:(e,t,n)=>[kn(e,t,n),kn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=de(e,so);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const c=n??fa(r);return[a?t[0]:c,o?t[1]:c]},cleanValue:(e,t)=>t.map(n=>ga(e,n)),areValuesEqual:(e,t,n)=>Sn(e,t[0],n[0])&&Sn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function lo(e){return gt("MuiDateRangePickerToolbar",e)}ft("MuiDateRangePickerToolbar",["root","container"]);const co=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],uo=e=>{const{classes:t}=e;return Ze({root:["root"],container:["container"]},lo,t)},po=me(ha,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fo=me("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),go=f.forwardRef(function(t,n){const r=nt(),a=Oe({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,c],rangePosition:s,onRangePositionChange:p,toolbarFormat:b,className:g}=a,v=de(a,co),h=Bt(),y=o?r.formatByString(o,b||r.formats.shortDate):h.start,P=c?r.formatByString(c,b||r.formats.shortDate):h.end,T=a,w=uo(T);return j.jsx(po,m({},v,{toolbarTitle:h.dateRangePickerToolbarTitle,isLandscape:!1,className:Qe(g,w.root),ownerState:T,ref:n,children:j.jsxs(fo,{className:w.container,children:[j.jsx(On,{variant:o!==null?"h5":"h6",value:y,selected:s==="start",onClick:()=>p("start")}),j.jsxs(Ee,{variant:"h5",children:[" ","–"," "]}),j.jsx(On,{variant:c!==null?"h5":"h6",value:P,selected:s==="end",onClick:()=>p("end")})]})}))});function or(e,t){const n=nt(),r=qn(),a=Oe({props:e,name:t}),o=f.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:m({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return m({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Ft(n,a.minDate,r.minDate),maxDate:Ft(n,a.maxDate,r.maxDate),slots:m({toolbar:go},a.slots)})}const ir=[];let ze=0;for(;ze<64;)ir[ze]=0|Math.sin(++ze%Math.PI)*4294967296;function ho(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"",c=o.length;const s=[n=1732584193,r=4023233417,~n,~r];for(e=--c/4+2|15,t[--e]=c*8;~c;)t[c>>2]|=o.charCodeAt(c)<<8*c--;for(ze=o=0;ze<e;ze+=16){for(c=s;o<64;c=[a=c[3],n+((a=c[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][c=o>>4]+ir[o]+~~t[ze|[o,5*o+1,3*o+5,7*o][c]&15])<<(c=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*c+o++%4])|a>>>-c),n,r])n=c[1]|0,r=c[2];for(o=4;o;)s[--o]+=c[o]}for(e="";o<32;)e+=(s[o>>3]>>(1^o++)*4&15).toString(16);return e}const Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",sr=e=>{let t="",n,r,a,o,c,s,p,b=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");b<e.length;)o=Ct.indexOf(e.charAt(b++)),c=Ct.indexOf(e.charAt(b++)),s=Ct.indexOf(e.charAt(b++)),p=Ct.indexOf(e.charAt(b++)),n=o<<2|c>>4,r=(c&15)<<4|s>>2,a=(s&3)<<6|p,t=t+String.fromCharCode(n),s!=64&&(t=t+String.fromCharCode(r)),p!=64&&(t=t+String.fromCharCode(a));return t},mo=["pro","premium"],bo=["perpetual","annual","subscription"];function rt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function yo(){rt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function vo(){rt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function Do(){rt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function xo({plan:e,packageName:t}){rt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function Co({packageName:e}){rt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function Po({plan:e,licenseKey:t,expiryTimestamp:n}){rt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function wo({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}tn.__MUI_LICENSE_INFO__=tn.__MUI_LICENSE_INFO__||{key:void 0};class Tt{static getLicenseInfo(){return tn.__MUI_LICENSE_INFO__}static getLicenseKey(){return Tt.getLicenseInfo().key}static setLicenseKey(t){const n=Tt.getLicenseInfo();n.key=t}}let K=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function Ro(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const ko=/^.*EXPIRY=([0-9]+),.*$/,So=["x-data-grid-pro","x-date-pickers-pro"],Io=e=>{let t;try{t=parseInt(e.match(ko)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},Mo=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},Fo=e=>{const t=sr(e);return t.includes("KEYVERSION=1")?Io(t):t.includes("KV=2")?Mo(t):null};function To({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:K.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==ho(a))return{status:K.Invalid};const o=Fo(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:K.Invalid};if(o.licensingModel==null||!bo.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:K.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:K.Invalid};o.licensingModel;{const c=parseInt(sr(e),10);if(Number.isNaN(c))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<c)return{status:K.ExpiredVersion}}return o.scope==null||!mo.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:K.Invalid}):Ro(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!So.includes(n)?{status:K.NotAvailableInInitialProPlan}:{status:K.Valid}:{status:K.OutOfScope}}const Eo=f.createContext({key:void 0}),Pt={};function Ut(e,t){const{key:n}=f.useContext(Eo);return f.useMemo(()=>{const r=n??Tt.getLicenseKey();if(Pt[e]&&Pt[e].key===r)return Pt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=To({releaseInfo:t,licenseKey:r,packageName:e}),c=`@mui/${e}`;return o.status===K.Valid||(o.status===K.Invalid?yo():o.status===K.NotAvailableInInitialProPlan?Do():o.status===K.OutOfScope?vo():o.status===K.NotFound?xo({plan:a,packageName:c}):o.status===K.ExpiredAnnualGrace?Po(m({plan:a},o.meta)):o.status===K.ExpiredAnnual?wo(m({plan:a},o.meta)):o.status===K.ExpiredVersion&&Co({packageName:c})),Pt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Ao(e){switch(e){case K.ExpiredAnnualGrace:case K.ExpiredAnnual:return"MUI X Expired license key";case K.ExpiredVersion:return"MUI X Expired package version";case K.Invalid:return"MUI X Invalid license key";case K.OutOfScope:return"MUI X License key plan mismatch";case K.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case K.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Oo(e){const{packageName:t,releaseInfo:n}=e,r=Ut(t,n);return r.status===K.Valid?null:j.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Ao(r.status)})}const Kt=()=>"MTcyMzc1NTYwMDAwMA==",_o=e=>gt("MuiDateRangeCalendar",e),_n=ft("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),mt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Zt=(e,t,n)=>mt(e,n)&&e.isWithinRange(t,n),Rt=(e,t,n)=>mt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>mt(e,n)&&e.isSameDay(t,n[1]);function on({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[c,s]=t;if(o&&n&&(c&&r==="start"&&(n=In(e,n,c)),s&&r==="end"&&(n=In(e,n,s))),r==="start"){const b=a?{nextSelection:"start",newRange:[s,n]}:{nextSelection:"end",newRange:[n,null]};return s&&e.isAfter(n,s)?b:{nextSelection:"end",newRange:[n,s]}}const p=a?{nextSelection:"end",newRange:[n,c]}:{nextSelection:"end",newRange:[n,null]};return c&&e.isBeforeDay(n,c)?p:{nextSelection:"start",newRange:[c,n]}}function jo(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=on(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function $o(e){return gt("MuiDateRangePickerDay",e)}const Q=ft("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),Lo=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],No=Kt(),Vo=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:c,isPreviewing:s,isStartOfPreviewing:p,isEndOfPreviewing:b,isFirstVisibleCell:g,isLastVisibleCell:v,isHiddenDayFiller:h,selected:y,classes:P}=e;return Ze({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",c&&"endOfMonth",g&&"firstVisibleCell",v&&"lastVisibleCell",h&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",s&&"rangeIntervalDayPreview",(p||a)&&"rangeIntervalDayPreviewStart",(b||c)&&"rangeIntervalDayPreviewEnd"],day:["day",!y&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!y&&t&&"dayInsideRangeInterval"]},$o,P)},kt={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},St={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},zo=me("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${Q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${Q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${Q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${Q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${Q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${Q.startOfMonth}`]:t.startOfMonth},{[`&.${Q.endOfMonth}`]:t.endOfMonth},{[`&.${Q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${Q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${Q.rangeIntervalDayPreview}`]:m({},St,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${Q.rangeIntervalDayPreview}`]:m({},kt,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:jr(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":St,"&:last-of-type":kt}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:m({},St,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:m({},kt,{paddingRight:0})}]})),Ho=me("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${Q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${Q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${Q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderLeftColor:(e.vars||e).palette.divider},St)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderRightColor:(e.vars||e).palette.divider},kt)}]})),Wo=me(ma,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${Q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${Q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${Q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Bo=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:c,isHighlighting:s,isPreviewing:p,selected:b=!1,isVisuallySelected:g,sx:v,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P}=r,T=de(r,Lo);Ut("x-date-pickers-pro",No);const w=nt(),S=w.isSameDay(o,w.endOfMonth(o)),I=w.isSameDay(o,w.startOfMonth(o)),u=m({},r,{selected:b,isStartOfMonth:I,isEndOfMonth:S,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P,isHiddenDayFiller:c&&!T.showDaysOutsideCurrentMonth}),d=Vo(u);return j.jsx(zo,{className:Qe(d.root,a),ownerState:u,sx:v,children:j.jsx(Ho,{className:d.rangeIntervalPreview,ownerState:u,children:j.jsx(Wo,m({},T,{ref:n,disableMargin:!0,day:o,selected:g,outsideCurrentMonth:c,className:d.day,ownerState:u,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P}))})})}),Uo=f.memo(Bo),Xe=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Ko=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),lr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?lr(e.children[0]):null),Jt=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=lr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Yo=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:c,dateRange:s,timezone:p})=>{const b=f.useRef(null);f.useEffect(()=>{b.current=document.createElement("img"),b.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const g=d=>{if(d==null)return!1;const D=!c&&!!s[0]&&!!s[1],C=Rt(e,d,s),M=ct(e,d,s);return D&&(C||M)},v=ne(d=>{const D=Xe(d.target,e,p);if(!g(D))return;d.stopPropagation(),b.current&&d.dataTransfer.setDragImage(b.current,0,0),t(D),d.dataTransfer.effectAllowed="move",n(!0);const C=d.target.dataset;C.timestamp&&d.dataTransfer.setData("draggingDate",C.timestamp),C.position&&a(C.position)}),h=ne(d=>{const D=Jt(d);if(!D)return;const C=Xe(D,e,p);g(C)&&t(C)}),y=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move",t(Xe(d.target,e,p)))}),P=ne(d=>{const D=Jt(d);if(!D)return;const C=Xe(D,e,p);if(C&&t(C),!(D===d.changedTouches[0].target)||!g(C))return;n(!0);const A=d.target.dataset;A.position&&a(A.position)}),T=ne(d=>{r&&(d.preventDefault(),d.stopPropagation())}),w=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move")}),S=ne(d=>{if(!r)return;t(null),n(!1);const D=Jt(d,!0);if(!D)return;D.focus();const C=Xe(D,e,p);C&&o(C)}),I=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),n(!1),t(null))}),u=ne(d=>{if(!r||(d.preventDefault(),d.stopPropagation(),n(!1),t(null),d.currentTarget.focus(),Ko(d)))return;const D=Xe(d.target,e,p);D&&o(D)});return{onDragStart:v,onDragEnter:y,onDragLeave:T,onDragOver:w,onDragEnd:I,onDrop:u,onTouchStart:h,onTouchMove:P,onTouchEnd:S}},Xo=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[c,s]=f.useState(!1),[p,b]=f.useState(null),g=ne(y=>{t.isEqual(y,p)||b(y)}),v=f.useMemo(()=>{const[y,P]=a;if(p){if(y&&t.isBefore(p,y))return"start";if(P&&t.isAfter(p,P))return"end"}return null},[a,p,t]),h=Yo({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:s,isDragging:c,setRangeDragDay:g,disableDragEditing:e,dateRange:a,timezone:o});return f.useMemo(()=>m({isDragging:c,rangeDragDay:p,draggingDatePosition:v},e?{}:h),[c,p,v,e,h])},Dn=(e,t)=>{const[n,r]=$r({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=c=>{if((t==null?void 0:t.current)==null)return;const s=t.current.getSections(),p=c==="start"?0:s.length/2;t.current.setSelectedSections(p)},o=ne(c=>{var s;r(c),(s=e.onRangePositionChange)==null||s.call(e,c),a(c)});return{rangePosition:n,onRangePositionChange:o}},Go=40,qo=["calendars","month","monthIndex","labelId"],Qo=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Zo=me(ba)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Jo=f.forwardRef(function(t,n){const r=nt(),a=Bt(),{calendars:o,month:c,monthIndex:s,labelId:p}=t,b=de(t,qo),{format:g,slots:v,slotProps:h,currentMonth:y,onMonthChange:P,disableFuture:T,disablePast:w,minDate:S,maxDate:I,timezone:u}=b,d=de(b,Qo),D=ya(y,{disableFuture:T,maxDate:I,timezone:u}),C=va(y,{disablePast:w,minDate:S,timezone:u});if(o===1)return j.jsx(Da,m({},b,{labelId:p,ref:n}));const M=()=>P(r.addMonths(y,1),"left"),E=()=>P(r.addMonths(y,-1),"right");return j.jsx(Zo,m({},d,{ref:n,onGoToPrevious:E,onGoToNext:M,isPreviousHidden:s!==0,isPreviousDisabled:C,previousLabel:a.previousMonth,isNextHidden:s!==o-1,isNextDisabled:D,nextLabel:a.nextMonth,slots:v,slotProps:h,labelId:p,children:r.formatByString(c,g??`${r.formats.month} ${r.formats.year}`)}))}),ei=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],ti=["isDragging","rangeDragDay","draggingDatePosition"],ni=Kt(),ri=me("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),ai=me("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),oi=(Go+ka*2)*6,ii=me(xa)(({theme:e})=>({minWidth:312,minHeight:oi,[`&.${_n.dayDragging}`]:{[`& .${Q.day}`]:{cursor:"grabbing"},[`& .${Q.root}:not(.${Q.rangeIntervalDayHighlightStart}):not(.${Q.rangeIntervalDayHighlightEnd}) .${Q.day}:not(.${Q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${_n.dayDragging}) .${Q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function si(e,t){const n=nt(),r=qn(),a=Sa(),o=Oe({props:e,name:t});return m({},o,{renderLoading:o.renderLoading??(()=>j.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Ft(n,o.minDate,r.minDate),maxDate:Ft(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const li=e=>{const{classes:t,isDragging:n}=e;return Ze({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},_o,t)},ci=f.forwardRef(function(t,n){const r=si(t,"MuiDateRangeCalendar"),a=pn(Ca,{defaultMatches:!1}),{value:o,defaultValue:c,referenceDate:s,onChange:p,className:b,disableFuture:g,disablePast:v,minDate:h,maxDate:y,shouldDisableDate:P,reduceAnimations:T,onMonthChange:w,rangePosition:S,defaultRangePosition:I,onRangePositionChange:u,calendars:d,currentMonthCalendarPosition:D=1,slots:C,slotProps:M,loading:E,renderLoading:A,disableHighlightToday:V,readOnly:H,disabled:G,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:N,disableAutoMonthSwitching:U,autoFocus:$,fixedWeekNumber:z,disableDragEditing:ee,displayWeekNumber:L,timezone:se,availableRangePositions:W,views:le,view:be,openTo:re,onViewChange:ke}=r,ie=de(r,ei),{value:R,handleValueChange:q,timezone:Y}=Qn({name:"DateRangeCalendar",timezone:se,value:o,defaultValue:c,onChange:p,valueManager:qe}),{setValueAndGoToNextView:pe,view:fe}=Pa({view:be,views:le,openTo:re,onChange:q,onViewChange:ke,autoFocus:$}),k=nt(),Se=wa(Y),yt=Xn(),{rangePosition:ce,onRangePositionChange:at}=Dn({rangePosition:S,defaultRangePosition:I,onRangePositionChange:u}),Me=ne(O=>{ce!==O&&at(O)}),He=ne((O,X,ye=!1)=>{const{nextSelection:Pe,newRange:Ye}=on({newDate:O,utils:k,range:R,rangePosition:ce,allowRangeFlip:ye,shouldMergeDateAndTime:!0}),$e=W.includes(Pe);$e&&at(Pe);const Te=ce==="end"&&mt(k,Ye);pe(Ye,Te||!$e?"finish":"partial",fe)}),We=ne(O=>{He(O,void 0,!0)}),_e=ee||G||H,ge=f.useMemo(()=>[R[0]==null||!k.isValid(R[0])?R[0]:k.startOfDay(R[0]),R[1]==null||!k.isValid(R[1])?R[1]:k.endOfDay(R[1])],[R,k]),vt=Xo({disableDragEditing:_e,onDrop:We,onDatePositionChange:Me,utils:k,dateRange:ge,timezone:Y}),{isDragging:Fe,rangeDragDay:x,draggingDatePosition:F}=vt,J=de(vt,ti),te=m({},r,{isDragging:Fe}),ae=li(te),xe=f.useMemo(()=>{if(!ge[0]||!ge[1]||!x)return[null,null];const O=on({utils:k,range:ge,newDate:x,rangePosition:ce,allowRangeFlip:!0}).newRange;return O[0]!==null&&O[1]!==null?[k.startOfDay(O[0]),k.endOfDay(O[1])]:O},[ce,x,k,ge]),Ie=f.useMemo(()=>{if(P)return O=>P(O,F||ce)},[P,ce,F]),{calendarState:Ce,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:Be,onMonthSwitchingAnimationEnd:st}=Ra({value:R[0]||R[1],referenceDate:s,disableFuture:g,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:y,minDate:h,onMonthChange:w,reduceAnimations:T,shouldDisableDate:Ie,timezone:Y}),Ue=(C==null?void 0:C.calendarHeader)??Jo,lt=Ve({elementType:Ue,externalSlotProps:M==null?void 0:M.calendarHeader,additionalProps:{calendars:d,views:["day"],view:"day",currentMonth:Ce.currentMonth,onMonthChange:(O,X)=>Be({newMonth:O,direction:X}),minDate:h,maxDate:y,disabled:G,disablePast:v,disableFuture:g,reduceAnimations:T,timezone:Y,slots:C,slotProps:M},ownerState:r}),je=f.useRef(null);f.useEffect(()=>{var $e,Te;const O=ce==="start"?R[0]:R[1];if(!O||!k.isValid(O))return;const X=ce==="start"?($e=je.current)==null?void 0:$e[0]:(Te=je.current)==null?void 0:Te[1];if(je.current=R,U&&X&&k.isEqual(X,O))return;const ye=d-1,Pe=k.getMonth(Ce.currentMonth),Ye=k.getMonth(O);if(!k.isSameYear(Ce.currentMonth,O)||Ye<Pe||Ye>Pe+ye){const Dt=ce==="start"?O:k.addMonths(O,-ye);it(Dt)}},[ce,R]);const Yt={disablePast:v,disableFuture:g,maxDate:y,minDate:h},Rr={disableHighlightToday:V,readOnly:H,disabled:G},[kr,Xt]=f.useState(null),Sr=f.useMemo(()=>({onMouseLeave:()=>Xt(null)}),[]),Gt=jo({utils:k,range:ge,newDate:kr,rangePosition:ce}),Ir=ne((O,X)=>{Zt(k,X,ge)?Xt(null):Xt(X)}),Mr=m({day:Uo},C),Fr=m({},M,{day:O=>{const{day:X}=O,ye=Rt(k,X,ge),Pe=ct(k,X,ge),$e=!_e&&ge[0]&&ge[1]&&(ye||Pe);let Te;ye?Te="start":Pe&&(Te="end");const Dt=Fe?Rt(k,X,xe):ye,Ar=Fe?ct(k,X,xe):Pe;return m({isPreviewing:a?Zt(k,X,Gt):!1,isStartOfPreviewing:a?Rt(k,X,Gt):!1,isEndOfPreviewing:a?ct(k,X,Gt):!1,isHighlighting:Zt(k,X,Fe?xe:ge),isStartOfHighlighting:Dt,isEndOfHighlighting:Fe?ct(k,X,xe):Pe,onMouseEnter:a?Ir:void 0,isVisuallySelected:O.selected||Fe&&(Dt||Ar),"data-position":Te},J,{draggable:$e?!0:void 0},Ge(M==null?void 0:M.day,O)??{})}}),Tr=f.useMemo(()=>Array.from({length:d}).map((O,X)=>X),[d]),Ke=f.useMemo(()=>{const O=k.addMonths(Ce.currentMonth,1-D);return Array.from({length:d}).map((X,ye)=>k.addMonths(O,ye))},[k,Ce.currentMonth,d,D]),Er=f.useMemo(()=>$?R[0]!=null?Ke.find(O=>k.isSameMonth(O,R[0])):R[1]!=null?Ke.find(O=>k.isSameMonth(O,R[1])):Ke.find(O=>k.isSameMonth(O,Se))??Ke[0]:null,[k,R,Ke,$,Se]);return j.jsxs(ri,m({ref:n,className:Qe(b,ae.root),ownerState:te},ie,{children:[j.jsx(Oo,{packageName:"x-date-pickers-pro",releaseInfo:ni}),Tr.map(O=>{const X=Ke[O],ye=`${yt}-grid-${O}-label`;return j.jsxs(ai,{className:ae.monthContainer,children:[j.jsx(Ue,m({},lt,{month:X,monthIndex:O,labelId:ye})),j.jsx(ii,m({className:ae.dayCalendar},Ce,Yt,Rr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:T,selectedDays:R,onSelectedDaysChange:He,currentMonth:X,TransitionProps:Sr,shouldDisableDate:Ie,showDaysOutsideCurrentMonth:d===1&&B,dayOfWeekFormatter:N,loading:E,renderLoading:A,slots:Mr,slotProps:Fr,autoFocus:X===Er,fixedWeekNumber:z,displayWeekNumber:L,timezone:Y,gridLabelId:ye}))]},O)})]}))}),cr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:s,minDate:p,maxDate:b,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:y,defaultRangePosition:P,onRangePositionChange:T,calendars:w,currentMonthCalendarPosition:S,slots:I,slotProps:u,loading:d,renderLoading:D,disableHighlightToday:C,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:V,disableAutoMonthSwitching:H,sx:G,autoFocus:B,fixedWeekNumber:N,disableDragEditing:U,displayWeekNumber:$,timezone:z,availableRangePositions:ee,views:L,view:se,onViewChange:W})=>j.jsx(ci,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:s,minDate:p,maxDate:b,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:y,defaultRangePosition:P,onRangePositionChange:T,calendars:w,currentMonthCalendarPosition:S,slots:I,slotProps:u,loading:d,renderLoading:D,disableHighlightToday:C,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:V,disableAutoMonthSwitching:H,sx:G,autoFocus:B,fixedWeekNumber:N,disableDragEditing:U,displayWeekNumber:$,timezone:z,availableRangePositions:ee,view:se,views:L,onViewChange:W}),ui=["shouldDisableDate"],Et=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,c=de(e,ui),s=[Mn({adapter:n,value:r,props:m({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"start"))})}),Mn({adapter:n,value:a,props:m({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"end"))})})];return s[0]||s[1]?s:r===null||a===null?[null,null]:mt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},jn=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),di=e=>{const t=f.useRef(null),n=It(e.unstableEndFieldRef,t),[r,a]=f.useState(e.selectedSections??null),[o,c]=f.useState(null),s=()=>t.current&&t.current.isFieldFocused()?"end":"start",p=ne(v=>{var h;a(v),s()==="start"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),b=ne(v=>{var h;c(v),s()==="end"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),g=s();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:g==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:p},end:{unstableFieldRef:n,selectedSections:g==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:b}}},pi=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=Ia(e),c=Ma(),{value:s,defaultValue:p,format:b,formatDensity:g,shouldRespectLeadingZeros:v,onChange:h,disabled:y,readOnly:P,selectedSections:T,onSelectedSectionsChange:w,timezone:S,enableAccessibleFieldDOMStructure:I,autoFocus:u}=o,{value:d,handleValueChange:D,timezone:C}=Qn({name:"useMultiInputDateRangeField",timezone:S,value:s,defaultValue:p,onChange:h,valueManager:qe}),M=$=>(z,ee)=>{const L=$===0?[z,d[1]]:[d[0],z],se=m({},ee,{validationError:Et({adapter:c,value:L,props:m({},o,{timezone:C})})});D(L,se)},E=ne(M(0)),A=ne(M(1)),V=Fa(m({},o,{value:d,timezone:C}),Et,qe.isSameError,qe.defaultErrorState),H=di({selectedSections:T,onSelectedSectionsChange:w,unstableStartFieldRef:n,unstableEndFieldRef:a}),G=m({error:!!V[0]},t,H.start,{disabled:y,readOnly:P,format:b,formatDensity:g,shouldRespectLeadingZeros:v,timezone:C,value:s===void 0?void 0:s[0],defaultValue:p===void 0?void 0:p[0],onChange:E,enableAccessibleFieldDOMStructure:I,autoFocus:u}),B=m({error:!!V[1]},r,H.end,{format:b,formatDensity:g,shouldRespectLeadingZeros:v,disabled:y,readOnly:P,timezone:C,value:s===void 0?void 0:s[1],defaultValue:p===void 0?void 0:p[1],onChange:A,enableAccessibleFieldDOMStructure:I}),N=Fn(G),U=Fn(B);return{startDate:jn(N,["clearable","onClear"]),endDate:jn(U,["clearable","onClear"])}},fi=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ft("MuiMultiInputDateRangeField",["root","separator"]);const gi=e=>gt("MuiMultiInputDateRangeField",e),hi=e=>{const{classes:t}=e;return Ze({root:["root"],separator:["separator"]},gi,t)},mi=me(f.forwardRef((e,t)=>j.jsx(Lr,m({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bi=me(Ee,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),ur=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=Ta(r),{slots:c,slotProps:s,unstableStartFieldRef:p,unstableEndFieldRef:b,className:g}=o,v=de(o,fi),h=r,y=hi(h),P=(c==null?void 0:c.root)??mi,T=Ve({elementType:P,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:h,className:Qe(g,y.root)}),w=(c==null?void 0:c.textField)??(t.enableAccessibleFieldDOMStructure?Ea:he),S=Ve({elementType:w,externalSlotProps:s==null?void 0:s.textField,ownerState:m({},h,{position:"start"})}),I=Ve({elementType:w,externalSlotProps:s==null?void 0:s.textField,ownerState:m({},h,{position:"end"})}),u=(c==null?void 0:c.separator)??bi,d=Ve({elementType:u,externalSlotProps:s==null?void 0:s.separator,additionalProps:{children:` ${a.dateSeparator??"–"} `},ownerState:h,className:y.separator}),D=pi({sharedProps:a,startTextFieldProps:S,endTextFieldProps:I,unstableStartFieldRef:p,unstableEndFieldRef:b}),C=Tn(D.startDate),M=Tn(D.endDate);return j.jsxs(P,m({},T,{children:[j.jsx(w,m({fullWidth:!0},C)),j.jsx(u,m({},d)),j.jsx(w,m({fullWidth:!0},M))]}))}),yi=["clearable","onClear"],vi=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:c,rangePosition:s,onRangePositionChange:p,localeText:b,pickerSlotProps:g,pickerSlots:v,fieldProps:h,anchorRef:y,currentView:P,initialView:T,onViewChange:w,startFieldRef:S,endFieldRef:I})=>{const u=Bt(),d=It(h.unstableStartFieldRef,S),D=It(h.unstableEndFieldRef,I),C=f.useRef(s);f.useEffect(()=>{var z;if(!t)return;const $=s==="start"?S:I;if((z=$.current)==null||z.focusField(),!$.current||!P){C.current=s;return}$.current.setSelectedSections(C.current===s?P:0),C.current=s},[s,t,P,S,I]);const M=$=>{$.stopPropagation(),p("start"),!r&&!o&&n.onOpen($)},E=$=>{$.stopPropagation(),p("end"),!r&&!o&&n.onOpen($)},A=()=>{t&&(p("start"),C.current!=="start"&&T&&(w==null||w(T)))},V=()=>{t&&(p("end"),C.current!=="end"&&T&&(w==null||w(T)))},H=m({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},h.slots),G=m({},h.slotProps,{textField:$=>{const z=Ge(g==null?void 0:g.textField,$);let ee,L;return $.position==="start"?(ee=m({label:(b==null?void 0:b.start)??u.start,onKeyDown:an(M),onFocus:A,focused:t?s==="start":void 0},!r&&!h.disabled&&{onClick:M},e==="mobile"&&{readOnly:!0}),y&&(L=m({},z==null?void 0:z.InputProps,{ref:y}))):(ee=m({label:(b==null?void 0:b.end)??u.end,onKeyDown:an(E),onFocus:V,focused:t?s==="end":void 0},!r&&!h.disabled&&{onClick:E},e==="mobile"&&{readOnly:!0}),L=z==null?void 0:z.InputProps),m({},a!=null&&{id:`${a}-${$.position}`},ee,Ge(g==null?void 0:g.textField,$),{InputProps:L})},root:$=>m({},{onBlur:c},Ge(g==null?void 0:g.fieldRoot,$)),separator:g==null?void 0:g.fieldSeparator}),B=h,N=de(B,yi);return m({},N,{unstableStartFieldRef:d,unstableEndFieldRef:D,slots:H,slotProps:G})},Di=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:c,onBlur:s,rangePosition:p,onRangePositionChange:b,startFieldRef:g,endFieldRef:v,pickerSlots:h,pickerSlotProps:y,fieldProps:P,anchorRef:T,currentView:w})=>{const S=It(P.unstableFieldRef,g,v);f.useEffect(()=>{var E;if(!(!t||!g.current)&&!g.current.isFieldFocused()&&w){const A=g.current.getSections().map(H=>H.type),V=p==="start"?A.indexOf(w):A.lastIndexOf(w);(E=g.current)==null||E.focusField(V)}},[p,t,w,g]);const I=()=>{var H,G;if(!((H=g.current)!=null&&H.isFieldFocused()))return;const E=g.current.getSections(),A=(G=g.current)==null?void 0:G.getActiveSectionIndex(),V=A==null||A<E.length/2?"start":"end";V!=null&&V!==p&&b(V)},u=ne(E=>{var A;setTimeout(I),(A=P.onSelectedSectionsChange)==null||A.call(P,E)}),d=E=>{E.stopPropagation(),!r&&!o&&n.onOpen(E)},D=m({},P.slots,{textField:h==null?void 0:h.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon}),C=m({},P.slotProps,{textField:y==null?void 0:y.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon});return m({},P,{slots:D,slotProps:C,label:c,unstableFieldRef:S,onKeyDown:an(d,P.onKeyDown),onSelectedSectionsChange:u,onBlur:s,InputProps:m({ref:T},P==null?void 0:P.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!P.disabled&&{onClick:d})},dr=e=>e.fieldType==="multi-input"?vi(e):Di(e),xi=["props"],Ci=Kt(),Pi=e=>{let{props:t}=e,n=de(e,xi);Ut("x-date-pickers-pro",Ci);const{slots:r,slotProps:a,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:y,inputRef:P,name:T,readOnly:w,disabled:S,autoFocus:I,disableOpenPicker:u,localeText:d,reduceAnimations:D}=t,C=f.useRef(null),M=f.useRef(null),E=f.useRef(null),A=f.useRef(null),V=f.useRef(null),H=f.useRef(t.openTo??null),G=r.field.fieldType??"multi-input",{rangePosition:B,onRangePositionChange:N}=Dn(t,G==="single-input"?A:void 0),{open:U,actions:$,layoutProps:z,renderCurrentView:ee,shouldRestoreFocus:L,fieldProps:se}=Zn(m({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:B==="start"?A:V,additionalViewProps:{rangePosition:B,onRangePositionChange:N}}));f.useEffect(()=>{z.view&&(H.current=z.view)},[]);const W=()=>{Aa(()=>{var q,Y;(q=C.current)!=null&&q.contains(En(document))||(Y=E.current)!=null&&Y.contains(En(document))||$.onDismiss()})},le=r.field,be=Ve({elementType:le,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},se,{readOnly:w,disabled:S,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,autoFocus:I&&!t.open,ref:C},G==="single-input"?{inputRef:P,name:T}:{}),ownerState:t}),re=dr({wrapperVariant:"desktop",fieldType:G,open:U,actions:$,readOnly:w,disableOpenPicker:u,label:y,localeText:d,onBlur:W,rangePosition:B,onRangePositionChange:N,pickerSlotProps:a,pickerSlots:r,fieldProps:be,anchorRef:M,startFieldRef:A,endFieldRef:V,currentView:z.view!==t.openTo?z.view:void 0,initialView:H.current??void 0,onViewChange:z.onViewChange}),ke=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:B,onRangePositionChange:N}),toolbar:m({},a==null?void 0:a.toolbar,{rangePosition:B,onRangePositionChange:N})}),ie=(r==null?void 0:r.layout)??Jn;return{renderPicker:()=>j.jsxs(hn,{localeText:d,children:[j.jsx(le,m({},re)),j.jsx(Oa,m({role:"tooltip",placement:"bottom-start",containerRef:E,anchorEl:M.current,onBlur:W},$,{open:U,slots:r,slotProps:a,shouldRestoreFocus:L,reduceAnimations:D,children:j.jsx(ie,m({},z,a==null?void 0:a.layout,{slots:r,slotProps:ke,children:ee()}))}))]})}},pr=f.forwardRef(function(t,n){var s;const r=or(t,"MuiDesktopDateRangePicker"),a=m({day:cr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:m({field:ur},r.slots),slotProps:m({},r.slotProps,{field:p=>{var b;return m({},Ge((b=r.slotProps)==null?void 0:b.field,p),er(r),{ref:n})},toolbar:m({hidden:!0},(s=r.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:c}=Pi({props:o,valueManager:qe,valueType:"date",validator:Et});return c()});pr.propTypes={autoFocus:l.bool,calendars:l.oneOf([1,2,3]),className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Gn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const wi=["props"],Ri=Kt(),ki=e=>{var ie;let{props:t}=e,n=de(e,wi);Ut("x-date-pickers-pro",Ri);const{slots:r,slotProps:a,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:y,inputRef:P,name:T,readOnly:w,disabled:S,disableOpenPicker:I,localeText:u}=t,d=f.useRef(null),D=f.useRef(null),C=r.field.fieldType??"multi-input",{rangePosition:M,onRangePositionChange:E}=Dn(t,C==="single-input"?d:void 0),A=Xn(),V=Bt(),{open:H,actions:G,layoutProps:B,renderCurrentView:N,fieldProps:U}=Zn(m({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:M==="start"?d:D,additionalViewProps:{rangePosition:M,onRangePositionChange:E}})),$=r.field,z=Ve({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},U,{readOnly:w??!0,disabled:S,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h},C==="single-input"?{inputRef:P,name:T}:{}),ownerState:t}),ee=((ie=a==null?void 0:a.toolbar)==null?void 0:ie.hidden)??!1,L=dr({wrapperVariant:"mobile",fieldType:C,open:H,actions:G,readOnly:w,labelId:A,disableOpenPicker:I,label:y,localeText:u,rangePosition:M,onRangePositionChange:E,pickerSlots:r,pickerSlotProps:a,fieldProps:z,startFieldRef:d,endFieldRef:D}),se=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:M,onRangePositionChange:E}),toolbar:m({},a==null?void 0:a.toolbar,{titleId:A,rangePosition:M,onRangePositionChange:E})}),W=(r==null?void 0:r.layout)??Jn,le=m({},V,u);let be=n.valueType==="date-time"?`${A}-start-toolbar ${A}-end-toolbar`:A;if(ee){const R=[];C==="multi-input"?(le.start&&R.push(`${A}-start-label`),le.end&&R.push(`${A}-end-label`)):y!=null&&R.push(`${A}-label`),be=R.length>0?R.join(" "):void 0}const re=m({},a,{mobilePaper:m({"aria-labelledby":be},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>j.jsxs(hn,{localeText:u,children:[j.jsx($,m({},L)),j.jsx(_a,m({},G,{open:H,slots:r,slotProps:re,children:j.jsx(W,m({},B,re==null?void 0:re.layout,{slots:r,slotProps:se,children:N()}))}))]})}},fr=f.forwardRef(function(t,n){var s;const r=or(t,"MuiMobileDateRangePicker"),a=m({day:cr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:m({field:ur},r.slots),slotProps:m({},r.slotProps,{field:p=>{var b;return m({},Ge((b=r.slotProps)==null?void 0:b.field,p),er(r),{ref:n})},toolbar:m({hidden:!1},(s=r.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:c}=ki({props:o,valueManager:qe,valueType:"date",validator:Et});return c()});fr.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Gn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const Si=["desktopModeMediaQuery"],Ii=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=de(r,Si);return pn(a,{defaultMatches:!0})?j.jsx(pr,m({ref:n},o)):j.jsx(fr,m({ref:n},o))}),Mi=me(na)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),Fi=({allData:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,reports:o,juniors:c,reports_with_daily_works:s,openModal:p,setCurrentRow:b,filteredData:g,setFilteredData:v})=>{const{auth:h}=Or().props,y=Je(),P=h.roles.includes("Administrator"),T=h.roles.includes("Supervision Engineer"),w=[{name:"Date",selector:u=>u.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:u=>u.number,sortable:"true",center:"true",width:"140px",cell:u=>_(oe,{children:[u.number,u.reports&&u.reports.map(d=>i("div",{children:_("span",{children:[i("i",{className:"mdi mdi-circle-medium"})," ",d.ref_no]})},d.ref_no))]})},{name:"Status",selector:u=>u.status,sortable:"true",center:"true",width:"220px",cell:u=>_(ut,{fullWidth:!0,"aria-label":"Status",placeholder:"Select Status",name:"status",color:S(u.status),value:u.status,onChange:d=>I(u.id,"status",d.target.value),selectedKeys:[u.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"new",startContent:i(nr,{style:{marginRight:8,color:S("new")}}),children:"New"},"new"),i(ve,{value:"resubmission",startContent:i(rr,{style:{marginRight:8,color:S("resubmission")}}),children:"Resubmission"},"resubmission"),i(ve,{value:"completed",startContent:i(tr,{style:{marginRight:8,color:S("completed")}}),children:"Completed"},"completed"),i(ve,{value:"emergency",startContent:i(ar,{style:{marginRight:8,color:S("emergency")}}),children:"Emergency"},"emergency")]})},...T?[{name:"Assigned",selector:u=>u.assigned,sortable:"true",center:"true",cell:u=>i(ut,{items:c,variant:"outlined",fullWidth:!0,size:"small",value:u.assigned||"na",onChange:d=>I(u.id,"assigned",d.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,borderRadius:2,boxShadow:y.glassCard.boxShadow}}},placeholder:"Select a junior",renderValue:d=>d.map(D=>i("div",{className:"flex items-center gap-2 m-1",children:i(qt,{style:{whiteSpace:"nowrap"},size:"sm",name:D.data.name,avatarProps:{radius:"sm",size:"sm",src:D.data.profile_image}})},D.key)),children:d=>i(ve,{textValue:d.id,children:_(De,{sx:{display:"flex"},children:[i(Vr,{src:d.profile_image,alt:d.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",marginRight:1}}),d.name]})},d.id)})}]:[],{name:"Type",selector:u=>u.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:u=>u.description,sortable:"true",left:"true",width:"260px",cell:u=>i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.description})},{name:"Location",selector:u=>u.location,sortable:"true",center:"true",width:"200px",cell:u=>i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.location})},{name:"Results",selector:u=>u.inspection_details,sortable:"true",width:"200px",center:"true",cell:u=>{const[d,D]=Mt.useState(!1),[C,M]=Mt.useState(u.inspection_details||"");return i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:d?void 0:()=>{D(!0)},children:d?i(he,{fullWidth:!0,value:C,onChange:H=>{M(H.target.value)},onBlur:()=>{D(!1),I(u.id,"inspection_details",C)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):i(oe,{children:u.inspection_details||"N/A"})})}},{name:"Road Type",selector:u=>u.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:u=>u.qty_layer,sortable:"true",center:"true",width:"150px"},...P?[{name:"In charge",selector:u=>u.incharge,sortable:"true",center:"true",cell:u=>i(ut,{items:a,variant:"underlined","aria-label":"Incharge",fullWidth:!0,value:u.incharge||"na",onChange:d=>I(u.id,"incharge",d.target.value),selectedKeys:[String(u.incharge)],style:{minWidth:"260px"},popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"},style:{whiteSpace:"nowrap",minWidth:"fit-content"}},placeholder:"Select Incharge",renderValue:d=>d.map(D=>i("div",{className:"flex items-center gap-2 m-1",children:i(qt,{style:{whiteSpace:"nowrap"},size:"sm",name:D.data.name,avatarProps:{radius:"sm",size:"sm",src:D.data.profile_image}})},D.key)),children:d=>{var D;return i(ve,{textValue:d.id,children:i(qt,{style:{whiteSpace:"nowrap"},size:"sm",name:d.name,description:((D=d.designation)==null?void 0:D.title)||"Incharge",avatarProps:{radius:"sm",size:"sm",src:d.profile_image}})},d.id)}})}]:[],{name:"Planned Time",selector:u=>u.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:u=>u.completion_time,sortable:"true",center:"true",width:"250px",cell:u=>i(he,{fullWidth:!0,size:"small",type:"datetime-local",value:u.completion_time?new Date(u.completion_time).toISOString().slice(0,16):"",onChange:d=>I(u.id,"completion_time",d.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:u=>u.resubmission_count,sortable:"true",center:"true",width:"160px",cell:u=>i(oe,{children:u.resubmission_count?`${u.resubmission_count} ${u.resubmission_count>1?"times":"time"}`:""})},...P?[{name:"RFI Submission Date",selector:u=>u.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:u=>i(he,{fullWidth:!0,size:"small",type:"date",onChange:d=>I(u.id,"rfi_submission_date",d.target.value),value:u.rfi_submission_date?new Date(u.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...P?[{name:"Actions",center:"true",width:"150px",cell:u=>_(De,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i(Re,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{b(u),p("editDailyWork")},children:i(Jr,{})}),i(Re,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(u.id,"deleteDailyWork"),children:i(oa,{})})]})}]:[]],S=u=>{switch(u){case"new":return"primary";case"resubmission":return"warning";case"completed":return"success";case"emergency":return"danger";default:return""}},I=async(u,d,D)=>{var C,M;try{const E=await Yn.post(route("dailyWorks.update"),{id:u,[d]:D});E.status===200?(t(A=>A.map(V=>V.id===u?{...V,[d]:D}:V)),Ae.success(...E.data.messages||"Task updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})):Ae.error(E.data.error||`Failed to update task ${[d]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}catch(E){Ae.error(((M=(C=E.response)==null?void 0:C.data)==null?void 0:M.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}};return _("div",{children:[n&&i(ia,{}),i(Nr,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:y.palette.text.primary}}}),i(Mi,{classNames:{base:"max-h-[84vh] overflow-scroll",table:"min-h-[84vh]"},columns:w,data:e,loading:n,loadingComponent:i(ht,{}),defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},Ti=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=Je(),[o,c]=f.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[s,p]=f.useState({}),[b,g]=f.useState(!1),[v,h]=f.useState(!1);f.useEffect(()=>{const T=Object.values(o).some(w=>w!=="");h(T)},[o]);const y=T=>{const{name:w,value:S}=T.target;c(I=>({...I,[w]:S}))};async function P(T){T.preventDefault(),g(!0);const w=new Promise(async(S,I)=>{try{const u=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),d=await u.json();u.ok?(r(D=>D.map(C=>C.id===o.id?{...C,...o}:C)),t(),S(d.message?[d.message]:d.messages),g(!1),t(),console.log(d.message?[d.message]:d.messages)):(g(!1),p(d.errors),I(d.errors),console.error(d.errors))}catch(u){g(!1),t(),console.log(u),I(["An unexpected error occurred."])}});Ae.promise(w,{pending:{render(){return _("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:S}){return i(oe,{children:S.map((I,u)=>i("div",{children:I},u))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:S}){return i(oe,{children:S.map((I,u)=>i("div",{children:I},u))})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return _(Wt,{open:e,onClose:t,children:[_(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Add Task"}),i(Re,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:i(fn,{})})]}),_("form",{onSubmit:P,children:[i(Vt,{children:_(ue,{container:!0,spacing:2,children:[i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:y,error:!!s.date,helperText:s.date})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:y,error:!!s.number,helperText:s.number})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:y,error:!!s.planned_time,helperText:s.planned_time})}),i(ue,{item:!0,xs:12,md:6,children:_(zr,{fullWidth:!0,children:[i(Hr,{id:"type-label",children:"Type"}),_(Wr,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:y,error:!!s.type,helperText:s.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[i(Le,{value:"Structure",children:"Structure"}),i(Le,{value:"Embankment",children:"Embankment"}),i(Le,{value:"Pavement",children:"Pavement"})]}),i(Br,{children:s.type})]})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:y,error:!!s.location,helperText:s.location})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:y,error:!!s.description,helperText:s.description})}),i(ue,{item:!0,xs:12,md:6,children:_(he,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:y,error:!!s.side,helperText:s.side,children:[i(Le,{value:"SR-R",children:"SR-R"}),i(Le,{value:"SR-L",children:"SR-L"}),i(Le,{value:"TR-R",children:"TR-R"}),i(Le,{value:"TR-L",children:"TR-L"})]})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:y,error:!!s.qty_layer,helperText:s.qty_layer})})]})}),i(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:i(gn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:b,children:"Submit"})})]})]})},Ei=({open:e,handleClose:t,handleDelete:n})=>(Je(),_(Wt,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[i(Nt,{id:"alert-dialog-title",children:"Confirm Deletion"}),i(Vt,{children:i(Ur,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),_(zt,{children:[i(dt,{onClick:t,color:"primary",children:"Cancel"}),i(dt,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),Ai=({open:e,closeModal:t,data:n,users:r})=>{f.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[c,s]=f.useState(o.map(g=>({...g,checked:!0}))),p=g=>{const v=[...c];v[g].checked=!v[g].checked,s(v)},b=async g=>{const v=new Promise((h,y)=>{try{const P=n.map(S=>{const I={};return g.forEach(u=>{if(u.checked)if(u.key==="incharge"||u.key==="assigned"){const d=r.find(D=>D.id===S[u.key]);I[u.label]=d?d.name:"N/A"}else if(u.key==="status"){const d=S[u.key];I[u.label]=d.charAt(0).toUpperCase()+d.slice(1)}else I[u.label]=S[u.key]}),I}),T=Qt.json_to_sheet(P),w=Qt.book_new();Qt.book_append_sheet(w,T,"Daily Works"),la(w,"DailyWorks.xlsx"),h("Export successful!"),t()}catch(P){y("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",P)}});Ae.promise(v,{pending:{render(){return _("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:h}){return i(oe,{children:h})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:h}){return i(oe,{children:h})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return _(Wt,{open:e,onClose:t,children:[_(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Export Daily Works"}),i(Re,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:i(fn,{})})]}),i(Vt,{children:_(Kr,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[i(Yr,{children:_(Cn,{children:[i(xt,{children:"Column Label"}),i(xt,{align:"center",children:"Include in Export"})]})}),i(Xr,{children:c.map((g,v)=>_(Cn,{children:[i(xt,{children:g.label}),i(xt,{align:"center",children:i(Gr,{checked:g.checked,onChange:()=>p(v)})})]},g.key))})]})}),i(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:i(gn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>b(c),startIcon:i(rn,{}),children:"Download"})})]})};var Oi=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bt(e,t){var n=_i(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function _i(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=Oi.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var ji=[".DS_Store","Thumbs.db"];function $i(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return At(e)&&Li(e.dataTransfer)?[2,Hi(e.dataTransfer,e.type)]:Ni(e)?[2,Vi(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,zi(e)]:[2,[]]})})}function Li(e){return At(e)}function Ni(e){return At(e)&&At(e.target)}function At(e){return typeof e=="object"&&e!==null}function Vi(e){return sn(e.target.files).map(function(t){return bt(t)})}function zi(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return bt(r)})]}})})}function Hi(e,t){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(a){switch(a.label){case 0:return e.items?(n=sn(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Wi))]):[3,2];case 1:return r=a.sent(),[2,$n(gr(r))];case 2:return[2,$n(sn(e.files).map(function(o){return bt(o)}))]}})})}function $n(e){return e.filter(function(t){return ji.indexOf(t.name)===-1})}function sn(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Wi(e){if(typeof e.webkitGetAsEntry!="function")return Ln(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?hr(t):Ln(e)}function gr(e){return e.reduce(function(t,n){return wn(wn([],Rn(t),!1),Rn(Array.isArray(n)?gr(n):[n]),!1)},[])}function Ln(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=bt(t);return Promise.resolve(n)}function Bi(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?hr(e):Ui(e)]})})}function hr(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var c=this;t.readEntries(function(s){return et(c,void 0,void 0,function(){var p,b,g;return tt(this,function(v){switch(v.label){case 0:if(s.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return p=v.sent(),n(p),[3,4];case 3:return b=v.sent(),r(b),[3,4];case 4:return[3,6];case 5:g=Promise.all(s.map(Bi)),a.push(g),o(),v.label=6;case 6:return[2]}})})},function(s){r(s)})}o()})}function Ui(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=bt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Ki=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(c){var s=c.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):a===s})}return!0};function Nn(e){return Gi(e)||Xi(e)||br(e)||Yi()}function Yi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gi(e){if(Array.isArray(e))return ln(e)}function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vn(Object(n),!0).forEach(function(r){mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){return Zi(e)||Qi(e,t)||br(e,t)||qi()}function qi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function br(e,t){if(e){if(typeof e=="string")return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}}function ln(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,s;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,s=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Zi(e){if(Array.isArray(e))return e}var Ji="file-invalid-type",es="file-too-large",ts="file-too-small",ns="too-many-files",rs=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Ji,message:"File type must be ".concat(n)}},Hn=function(t){return{code:es,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Wn=function(t){return{code:ts,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},as={code:ns,message:"Too many files"};function yr(e,t){var n=e.type==="application/x-moz-file"||Ki(e,t);return[n,n?null:rs(t)]}function vr(e,t,n){if(Ne(e.size))if(Ne(t)&&Ne(n)){if(e.size>n)return[!1,Hn(n)];if(e.size<t)return[!1,Wn(t)]}else{if(Ne(t)&&e.size<t)return[!1,Wn(t)];if(Ne(n)&&e.size>n)return[!1,Hn(n)]}return[!0,null]}function Ne(e){return e!=null}function os(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,c=e.maxFiles,s=e.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(p){var b=yr(p,n),g=pt(b,1),v=g[0],h=vr(p,r,a),y=pt(h,1),P=y[0],T=s?s(p):null;return v&&P&&!T})}function Ot(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function wt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Bn(e){e.preventDefault()}function is(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ss(e){return e.indexOf("Edge/")!==-1}function ls(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return is(e)||ss(e)}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return t.some(function(s){return!Ot(r)&&s&&s.apply(void 0,[r].concat(o)),Ot(r)})}}function cs(){return"showOpenFilePicker"in window}function us(e){if(Ne(e)){var t=Object.entries(e).filter(function(n){var r=pt(n,2),a=r[0],o=r[1],c=!0;return Dr(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(xr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var a=pt(r,2),o=a[0],c=a[1];return zn(zn({},n),{},mr({},o,c))},{});return[{description:"Files",accept:t}]}return e}function ds(e){if(Ne(e))return Object.entries(e).reduce(function(t,n){var r=pt(n,2),a=r[0],o=r[1];return[].concat(Nn(t),[a],Nn(o))},[]).filter(function(t){return Dr(t)||xr(t)}).join(",")}function ps(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function fs(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Dr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function xr(e){return/^.*\.[\w]+$/.test(e)}var gs=["children"],hs=["open"],ms=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bs=["refKey","onChange","onClick"];function ys(e){return xs(e)||Ds(e)||Cr(e)||vs()}function vs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ds(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xs(e){if(Array.isArray(e))return cn(e)}function en(e,t){return ws(e)||Ps(e,t)||Cr(e,t)||Cs()}function Cs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(e,t){if(e){if(typeof e=="string")return cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(e,t)}}function cn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ps(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,s;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,s=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function ws(e){if(Array.isArray(e))return e}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(r){un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(e==null)return{};var n=Rs(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rs(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var xn=f.forwardRef(function(e,t){var n=e.children,r=_t(e,gs),a=wr(r),o=a.open,c=_t(a,hs);return f.useImperativeHandle(t,function(){return{open:o}},[o]),Mt.createElement(f.Fragment,null,n(Z(Z({},c),{},{open:o})))});xn.displayName="Dropzone";var Pr={disabled:!1,getFilesFromEvent:$i,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xn.defaultProps=Pr;xn.propTypes={children:l.func,accept:l.objectOf(l.arrayOf(l.string)),multiple:l.bool,preventDropOnDocument:l.bool,noClick:l.bool,noKeyboard:l.bool,noDrag:l.bool,noDragEventsBubbling:l.bool,minSize:l.number,maxSize:l.number,maxFiles:l.number,disabled:l.bool,getFilesFromEvent:l.func,onFileDialogCancel:l.func,onFileDialogOpen:l.func,useFsAccessApi:l.bool,autoFocus:l.bool,onDragEnter:l.func,onDragLeave:l.func,onDragOver:l.func,onDrop:l.func,onDropAccepted:l.func,onDropRejected:l.func,onError:l.func,validator:l.func};var dn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Z(Z({},Pr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,s=t.multiple,p=t.maxFiles,b=t.onDragEnter,g=t.onDragLeave,v=t.onDragOver,h=t.onDrop,y=t.onDropAccepted,P=t.onDropRejected,T=t.onFileDialogCancel,w=t.onFileDialogOpen,S=t.useFsAccessApi,I=t.autoFocus,u=t.preventDropOnDocument,d=t.noClick,D=t.noKeyboard,C=t.noDrag,M=t.noDragEventsBubbling,E=t.onError,A=t.validator,V=f.useMemo(function(){return ds(n)},[n]),H=f.useMemo(function(){return us(n)},[n]),G=f.useMemo(function(){return typeof w=="function"?w:Kn},[w]),B=f.useMemo(function(){return typeof T=="function"?T:Kn},[T]),N=f.useRef(null),U=f.useRef(null),$=f.useReducer(ks,dn),z=en($,2),ee=z[0],L=z[1],se=ee.isFocused,W=ee.isFileDialogActive,le=f.useRef(typeof window<"u"&&window.isSecureContext&&S&&cs()),be=function(){!le.current&&W&&setTimeout(function(){if(U.current){var F=U.current.files;F.length||(L({type:"closeDialog"}),B())}},300)};f.useEffect(function(){return window.addEventListener("focus",be,!1),function(){window.removeEventListener("focus",be,!1)}},[U,W,B,le]);var re=f.useRef([]),ke=function(F){N.current&&N.current.contains(F.target)||(F.preventDefault(),re.current=[])};f.useEffect(function(){return u&&(document.addEventListener("dragover",Bn,!1),document.addEventListener("drop",ke,!1)),function(){u&&(document.removeEventListener("dragover",Bn),document.removeEventListener("drop",ke))}},[N,u]),f.useEffect(function(){return!r&&I&&N.current&&N.current.focus(),function(){}},[N,I,r]);var ie=f.useCallback(function(x){E?E(x):console.error(x)},[E]),R=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x),re.current=[].concat(ys(re.current),[x.target]),wt(x)&&Promise.resolve(a(x)).then(function(F){if(!(Ot(x)&&!M)){var J=F.length,te=J>0&&os({files:F,accept:V,minSize:c,maxSize:o,multiple:s,maxFiles:p,validator:A}),ae=J>0&&!te;L({isDragAccept:te,isDragReject:ae,isDragActive:!0,type:"setDraggedFiles"}),b&&b(x)}}).catch(function(F){return ie(F)})},[a,b,ie,M,V,c,o,s,p,A]),q=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x);var F=wt(x);if(F&&x.dataTransfer)try{x.dataTransfer.dropEffect="copy"}catch{}return F&&v&&v(x),!1},[v,M]),Y=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x);var F=re.current.filter(function(te){return N.current&&N.current.contains(te)}),J=F.indexOf(x.target);J!==-1&&F.splice(J,1),re.current=F,!(F.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wt(x)&&g&&g(x))},[N,g,M]),pe=f.useCallback(function(x,F){var J=[],te=[];x.forEach(function(ae){var xe=yr(ae,V),Ie=en(xe,2),Ce=Ie[0],ot=Ie[1],it=vr(ae,c,o),Be=en(it,2),st=Be[0],Ue=Be[1],lt=A?A(ae):null;if(Ce&&st&&!lt)J.push(ae);else{var je=[ot,Ue];lt&&(je=je.concat(lt)),te.push({file:ae,errors:je.filter(function(Yt){return Yt})})}}),(!s&&J.length>1||s&&p>=1&&J.length>p)&&(J.forEach(function(ae){te.push({file:ae,errors:[as]})}),J.splice(0)),L({acceptedFiles:J,fileRejections:te,type:"setFiles"}),h&&h(J,te,F),te.length>0&&P&&P(te,F),J.length>0&&y&&y(J,F)},[L,s,V,c,o,p,h,y,P,A]),fe=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x),re.current=[],wt(x)&&Promise.resolve(a(x)).then(function(F){Ot(x)&&!M||pe(F,x)}).catch(function(F){return ie(F)}),L({type:"reset"})},[a,pe,ie,M]),k=f.useCallback(function(){if(le.current){L({type:"openDialog"}),G();var x={multiple:s,types:H};window.showOpenFilePicker(x).then(function(F){return a(F)}).then(function(F){pe(F,null),L({type:"closeDialog"})}).catch(function(F){ps(F)?(B(F),L({type:"closeDialog"})):fs(F)?(le.current=!1,U.current?(U.current.value=null,U.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(F)});return}U.current&&(L({type:"openDialog"}),G(),U.current.value=null,U.current.click())},[L,G,B,S,pe,ie,H,s]),Se=f.useCallback(function(x){!N.current||!N.current.isEqualNode(x.target)||(x.key===" "||x.key==="Enter"||x.keyCode===32||x.keyCode===13)&&(x.preventDefault(),k())},[N,k]),yt=f.useCallback(function(){L({type:"focus"})},[]),ce=f.useCallback(function(){L({type:"blur"})},[]),at=f.useCallback(function(){d||(ls()?setTimeout(k,0):k())},[d,k]),Me=function(F){return r?null:F},He=function(F){return D?null:Me(F)},We=function(F){return C?null:Me(F)},_e=function(F){M&&F.stopPropagation()},ge=f.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=x.refKey,J=F===void 0?"ref":F,te=x.role,ae=x.onKeyDown,xe=x.onFocus,Ie=x.onBlur,Ce=x.onClick,ot=x.onDragEnter,it=x.onDragOver,Be=x.onDragLeave,st=x.onDrop,Ue=_t(x,ms);return Z(Z(un({onKeyDown:He(we(ae,Se)),onFocus:He(we(xe,yt)),onBlur:He(we(Ie,ce)),onClick:Me(we(Ce,at)),onDragEnter:We(we(ot,R)),onDragOver:We(we(it,q)),onDragLeave:We(we(Be,Y)),onDrop:We(we(st,fe)),role:typeof te=="string"&&te!==""?te:"presentation"},J,N),!r&&!D?{tabIndex:0}:{}),Ue)}},[N,Se,yt,ce,at,R,q,Y,fe,D,C,r]),vt=f.useCallback(function(x){x.stopPropagation()},[]),Fe=f.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=x.refKey,J=F===void 0?"ref":F,te=x.onChange,ae=x.onClick,xe=_t(x,bs),Ie=un({accept:V,multiple:s,type:"file",style:{display:"none"},onChange:Me(we(te,fe)),onClick:Me(we(ae,vt)),tabIndex:-1},J,U);return Z(Z({},Ie),xe)}},[U,n,s,fe,r]);return Z(Z({},ee),{},{isFocused:se&&!r,getRootProps:ge,getInputProps:Fe,rootRef:N,inputRef:U,open:Me(k)})}function ks(e,t){switch(t.type){case"focus":return Z(Z({},e),{},{isFocused:!0});case"blur":return Z(Z({},e),{},{isFocused:!1});case"openDialog":return Z(Z({},dn),{},{isFileDialogActive:!0});case"closeDialog":return Z(Z({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Z(Z({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Z(Z({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Z({},dn);default:return e}}function Kn(){}const Ss=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=f.useState(null),[c,s]=f.useState(!1),p=Je(),b=w=>{o(w[0])},g=()=>{o(null)},{getRootProps:v,getInputProps:h,isDragActive:y}=wr({onDrop:b,noClick:!!a,noKeyboard:!!a}),P=w=>{if(!w)return i($a,{fontSize:"large"});const S=w.type;return S.startsWith("image/")?i(Image,{fontSize:"large"}):S==="application/pdf"?i(Va,{fontSize:"large"}):S==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?i(La,{fontSize:"large"}):i(Na,{fontSize:"large"})};return _(Wt,{open:e,onClose:t,children:[_(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Import Daily Works"}),i(Re,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:i(fn,{})})]}),_("form",{onSubmit:async w=>{w.preventDefault(),s(!0);const S=new FormData;S.append("file",a);const I=new Promise(async(u,d)=>{try{const D=await axios.post(route("dailyWorks.import"),S);console.log(D),D.status===200&&(r(D.data.data),n(D.data.total),u(D.data.message||"Daily works imported successfully."),t())}catch(D){console.log(D.response),console.log(D.response.data.errors),d(`Error: ${D.message||"An unexpected error occurred."}`)}finally{s(!1)}});Ae.promise(I,{pending:{render(){return _("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:u}){return i(oe,{children:u})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:u}){return i(oe,{children:u})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})},children:[i(Vt,{children:i(ue,{container:!0,spacing:2,children:i(ue,{item:!0,xs:12,children:_(De,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[i("input",{...h()}),i(Re,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:P(a)}),a?_(oe,{children:[_(Ee,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),i(Re,{onClick:g,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:i(da,{})})]}):i(Ee,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),i(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:i(gn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:c,startIcon:i(nn,{}),children:"Upload"})})]})]})};sa.extend(ra);const Is=Mt.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:c})=>{const s=Je(),[p,b]=f.useState([]),[g,v]=f.useState(!1),[h,y]=f.useState(0),[P,T]=f.useState(0),[w,S]=f.useState([]),[I,u]=f.useState(),[d,D]=f.useState(null),[C,M]=f.useState(null),[E,A]=f.useState(""),V=pn(s.breakpoints.down("md")),[H,G]=f.useState(30),[B,N]=f.useState(1),U=async(R,q,Y)=>{var pe,fe;try{const k=await Yn.get(route("dailyWorks.paginate"),{params:{page:R,perPage:q,search:E,status:Y.status!=="all"?Y.status:"",inCharge:Y.incharge!=="all"?Y.incharge:"",startDate:(pe=Y.startDate)==null?void 0:pe.format("YYYY-MM-DD"),endDate:(fe=Y.endDate)==null?void 0:fe.format("YYYY-MM-DD")}});b(k.data.data),y(k.data.total),T(k.data.last_page),v(!1)}catch(k){console.log(k),Ae.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}),v(!1)}},$=()=>{const R=new Promise(async(q,Y)=>{var pe,fe;try{const k=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:d,page:B,perPage:H,search:E,status:W.status!=="all"?W.status:"",inCharge:W.incharge!=="all"?W.incharge:"",startDate:(pe=W.startDate)==null?void 0:pe.format("YYYY-MM-DD"),endDate:(fe=W.endDate)==null?void 0:fe.format("YYYY-MM-DD")})}),Se=await k.json();k.ok?(b(Se.data),y(Se.total),q("Daily work deleted successfully")):Y(Se.error||"Failed to delete task")}catch(k){console.error("Error deleting task:",k),Y("An error occurred while deleting the task")}finally{ee()}});Ae.promise(R,{pending:{render(){return _("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},success:{render({data:q}){return i(oe,{children:q})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},error:{render({data:q}){return i(oe,{children:q})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}})},z=f.useCallback((R,q)=>{D(R),M(q)},[]),ee=f.useCallback(()=>{M(null),D(null)},[]),L=f.useCallback(R=>{M(R)},[]),se=f.useCallback(()=>{M(null)},[]),[W,le]=f.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),be=f.useCallback((R,q)=>{if(R==="dates"){const[Y,pe]=q;le(fe=>({...fe,startDate:Y,endDate:pe}))}else le(Y=>({...Y,[R]:q}))},[]),re=R=>{const q=R.target.value.toLowerCase();A(q)};f.useEffect(()=>{v(!0),U(B,H,W)},[B,H,W,E]);const ke=R=>{N(R)},ie=R=>{switch(R){case"new":return"primary";case"resubmission":return"warning";case"completed":return"success";case"emergency":return"danger";default:return""}};return _(oe,{children:[i(_r,{title:t}),C==="editDailyWork"&&i(Ti,{open:C==="editDailyWork",currentRow:I,setData:b,closeModal:se}),C==="deleteDailyWork"&&i(Ei,{open:C==="deleteDailyWork",handleClose:ee,handleDelete:$,setData:b}),C==="importDailyWorks"&&i(Ss,{open:C==="importDailyWorks",closeModal:se,setData:b,setTotalRows:y}),C==="exportDailyWorks"&&i(Ai,{open:C==="exportDailyWorks",closeModal:se,data:p,users:a}),i(De,{sx:{display:"flex",justifyContent:"center",p:2},children:i(qr,{in:!0,children:_(ea,{children:[i(Qr,{title:t,sx:{padding:"24px"},action:_(De,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&i(Re,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:i(aa,{})}),e.roles.includes("Administrator")&&i(oe,{children:V?_(oe,{children:[i(Re,{title:"Import Daily Works",color:"warning",onClick:()=>L("importDailyWorks"),children:i(nn,{})}),i(Re,{title:"Export Daily Works",color:"success",onClick:()=>L("exportDailyWorks"),children:i(rn,{})})]}):_(oe,{children:[i(dt,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:i(nn,{}),onClick:()=>L("importDailyWorks"),children:"Import"}),i(dt,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:i(rn,{}),onClick:()=>L("exportDailyWorks"),children:"Export"})]})})]})}),i(Pn,{children:i(De,{children:_(ue,{container:!0,spacing:2,children:[i(ue,{item:!0,xs:12,sm:6,md:3,children:i(hn,{dateAdapter:ja,children:i(De,{display:"flex",alignItems:"center",children:i(Ii,{value:[W.startDate,W.endDate],onChange:R=>be("dates",R),localeText:{start:"Start date",end:"End date"},renderInput:(R,q)=>_(oe,{children:[i(he,{...R,fullWidth:!0,size:"small"}),i(De,{sx:{mx:1},children:" to "}),i(he,{...q,fullWidth:!0,size:"small"})]})})})})}),i(ue,{item:!0,xs:6,sm:4,md:3,children:_(ut,{fullWidth:!0,variant:"bordered","aria-label":"Status",color:ie(W.status),placeholder:"Select Status",value:W.status,onChange:R=>be("status",R.target.value),selectedKeys:[W.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"all",children:"All"},"all"),i(ve,{value:"completed",children:"Completed"},"completed"),i(ve,{value:"new",children:"New"},"new"),i(ve,{value:"resubmission",children:"Resubmission"},"resubmission"),i(ve,{value:"emergency",children:"Emergency"},"emergency")]})}),e.roles.includes("Administrator")&&i(ue,{item:!0,xs:6,sm:4,md:3,children:_(ut,{fullWidth:!0,"aria-label":"Incharge",variant:"bordered",placeholder:"Select Status",name:"incharge",value:W.incharge,onChange:R=>be("incharge",R.target.value),selectedKeys:[W.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"all",children:"All"},"all"),n.allInCharges.map(R=>i(ve,{value:R.id,children:R.name},R.id))]})})]})})}),_(Pn,{children:[i(he,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:E,onChange:re,InputProps:{startAdornment:i(Zr,{position:"start",children:i(ca,{})})}}),i(Fi,{setData:b,filteredData:w,setFilteredData:S,reports:o,setCurrentRow:u,currentPage:B,setCurrentPage:N,setLoading:v,handleClickOpen:z,openModal:L,juniors:n.juniors,totalRows:h,lastPage:P,loading:g,allData:p,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:c}),h>=30&&i("div",{className:"py-2 px-2 flex justify-center items-center",children:i(ua,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:B,total:P,onChange:ke})})]})]})})})]})});Is.layout=e=>i(ta,{children:e});export{Is as default};
