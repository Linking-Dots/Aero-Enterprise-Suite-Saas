import{t as Mt,h as Dt,n as at,L as ot,a8 as De,o as st,P as it,w as ke,a9 as Ft,a2 as Fe,a3 as At,a4 as It,x as Ot,y as Kt,z as Ht,C as Rt,s as te,r as Nt,q as jt,j as B,a as b,d as Ae,c as lt,B as re,Y as Bt,G as zt,F as V}from"./app-CUflWZJ2.js";import{w as M,r as f,R as ve,ak as ct,O as Wt,_ as Ut,x as Gt,H as Vt,j as ut,as as Yt,t as dt,B as ne,X as Xt,u as qt,e as Zt,g as Jt,c as ye,f as Ie,a as Oe,G as Ke}from"./vendor-B6hDaovV.js";import{L as Qt,A as er}from"./App-BcGBva3F.js";import{X as tr,m as rr,A as nr}from"./minMax-CMKQ5KaB.js";import{u as ar,$ as He,i as ft}from"./chunk-IR2E3HZF-C3aYGPTj.js";import{c as ce}from"./DOMLayoutDelegate-DmoeY5YL.js";import{l as Re,s as Ne}from"./chunk-QEQ4EHOG-CH9Ubon2.js";import{t as or}from"./chunk-KQ7OR4H5-BVSGNVgM.js";import{d as sr}from"./dayjs.min-Bv1JXAGj.js";import{d as ir,p as lr}from"./Search-D5vjmy2S.js";import{U as je}from"./Upload-BGLGrciy.js";import{D as Be}from"./Download-DeNyyfa7.js";import"./useFormValidationState-CsHXWPZ_.js";import"./useLabel-CRWTKPxZ.js";var ze=Mt({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...Dt],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),cr="flex mx-1 text-current self-center",ur=e=>M.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[M.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),M.jsx("path",{d:"M15 3h6v6"}),M.jsx("path",{d:"M10 14L21 3"})]});function dr(e){var t,r;const n=at(),[o,u]=ot(e,De.variantKeys),{ref:l,as:v,children:p,color:y="default",size:$="md",variant:T="solid",radius:i,isDisabled:g=!1,isIconOnly:S=!1,disableRipple:E=(t=n==null?void 0:n.disableRipple)!=null?t:!1,disableAnimation:x=(r=n==null?void 0:n.disableAnimation)!=null?r:!1,className:h,...k}=o,P=v||"div",L=st(l),_=f.useMemo(()=>De({...u,className:h}),[it(u),h]),F=f.useMemo(()=>({size:$,color:y,variant:T,radius:i,isIconOnly:S,isDisabled:g,disableAnimation:x,disableRipple:E,fullWidth:!!(e!=null&&e.fullWidth)}),[$,y,T,i,g,S,x,E,e==null?void 0:e.fullWidth]),A=f.useCallback(()=>({role:"group",...k}),[k]);return{Component:P,children:p,domRef:L,context:F,classNames:_,getButtonGroupProps:A}}var pt=ke((e,t)=>{const{Component:r,domRef:n,context:o,children:u,classNames:l,getButtonGroupProps:v}=dr({...e,ref:t});return M.jsx(Ft,{value:o,children:M.jsx(r,{ref:n,className:l,...v(),children:u})})});pt.displayName="NextUI.ButtonGroup";var fr=pt;const Ce=typeof document<"u"?ve.useLayoutEffect:()=>{};function X(e){const t=f.useRef(null);return Ce(()=>{t.current=e},[e]),f.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}let We=new Map;function pr(e,t){if(e===t)return e;let r=We.get(e);if(r)return r(t),t;let n=We.get(t);return n?(n(e),e):t}function gt(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const R=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},J=e=>e&&"window"in e&&e.window===e?e:R(e).defaultView||window;function Q(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=gt(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=ct(u,l):o==="id"&&u&&l?t.id=pr(u,l):t[o]=l!==void 0?l:u}}return t}const gr=new Set(["id"]),br=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),vr=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),hr=/^(data-.*)$/;function mr(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,u={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(gr.has(l)||r&&br.has(l)||n&&vr.has(l)||o!=null&&o.has(l)||hr.test(l))&&(u[l]=e[l]);return u}function U(e){if(yr())e.focus({preventScroll:!0});else{let t=$r(e);e.focus(),xr(t)}}let ue=null;function yr(){if(ue==null){ue=!1;try{document.createElement("div").focus({get preventScroll(){return ue=!0,!0}})}catch{}}return ue}function $r(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function xr(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function he(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Se(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function oe(){return Se(/^Mac/i)}function Tr(){return Se(/^iPhone/i)}function bt(){return Se(/^iPad/i)||oe()&&navigator.maxTouchPoints>1}function vt(){return Tr()||bt()}function Pr(){return he(/AppleWebKit/i)&&!wr()}function wr(){return he(/Chrome/i)}function ht(){return he(/Android/i)}function Er(){return he(/Firefox/i)}const kr=f.createContext({isNative:!0,open:Lr,useHref:e=>e});function mt(){return f.useContext(kr)}function Cr(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function ee(e,t,r=!0){var n,o;let{metaKey:u,ctrlKey:l,altKey:v,shiftKey:p}=t;Er()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(oe()?u=!0:l=!0);let y=Pr()&&oe()&&!bt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:l,altKey:v,shiftKey:p}):new MouseEvent("click",{metaKey:u,ctrlKey:l,altKey:v,shiftKey:p,bubbles:!0,cancelable:!0});ee.isOpening=r,U(e),e.dispatchEvent(y),ee.isOpening=!1}ee.isOpening=!1;function Sr(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function Lr(e,t){Sr(e,r=>ee(r,t))}function _r(e){let t=mt();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let q=new Map,Te=new Set;function Ue(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);o||(o=new Set,q.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),q.delete(n.target)),q.size===0)){for(let u of Te)u();Te.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?Ue():document.addEventListener("DOMContentLoaded",Ue));function yt(e){requestAnimationFrame(()=>{q.size===0?e():Te.add(e)})}function Mr(){let e=f.useRef(new Map),t=f.useCallback((o,u,l,v)=>{let p=v!=null&&v.once?(...y)=>{e.current.delete(l),l(...y)}:l;e.current.set(l,{type:u,eventTarget:o,fn:p,options:v}),o.addEventListener(u,l,v)},[]),r=f.useCallback((o,u,l,v)=>{var p;let y=((p=e.current.get(l))===null||p===void 0?void 0:p.fn)||l;o.removeEventListener(u,y,v),e.current.delete(l)},[]),n=f.useCallback(()=>{e.current.forEach((o,u)=>{r(o.eventTarget,o.type,u,o.options)})},[r]);return f.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function $t(e,t){Ce(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:ht()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Dr(e){return!ht()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let Z="default",we="",ge=new WeakMap;function Ge(e){if(vt()){if(Z==="default"){const t=R(e);we=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Z="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(ge.set(e,e.style.userSelect),e.style.userSelect="none")}function de(e){if(vt()){if(Z!=="disabled")return;Z="restoring",setTimeout(()=>{yt(()=>{if(Z==="restoring"){const t=R(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=we||""),we="",Z="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&ge.has(e)){let t=ge.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),ge.delete(e)}}const xt=ve.createContext({register:()=>{}});xt.displayName="PressResponderContext";function Fr(e){let t=f.useContext(xt);if(t){let{register:r,...n}=t;e=Q(n,e),r()}return $t(t,e.ref),e}var fe=new WeakMap;class pe{continuePropagation(){Fe(this,fe,!1)}get shouldStopPropagation(){return At(this,fe)}constructor(t,r,n){It(this,fe,{writable:!0,value:void 0}),Fe(this,fe,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Ve=Symbol("linkClicked");function Ar(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:o,onPressUp:u,isDisabled:l,isPressed:v,preventFocusOnPress:p,shouldCancelOnPointerExit:y,allowTextSelectionOnPress:$,ref:T,...i}=Fr(e),[g,S]=f.useState(!1),E=f.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:x,removeAllGlobalListeners:h}=Mr(),k=X((a,m)=>{let D=E.current;if(l||D.didFirePressStart)return!1;let d=!0;if(D.isTriggeringEvent=!0,n){let w=new pe("pressstart",m,a);n(w),d=w.shouldStopPropagation}return r&&r(!0),D.isTriggeringEvent=!1,D.didFirePressStart=!0,S(!0),d}),P=X((a,m,D=!0)=>{let d=E.current;if(!d.didFirePressStart)return!1;d.ignoreClickAfterPress=!0,d.didFirePressStart=!1,d.isTriggeringEvent=!0;let w=!0;if(o){let s=new pe("pressend",m,a);o(s),w=s.shouldStopPropagation}if(r&&r(!1),S(!1),t&&D&&!l){let s=new pe("press",m,a);t(s),w&&(w=s.shouldStopPropagation)}return d.isTriggeringEvent=!1,w}),L=X((a,m)=>{let D=E.current;if(l)return!1;if(u){D.isTriggeringEvent=!0;let d=new pe("pressup",m,a);return u(d),D.isTriggeringEvent=!1,d.shouldStopPropagation}return!0}),_=X(a=>{let m=E.current;m.isPressed&&m.target&&(m.isOverTarget&&m.pointerType!=null&&P(z(m.target,a),m.pointerType,!1),m.isPressed=!1,m.isOverTarget=!1,m.activePointerId=null,m.pointerType=null,h(),$||de(m.target))}),F=X(a=>{y&&_(a)}),A=f.useMemo(()=>{let a=E.current,m={onKeyDown(d){if($e(d.nativeEvent,d.currentTarget)&&d.currentTarget.contains(d.target)){var w;Xe(d.target,d.key)&&d.preventDefault();let s=!0;if(!a.isPressed&&!d.repeat){a.target=d.currentTarget,a.isPressed=!0,s=k(d,"keyboard");let c=d.currentTarget,C=j=>{$e(j,c)&&!j.repeat&&c.contains(j.target)&&a.target&&L(z(a.target,j),"keyboard")};x(R(d.currentTarget),"keyup",gt(C,D),!0)}s&&d.stopPropagation(),d.metaKey&&oe()&&((w=a.metaKeyEvents)===null||w===void 0||w.set(d.key,d.nativeEvent))}else d.key==="Meta"&&(a.metaKeyEvents=new Map)},onClick(d){if(!(d&&!d.currentTarget.contains(d.target))&&d&&d.button===0&&!a.isTriggeringEvent&&!ee.isOpening){let w=!0;if(l&&d.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&!a.isPressed&&(a.pointerType==="virtual"||Pe(d.nativeEvent))){!l&&!p&&U(d.currentTarget);let s=k(d,"virtual"),c=L(d,"virtual"),C=P(d,"virtual");w=s&&c&&C}a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1,w&&d.stopPropagation()}}},D=d=>{var w;if(a.isPressed&&a.target&&$e(d,a.target)){var s;Xe(d.target,d.key)&&d.preventDefault();let C=d.target;P(z(a.target,d),"keyboard",a.target.contains(C)),h(),d.key!=="Enter"&&Le(a.target)&&a.target.contains(C)&&!d[Ve]&&(d[Ve]=!0,ee(a.target,d,!1)),a.isPressed=!1,(s=a.metaKeyEvents)===null||s===void 0||s.delete(d.key)}else if(d.key==="Meta"&&(!((w=a.metaKeyEvents)===null||w===void 0)&&w.size)){var c;let C=a.metaKeyEvents;a.metaKeyEvents=void 0;for(let j of C.values())(c=a.target)===null||c===void 0||c.dispatchEvent(new KeyboardEvent("keyup",j))}};if(typeof PointerEvent<"u"){m.onPointerDown=c=>{if(c.button!==0||!c.currentTarget.contains(c.target))return;if(Dr(c.nativeEvent)){a.pointerType="virtual";return}xe(c.currentTarget)&&c.preventDefault(),a.pointerType=c.pointerType;let C=!0;a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=c.pointerId,a.target=c.currentTarget,!l&&!p&&U(c.currentTarget),$||Ge(a.target),C=k(c,a.pointerType),x(R(c.currentTarget),"pointermove",d,!1),x(R(c.currentTarget),"pointerup",w,!1),x(R(c.currentTarget),"pointercancel",s,!1)),C&&c.stopPropagation()},m.onMouseDown=c=>{c.currentTarget.contains(c.target)&&c.button===0&&(xe(c.currentTarget)&&c.preventDefault(),c.stopPropagation())},m.onPointerUp=c=>{!c.currentTarget.contains(c.target)||a.pointerType==="virtual"||c.button===0&&Y(c,c.currentTarget)&&L(c,a.pointerType||c.pointerType)};let d=c=>{c.pointerId===a.activePointerId&&(a.target&&Y(c,a.target)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,k(z(a.target,c),a.pointerType)):a.target&&a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,P(z(a.target,c),a.pointerType,!1),F(c)))},w=c=>{c.pointerId===a.activePointerId&&a.isPressed&&c.button===0&&a.target&&(Y(c,a.target)&&a.pointerType!=null?P(z(a.target,c),a.pointerType):a.isOverTarget&&a.pointerType!=null&&P(z(a.target,c),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType=null,h(),$||de(a.target))},s=c=>{_(c)};m.onDragStart=c=>{c.currentTarget.contains(c.target)&&_(c)}}else{m.onMouseDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(xe(s.currentTarget)&&s.preventDefault(),a.ignoreEmulatedMouseEvents){s.stopPropagation();return}a.isPressed=!0,a.isOverTarget=!0,a.target=s.currentTarget,a.pointerType=Pe(s.nativeEvent)?"virtual":"mouse",!l&&!p&&U(s.currentTarget),k(s,a.pointerType)&&s.stopPropagation(),x(R(s.currentTarget),"mouseup",d,!1)},m.onMouseEnter=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!0,c=k(s,a.pointerType)),c&&s.stopPropagation()},m.onMouseLeave=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!1,c=P(s,a.pointerType,!1),F(s)),c&&s.stopPropagation()},m.onMouseUp=s=>{s.currentTarget.contains(s.target)&&!a.ignoreEmulatedMouseEvents&&s.button===0&&L(s,a.pointerType||"mouse")};let d=s=>{if(s.button===0){if(a.isPressed=!1,h(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.target&&Y(s,a.target)&&a.pointerType!=null?P(z(a.target,s),a.pointerType):a.target&&a.isOverTarget&&a.pointerType!=null&&P(z(a.target,s),a.pointerType,!1),a.isOverTarget=!1}};m.onTouchStart=s=>{if(!s.currentTarget.contains(s.target))return;let c=Ir(s.nativeEvent);if(!c)return;a.activePointerId=c.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=s.currentTarget,a.pointerType="touch",!l&&!p&&U(s.currentTarget),$||Ge(a.target),k(s,a.pointerType)&&s.stopPropagation(),x(J(s.currentTarget),"scroll",w,!0)},m.onTouchMove=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),C=!0;c&&Y(c,s.currentTarget)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,C=k(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,C=P(s,a.pointerType,!1),F(s)),C&&s.stopPropagation()},m.onTouchEnd=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),C=!0;c&&Y(c,s.currentTarget)&&a.pointerType!=null?(L(s,a.pointerType),C=P(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(C=P(s,a.pointerType,!1)),C&&s.stopPropagation(),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,a.target&&!$&&de(a.target),h()},m.onTouchCancel=s=>{s.currentTarget.contains(s.target)&&(s.stopPropagation(),a.isPressed&&_(s))};let w=s=>{a.isPressed&&s.target.contains(a.target)&&_({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};m.onDragStart=s=>{s.currentTarget.contains(s.target)&&_(s)}}return m},[x,l,p,h,$,_,F,P,k,L]);return f.useEffect(()=>()=>{var a;$||de((a=E.current.target)!==null&&a!==void 0?a:void 0)},[$]),{isPressed:v||g,pressProps:Q(i,A)}}function Le(e){return e.tagName==="A"&&e.hasAttribute("href")}function $e(e,t){const{key:r,code:n}=e,o=t,u=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(o instanceof J(o).HTMLInputElement&&!Tt(o,r)||o instanceof J(o).HTMLTextAreaElement||o.isContentEditable)&&!((u==="link"||!u&&Le(o))&&r!=="Enter")}function Ir(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ye(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const o=r[n];if(o.identifier===t)return o}return null}function z(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Or(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Kr(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Y(e,t){let r=t.getBoundingClientRect(),n=Or(e);return Kr(r,n)}function xe(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Xe(e,t){return e instanceof HTMLInputElement?!Tt(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Le(e)}const Hr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Tt(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Hr.has(e.type)}class Rr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function Nr(e){let t=f.useRef({isFocused:!1,observer:null});Ce(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=X(n=>{e==null||e(n)});return f.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,u=l=>{t.current.isFocused=!1,o.disabled&&r(new Rr("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let v=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:v})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:v}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function jr(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:o}=e;const u=f.useCallback(p=>{if(p.target===p.currentTarget)return n&&n(p),o&&o(!1),!0},[n,o]),l=Nr(u),v=f.useCallback(p=>{const y=R(p.target);p.target===p.currentTarget&&y.activeElement===p.target&&(r&&r(p),o&&o(!0),l(p))},[o,r,l]);return{focusProps:{onFocus:!t&&(r||o||n)?v:void 0,onBlur:!t&&(n||o)?u:void 0}}}let se=null,Br=new Set,ae=new Map,G=!1,Ee=!1;function _e(e,t){for(let r of Br)r(e,t)}function zr(e){return!(e.metaKey||!oe()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function be(e){G=!0,zr(e)&&(se="keyboard",_e("keyboard",e))}function N(e){se="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(G=!0,_e("pointer",e))}function Pt(e){Pe(e)&&(G=!0,se="virtual")}function wt(e){e.target===window||e.target===document||(!G&&!Ee&&(se="virtual",_e("virtual",e)),G=!1,Ee=!1)}function Et(){G=!1,Ee=!0}function qe(e){if(typeof window>"u"||ae.get(J(e)))return;const t=J(e),r=R(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){G=!0,n.apply(this,arguments)},r.addEventListener("keydown",be,!0),r.addEventListener("keyup",be,!0),r.addEventListener("click",Pt,!0),t.addEventListener("focus",wt,!0),t.addEventListener("blur",Et,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",N,!0),r.addEventListener("pointermove",N,!0),r.addEventListener("pointerup",N,!0)):(r.addEventListener("mousedown",N,!0),r.addEventListener("mousemove",N,!0),r.addEventListener("mouseup",N,!0)),t.addEventListener("beforeunload",()=>{kt(e)},{once:!0}),ae.set(t,{focus:n})}const kt=(e,t)=>{const r=J(e),n=R(e);t&&n.removeEventListener("DOMContentLoaded",t),ae.has(r)&&(r.HTMLElement.prototype.focus=ae.get(r).focus,n.removeEventListener("keydown",be,!0),n.removeEventListener("keyup",be,!0),n.removeEventListener("click",Pt,!0),r.removeEventListener("focus",wt,!0),r.removeEventListener("blur",Et,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",N,!0),n.removeEventListener("pointermove",N,!0),n.removeEventListener("pointerup",N,!0)):(n.removeEventListener("mousedown",N,!0),n.removeEventListener("mousemove",N,!0),n.removeEventListener("mouseup",N,!0)),ae.delete(r))};function Wr(e){const t=R(e);let r;return t.readyState!=="loading"?qe(e):(r=()=>{qe(e)},t.addEventListener("DOMContentLoaded",r)),()=>kt(e,r)}typeof document<"u"&&Wr();function Ur(){return se}function Ze(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Gr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Ze(e.onKeyDown),onKeyUp:Ze(e.onKeyUp)}}}function Vr(e){const t=R(e);if(Ur()==="virtual"){let r=t.activeElement;yt(()=>{t.activeElement===r&&e.isConnected&&U(e)})}else U(e)}let Yr=ve.createContext(null);function Xr(e){let t=f.useContext(Yr)||{};$t(t,e);let{ref:r,...n}=t;return n}function qr(e,t){let{focusProps:r}=jr(e),{keyboardProps:n}=Gr(e),o=Q(r,n),u=Xr(t),l=e.isDisabled?{}:u,v=f.useRef(e.autoFocus);return f.useEffect(()=>{v.current&&t.current&&Vr(t.current),v.current=!1},[t]),{focusableProps:Q({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},l)}}function Zr(e,t){let{elementType:r="a",onPress:n,onPressStart:o,onPressEnd:u,onClick:l,isDisabled:v,...p}=e,y={};r!=="a"&&(y={role:"link",tabIndex:v?void 0:0});let{focusableProps:$}=qr(e,t),{pressProps:T,isPressed:i}=Ar({onPress:n,onPressStart:o,onPressEnd:u,isDisabled:v,ref:t}),g=mr(p,{labelable:!0,isLink:r==="a"}),S=Q($,T),E=mt(),x=_r(e);return{isPressed:i,linkProps:Q(g,x,{...S,...y,"aria-disabled":v||void 0,"aria-current":e["aria-current"],onClick:h=>{var k;(k=T.onClick)==null||k.call(T,h),l&&l(h),!E.isNative&&h.currentTarget instanceof HTMLAnchorElement&&h.currentTarget.href&&!h.isDefaultPrevented()&&Cr(h.currentTarget,h)&&e.href&&(h.preventDefault(),E.open(h.currentTarget,h,e.href,e.routerOptions))}})}}let Je=new Map;function Jr(e,t){if(e===t)return e;let r=Je.get(e);if(r)return r(t),t;let n=Je.get(t);return n?(n(e),e):t}function Qr(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function en(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=Qr(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=ct(u,l):o==="id"&&u&&l?t.id=Jr(u,l):t[o]=l!==void 0?l:u}}return t}function tn(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,o=f.useRef({isFocused:!1,isFocusVisible:t||Ot()}),[u,l]=f.useState(!1),[v,p]=f.useState(()=>o.current.isFocused&&o.current.isFocusVisible),y=f.useCallback(()=>p(o.current.isFocused&&o.current.isFocusVisible),[]),$=f.useCallback(g=>{o.current.isFocused=g,l(g),y()},[y]);Kt(g=>{o.current.isFocusVisible=g,y()},[],{isTextInput:r});let{focusProps:T}=Ht({isDisabled:n,onFocusChange:$}),{focusWithinProps:i}=Rt({isDisabled:!n,onFocusWithinChange:$});return{isFocused:u,isFocusVisible:v,focusProps:n?i:T}}function rn(e){var t,r,n,o;const u=at(),[l,v]=ot(e,ze.variantKeys),{ref:p,as:y,children:$,anchorIcon:T,isExternal:i=!1,showAnchorIcon:g=!1,autoFocus:S=!1,className:E,onPress:x,onPressStart:h,onPressEnd:k,onClick:P,...L}=l,_=y||"a",F=st(p),A=(r=(t=e==null?void 0:e.disableAnimation)!=null?t:u==null?void 0:u.disableAnimation)!=null?r:!1,{linkProps:a}=Zr({...L,onPress:x,onPressStart:h,onPressEnd:k,onClick:P,isDisabled:e.isDisabled,elementType:`${y}`},F),{isFocused:m,isFocusVisible:D,focusProps:d}=tn({autoFocus:S});i&&(L.rel=(n=L.rel)!=null?n:"noopener noreferrer",L.target=(o=L.target)!=null?o:"_blank");const w=f.useMemo(()=>ze({...v,disableAnimation:A,className:E}),[it(v),A,E]),s=f.useCallback(()=>({ref:F,className:w,"data-focus":te(m),"data-disabled":te(e.isDisabled),"data-focus-visible":te(D),...en(d,a,L)}),[w,m,D,d,a,L]);return{Component:_,children:$,anchorIcon:T,showAnchorIcon:g,getLinkProps:s}}var Ct=ke((e,t)=>{const{Component:r,children:n,showAnchorIcon:o,anchorIcon:u=M.jsx(ur,{className:cr}),getLinkProps:l}=rn({ref:t,...e});return M.jsx(r,{...l(),children:M.jsxs(M.Fragment,{children:[n,o&&u]})})});Ct.displayName="NextUI.Link";var nn=Ct,an=f.useLayoutEffect,on=function(t){var r=f.useRef(t);return an(function(){r.current=t}),r},Qe=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},sn=function(t,r){var n=f.useRef();return f.useCallback(function(o){t.current=o,n.current&&Qe(n.current,null),n.current=r,r&&Qe(r,o)},[r])},et={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},ln=function(t){Object.keys(et).forEach(function(r){t.style.setProperty(r,et[r],"important")})},tt=ln,I=null,rt=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function cn(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),I||(I=document.createElement("textarea"),I.setAttribute("tabindex","-1"),I.setAttribute("aria-hidden","true"),tt(I)),I.parentNode===null&&document.body.appendChild(I);var o=e.paddingSize,u=e.borderSize,l=e.sizingStyle,v=l.boxSizing;Object.keys(l).forEach(function(i){var g=i;I.style[g]=l[g]}),tt(I),I.value=t;var p=rt(I,e);I.value=t,p=rt(I,e),I.value="x";var y=I.scrollHeight-o,$=y*r;v==="border-box"&&($=$+o+u),p=Math.max($,p);var T=y*n;return v==="border-box"&&(T=T+o+u),p=Math.min(T,p),[p,y]}var nt=function(){},un=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},dn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],fn=!!document.documentElement.currentStyle,pn=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=un(dn,r),o=n.boxSizing;if(o==="")return null;fn&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var u=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),l=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:u,borderSize:l}},gn=pn;function St(e,t,r){var n=on(r);f.useLayoutEffect(function(){var o=function(l){return n.current(l)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var bn=function(t){St(window,"resize",t)},vn=function(t){St(document.fonts,"loadingdone",t)},hn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],mn=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,u=t.minRows,l=t.onChange,v=l===void 0?nt:l,p=t.onHeightChange,y=p===void 0?nt:p,$=Wt(t,hn),T=$.value!==void 0,i=f.useRef(null),g=sn(i,r),S=f.useRef(0),E=f.useRef(),x=function(){var P=i.current,L=n&&E.current?E.current:gn(P);if(L){E.current=L;var _=cn(L,P.value||P.placeholder||"x",u,o),F=_[0],A=_[1];S.current!==F&&(S.current=F,P.style.setProperty("height",F+"px","important"),y(F,{rowHeight:A}))}},h=function(P){T||x(),v(P)};return f.useLayoutEffect(x),bn(x),vn(x),f.createElement("textarea",Ut({},$,{onChange:h,ref:g}))},yn=f.forwardRef(mn),Lt=ke(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:o=!1,onHeightChange:u,...l},v)=>{const{Component:p,label:y,description:$,startContent:T,endContent:i,hasHelper:g,shouldLabelBeOutside:S,shouldLabelBeInside:E,isInvalid:x,errorMessage:h,getBaseProps:k,getLabelProps:P,getInputProps:L,getInnerWrapperProps:_,getInputWrapperProps:F,getHelperWrapperProps:A,getDescriptionProps:a,getErrorMessageProps:m}=ar({...l,ref:v,isMultiline:!0}),[D,d]=f.useState(t>1),[w,s]=f.useState(!1),c=y?M.jsx("label",{...P(),children:y}):null,C=L(),j=(W,H)=>{if(t===1&&d(W>=H.rowHeight*2),r>t){const ie=W>=r*H.rowHeight;s(ie)}u==null||u(W,H)},O=o?M.jsx("textarea",{...C,style:He(C.style,e??{})}):M.jsx(yn,{...C,cacheMeasurements:n,"data-hide-scroll":te(!w),maxRows:r,minRows:t,style:He(C.style,e??{}),onHeightChange:j}),K=f.useMemo(()=>T||i?M.jsxs("div",{..._(),children:[T,O,i]}):M.jsx("div",{..._(),children:O}),[T,C,i,_]);return M.jsxs(p,{...k(),children:[S?c:null,M.jsxs("div",{...F(),"data-has-multiple-rows":te(D),children:[E?c:null,K]}),g?M.jsx("div",{...A(),children:x&&h?M.jsx("div",{...m(),children:h}):$?M.jsx("div",{...a(),children:$}):null}):null]})});Lt.displayName="NextUI.Textarea";var $n=Lt,Me={},xn=Gt;Object.defineProperty(Me,"__esModule",{value:!0});var _t=Me.default=void 0,Tn=xn(Nt()),Pn=M;_t=Me.default=(0,Tn.default)((0,Pn.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const wn=Vt(tr)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{"& .hZUxNm":{"white-space":"normal"},backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}}));var En={name:"s5xdrg",styles:"display:flex;align-items:center"},kn={name:"1oaeivz",styles:"margin-right:8px"};const Cn=({allData:e,setData:t,users:r,loading:n,handleClickOpen:o,openModal:u,setCurrentRow:l})=>{const{auth:v}=jt().props,p=ut();f.useState(null),v.roles.includes("Administrator"),v.roles.includes("Supervision Engineer");const y=[{name:"From",selector:i=>i.from,sortable:!0,center:"true"},{name:"Status",selector:i=>i.status,sortable:!0,center:"true",width:"170px",cell:i=>b(Ne,{"aria-label":"Status",color:$(i.status),placeholder:"Select Status",value:i.status,onChange:g=>T(i.id,"status",g.target.value),fullWidth:!0,selectedKeys:[i.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Open","Closed"].map(g=>b(Re,{value:i.status,children:g},g))})},{name:"Received Date",selector:i=>i.received_date,sortable:!0,center:"true",width:"160px",cell:i=>b(ft,{variant:"underlined",type:"date",fullWidth:!0,value:i.received_date,onChange:g=>T(i.id,"received_date",g.target.value)})},{name:"Memo Number",selector:i=>i.memo_number,sortable:!0,center:"true",width:"140px"},{name:"Subject",selector:i=>i.subject,sortable:!0,left:!0,width:"260px",cell:i=>b(or,{content:i.subject,placement:"top",showArrow:!0,radius:"md",size:"md",classNames:{content:["bg-transparent backdrop-blur-lg border border-gray-200","max-w-[300px] text-sm"]},children:b(ne,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:i.subject})})},{name:"Action Taken",selector:i=>i.action_taken,sortable:!0,left:!0,width:"250px",cell:i=>{const[g,S]=f.useState(i.action_taken);return b($n,{variant:"underlined",size:"sm",radius:"sm",maxRows:2,fullWidth:!0,value:g,onChange:h=>{S(h.target.value)},onBlur:()=>{T(i.id,"action_taken",g)}})}},{name:"Handling Link",selector:i=>i.handling_link,sortable:!0,center:"true",width:"200px",cell:i=>b(nn,{isExternal:!0,showAnchorIcon:!0,href:i.handling_link||"#",anchorIcon:b(_t,{}),children:i.handling_memo||"N/A"})},{name:"Handling Status",selector:i=>i.handling_status,sortable:!0,center:"true",width:"180px",cell:i=>b(Ne,{"aria-label":"Handling Status",color:$(i.handling_status),placeholder:"Select Status",value:i.handling_status,onChange:g=>T(i.id,"handling_status",g.target.value),fullWidth:!0,selectedKeys:[i.handling_status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Processing","Signed","Sent"].map(g=>b(Re,{value:i.handling_status,children:g},g))})},{name:"Need Reply",selector:i=>i.need_reply,center:"true",width:"80px",cell:i=>b(ce,{isSelected:i.need_reply,onChange:g=>T(i.id,"need_reply",g.target.checked)})},{name:"Replied Status",selector:i=>i.replied_status,center:"true",width:"80px",cell:i=>b(ce,{isSelected:i.replied_status,onChange:g=>T(i.id,"replied_status",g.target.checked)})},{name:"Need Forward",selector:i=>i.need_forward,center:"true",width:"80px",cell:i=>b(ce,{isSelected:i.need_forward,onChange:g=>T(i.id,"need_forward",g.target.checked)})},{name:"Forwarded Status",selector:i=>i.forwarded_status,center:"true",width:"90px",cell:i=>b(ce,{isSelected:!!i.forwarded_status,onChange:g=>T(i.id,"forwarded_status",g.target.checked)})},{name:"Dealt By",selector:i=>i.dealt_by,sortable:!0,center:"true",width:"200px",cell:i=>{const g=r.find(S=>S.id===i.dealt_by);return g?B(ne,{css:En,children:[b(Xt,{src:g.profile_image,alt:g.name,css:kn}),g.name]}):"N/A"}},{name:"Actions",center:"true",width:"150px",cell:i=>B(fr,{children:[b(Ae,{onClick:()=>u("editLetter",i),children:"Edit"}),b(Ae,{color:"error",onClick:()=>handleDelete(i.id),children:"Delete"})]})}],$=i=>{switch(i){case"Open":return"danger";case"Closed":return"success";case"Processing":return"warning";case"Signed":return"info";case"Sent":return"primary";default:return""}},T=async(i,g,S)=>{var E,x;console.log(i,g,S);try{const h=await lt.put(route("letters.update"),{id:i,[g]:S});h.status===200?(t(k=>k.map(P=>P.id===i?{...P,[g]:S}:P)),re.success(...h.data.messages||"Letter updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}})):re.error(h.data.error||`Failed to update letter ${[g]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}})}catch(h){re.error(((x=(E=h.response)==null?void 0:E.data)==null?void 0:x.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}})}};return B("div",{children:[n&&b(Qt,{}),b(Yt,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:p.palette.text.primary}}}),b(wn,{columns:y,data:e,loading:n,loadingComponent:b(dt,{}),defaultSortField:"received_date",highlightOnHover:!0,responsive:!0,dense:!0})]})};sr.extend(rr);const Sn=ve.memo(({auth:e,title:t,users:r})=>{const n=ut(),[o,u]=f.useState([]),[l,v]=f.useState(!1),[p,y]=f.useState(0),[$,T]=f.useState(0);f.useState([]);const[i,g]=f.useState(),[S,E]=f.useState(null),[x,h]=f.useState(null),[k,P]=f.useState(""),L=qt(n.breakpoints.down("md")),[_,F]=f.useState(30),[A,a]=f.useState(1),m=async(O,K,W)=>{try{const H=await lt.get(route("letters.paginate"),{params:{page:O,perPage:K,search:W}});console.log(H),u(H.data.data),y(H.data.total),T(H.data.last_page),v(!1)}catch(H){console.log(H),re.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),v(!1)}},D=()=>{const O=new Promise(async(K,W)=>{var H,ie;try{const le=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:S,page:A,perPage:_,search:k,status:filterData.status!=="all"?filterData.status:"",inCharge:filterData.incharge!=="all"?filterData.incharge:"",startDate:(H=filterData.startDate)==null?void 0:H.format("YYYY-MM-DD"),endDate:(ie=filterData.endDate)==null?void 0:ie.format("YYYY-MM-DD")})}),me=await le.json();le.ok?(u(me.data),y(me.total),K("Daily work deleted successfully")):W(me.error||"Failed to delete task")}catch(le){console.error("Error deleting task:",le),W("An error occurred while deleting the task")}finally{w()}});re.promise(O,{pending:{render(){return B("div",{style:{display:"flex",alignItems:"center"},children:[b(dt,{}),b("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:K}){return b(V,{children:K})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:K}){return b(V,{children:K})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}})},d=f.useCallback((O,K)=>{E(O),h(K)},[]),w=f.useCallback(()=>{h(null),E(null)},[]),s=f.useCallback(O=>{h(O)},[]),c=f.useCallback(()=>{h(null)},[]),C=O=>{const K=O.target.value.toLowerCase();P(K)};f.useEffect(()=>{v(!0),m(A,_,k)},[A,_,k]);const j=O=>{a(O)};return B(V,{children:[b(Bt,{title:t}),x==="editLetter"&&b(LetterForm,{open:x==="editLetter",currentRow:i,setData:u,closeModal:c}),x==="deleteLetter"&&b(DeleteLetterForm,{open:x==="deleteLetter",handleClose:w,handleDelete:D,setData:u}),x==="importLetters"&&b(LettersUploadForm,{open:x==="importLetters",closeModal:c,setData:u,setTotalRows:y}),x==="exportLetters"&&b(LettersDownloadForm,{open:x==="exportLetters",closeModal:c,data:o,users:r}),b(ne,{sx:{display:"flex",justifyContent:"center",p:2},children:b(Zt,{in:!0,children:B(zt,{children:[b(Jt,{title:t,sx:{padding:"24px"},action:B(ne,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&b(ye,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:b(nr,{})}),e.roles.includes("Administrator")&&b(V,{children:L?B(V,{children:[b(ye,{title:"Import Letters",color:"warning",onClick:()=>s("importLetters"),children:b(je,{})}),b(ye,{title:"Export Letters",color:"success",onClick:()=>s("exportLetters"),children:b(Be,{})})]}):B(V,{children:[b(Ie,{title:"Import Letters",variant:"outlined",color:"warning",startIcon:b(je,{}),onClick:()=>s("importLetters"),children:"Import"}),b(Ie,{title:"Export Letters",variant:"outlined",color:"success",startIcon:b(Be,{}),onClick:()=>s("exportLetters"),children:"Export"})]})})]})}),b(Oe,{children:b(ne,{children:b(Ke,{container:!0,spacing:2,children:b(Ke,{item:!0,xs:12,sm:6,md:3,children:b(ft,{label:"Search",type:"text",fullWidth:!0,variant:"bordered",placeholder:"Employee...",value:k,onChange:C,endContent:b(ir,{})})})})})}),B(Oe,{children:[b(Cn,{setData:u,setCurrentRow:g,currentPage:A,setCurrentPage:a,setLoading:v,handleClickOpen:d,openModal:s,totalRows:p,lastPage:$,loading:l,allData:o,users:r}),p>=30&&b("div",{className:"py-2 px-2 flex justify-center items-center",children:b(lr,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:A,total:$,onChange:j})})]})]})})})]})});Sn.layout=e=>b(er,{children:e});export{Sn as default};
