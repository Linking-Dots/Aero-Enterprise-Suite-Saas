import{t as Mt,h as Dt,n as at,L as ot,a8 as De,o as st,P as it,w as ke,a9 as Ft,a2 as Fe,a3 as At,a4 as It,x as Kt,y as Ot,z as Ht,C as Rt,s as te,r as Nt,q as jt,j as B,a as g,d as Ae,c as lt,B as re,Y as Bt,G as zt,F as V}from"./app-Ca3Q817Q.js";import{w as M,r as f,R as ve,al as ct,P as Wt,_ as Ut,x as Gt,y as Vt,J as Yt,j as ut,at as Xt,t as dt,B as ne,Y as qt,u as Jt,e as Zt,g as Qt,c as ye,f as Ie,a as Ke,G as Oe}from"./vendor-EgrJM_gj.js";import{L as er,A as tr}from"./App-BC2YzvJY.js";import{X as rr,m as nr,A as ar}from"./minMax-CwYaeTcB.js";import{u as or,$ as He,i as ft}from"./chunk-IR2E3HZF-DxKER5j9.js";import{c as ce}from"./DOMLayoutDelegate-4RdDtFk0.js";import{l as Re,s as Ne}from"./chunk-QEQ4EHOG-CEES1wZe.js";import{t as sr}from"./chunk-KQ7OR4H5-BNLWKohz.js";import{d as ir}from"./dayjs.min-DWoBqk-_.js";import{d as lr,p as cr}from"./Search-CrgTfcdJ.js";import{U as je}from"./Upload-CyZ5FvQY.js";import{D as Be}from"./Download-BHuJxfkE.js";import"./useFormValidationState-D4Df8QjX.js";import"./useLabel-DCvodxkK.js";var ze=Mt({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...Dt],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),ur="flex mx-1 text-current self-center",dr=e=>M.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[M.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),M.jsx("path",{d:"M15 3h6v6"}),M.jsx("path",{d:"M10 14L21 3"})]});function fr(e){var t,r;const n=at(),[o,u]=ot(e,De.variantKeys),{ref:l,as:v,children:b,color:h="default",size:P="md",variant:k="solid",radius:_,isDisabled:w=!1,isIconOnly:i=!1,disableRipple:p=(t=n==null?void 0:n.disableRipple)!=null?t:!1,disableAnimation:m=(r=n==null?void 0:n.disableAnimation)!=null?r:!1,className:x,...T}=o,$=v||"div",C=st(l),L=f.useMemo(()=>De({...u,className:x}),[it(u),x]),F=f.useMemo(()=>({size:P,color:h,variant:k,radius:_,isIconOnly:i,isDisabled:w,disableAnimation:m,disableRipple:p,fullWidth:!!(e!=null&&e.fullWidth)}),[P,h,k,_,w,i,m,p,e==null?void 0:e.fullWidth]),A=f.useCallback(()=>({role:"group",...T}),[T]);return{Component:$,children:b,domRef:C,context:F,classNames:L,getButtonGroupProps:A}}var pt=ke((e,t)=>{const{Component:r,domRef:n,context:o,children:u,classNames:l,getButtonGroupProps:v}=fr({...e,ref:t});return M.jsx(Ft,{value:o,children:M.jsx(r,{ref:n,className:l,...v(),children:u})})});pt.displayName="NextUI.ButtonGroup";var pr=pt;const Ce=typeof document<"u"?ve.useLayoutEffect:()=>{};function X(e){const t=f.useRef(null);return Ce(()=>{t.current=e},[e]),f.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}let We=new Map;function gr(e,t){if(e===t)return e;let r=We.get(e);if(r)return r(t),t;let n=We.get(t);return n?(n(e),e):t}function gt(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const R=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Z=e=>e&&"window"in e&&e.window===e?e:R(e).defaultView||window;function Q(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=gt(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=ct(u,l):o==="id"&&u&&l?t.id=gr(u,l):t[o]=l!==void 0?l:u}}return t}const br=new Set(["id"]),vr=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),hr=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),mr=/^(data-.*)$/;function yr(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,u={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(br.has(l)||r&&vr.has(l)||n&&hr.has(l)||o!=null&&o.has(l)||mr.test(l))&&(u[l]=e[l]);return u}function U(e){if($r())e.focus({preventScroll:!0});else{let t=xr(e);e.focus(),Tr(t)}}let ue=null;function $r(){if(ue==null){ue=!1;try{document.createElement("div").focus({get preventScroll(){return ue=!0,!0}})}catch{}}return ue}function xr(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Tr(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function he(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Se(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function oe(){return Se(/^Mac/i)}function Pr(){return Se(/^iPhone/i)}function bt(){return Se(/^iPad/i)||oe()&&navigator.maxTouchPoints>1}function vt(){return Pr()||bt()}function wr(){return he(/AppleWebKit/i)&&!Er()}function Er(){return he(/Chrome/i)}function ht(){return he(/Android/i)}function kr(){return he(/Firefox/i)}const Cr=f.createContext({isNative:!0,open:_r,useHref:e=>e});function mt(){return f.useContext(Cr)}function Sr(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function ee(e,t,r=!0){var n,o;let{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}=t;kr()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(oe()?u=!0:l=!0);let h=wr()&&oe()&&!bt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}):new MouseEvent("click",{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b,bubbles:!0,cancelable:!0});ee.isOpening=r,U(e),e.dispatchEvent(h),ee.isOpening=!1}ee.isOpening=!1;function Lr(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function _r(e,t){Lr(e,r=>ee(r,t))}function Mr(e){let t=mt();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let q=new Map,Te=new Set;function Ue(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);o||(o=new Set,q.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),q.delete(n.target)),q.size===0)){for(let u of Te)u();Te.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?Ue():document.addEventListener("DOMContentLoaded",Ue));function yt(e){requestAnimationFrame(()=>{q.size===0?e():Te.add(e)})}function Dr(){let e=f.useRef(new Map),t=f.useCallback((o,u,l,v)=>{let b=v!=null&&v.once?(...h)=>{e.current.delete(l),l(...h)}:l;e.current.set(l,{type:u,eventTarget:o,fn:b,options:v}),o.addEventListener(u,l,v)},[]),r=f.useCallback((o,u,l,v)=>{var b;let h=((b=e.current.get(l))===null||b===void 0?void 0:b.fn)||l;o.removeEventListener(u,h,v),e.current.delete(l)},[]),n=f.useCallback(()=>{e.current.forEach((o,u)=>{r(o.eventTarget,o.type,u,o.options)})},[r]);return f.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function $t(e,t){Ce(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Pe(e){return e.mozInputSource===0&&e.isTrusted?!0:ht()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fr(e){return!ht()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let J="default",we="",ge=new WeakMap;function Ge(e){if(vt()){if(J==="default"){const t=R(e);we=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}J="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(ge.set(e,e.style.userSelect),e.style.userSelect="none")}function de(e){if(vt()){if(J!=="disabled")return;J="restoring",setTimeout(()=>{yt(()=>{if(J==="restoring"){const t=R(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=we||""),we="",J="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&ge.has(e)){let t=ge.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),ge.delete(e)}}const xt=ve.createContext({register:()=>{}});xt.displayName="PressResponderContext";function Ar(e){let t=f.useContext(xt);if(t){let{register:r,...n}=t;e=Q(n,e),r()}return $t(t,e.ref),e}var fe=new WeakMap;class pe{continuePropagation(){Fe(this,fe,!1)}get shouldStopPropagation(){return At(this,fe)}constructor(t,r,n){It(this,fe,{writable:!0,value:void 0}),Fe(this,fe,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Ve=Symbol("linkClicked");function Ir(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:o,onPressUp:u,isDisabled:l,isPressed:v,preventFocusOnPress:b,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:P,ref:k,..._}=Ar(e),[w,i]=f.useState(!1),p=f.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:m,removeAllGlobalListeners:x}=Dr(),T=X((a,y)=>{let D=p.current;if(l||D.didFirePressStart)return!1;let d=!0;if(D.isTriggeringEvent=!0,n){let E=new pe("pressstart",y,a);n(E),d=E.shouldStopPropagation}return r&&r(!0),D.isTriggeringEvent=!1,D.didFirePressStart=!0,i(!0),d}),$=X((a,y,D=!0)=>{let d=p.current;if(!d.didFirePressStart)return!1;d.ignoreClickAfterPress=!0,d.didFirePressStart=!1,d.isTriggeringEvent=!0;let E=!0;if(o){let s=new pe("pressend",y,a);o(s),E=s.shouldStopPropagation}if(r&&r(!1),i(!1),t&&D&&!l){let s=new pe("press",y,a);t(s),E&&(E=s.shouldStopPropagation)}return d.isTriggeringEvent=!1,E}),C=X((a,y)=>{let D=p.current;if(l)return!1;if(u){D.isTriggeringEvent=!0;let d=new pe("pressup",y,a);return u(d),D.isTriggeringEvent=!1,d.shouldStopPropagation}return!0}),L=X(a=>{let y=p.current;y.isPressed&&y.target&&(y.isOverTarget&&y.pointerType!=null&&$(z(y.target,a),y.pointerType,!1),y.isPressed=!1,y.isOverTarget=!1,y.activePointerId=null,y.pointerType=null,x(),P||de(y.target))}),F=X(a=>{h&&L(a)}),A=f.useMemo(()=>{let a=p.current,y={onKeyDown(d){if($e(d.nativeEvent,d.currentTarget)&&d.currentTarget.contains(d.target)){var E;Xe(d.target,d.key)&&d.preventDefault();let s=!0;if(!a.isPressed&&!d.repeat){a.target=d.currentTarget,a.isPressed=!0,s=T(d,"keyboard");let c=d.currentTarget,S=j=>{$e(j,c)&&!j.repeat&&c.contains(j.target)&&a.target&&C(z(a.target,j),"keyboard")};m(R(d.currentTarget),"keyup",gt(S,D),!0)}s&&d.stopPropagation(),d.metaKey&&oe()&&((E=a.metaKeyEvents)===null||E===void 0||E.set(d.key,d.nativeEvent))}else d.key==="Meta"&&(a.metaKeyEvents=new Map)},onClick(d){if(!(d&&!d.currentTarget.contains(d.target))&&d&&d.button===0&&!a.isTriggeringEvent&&!ee.isOpening){let E=!0;if(l&&d.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&!a.isPressed&&(a.pointerType==="virtual"||Pe(d.nativeEvent))){!l&&!b&&U(d.currentTarget);let s=T(d,"virtual"),c=C(d,"virtual"),S=$(d,"virtual");E=s&&c&&S}a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1,E&&d.stopPropagation()}}},D=d=>{var E;if(a.isPressed&&a.target&&$e(d,a.target)){var s;Xe(d.target,d.key)&&d.preventDefault();let S=d.target;$(z(a.target,d),"keyboard",a.target.contains(S)),x(),d.key!=="Enter"&&Le(a.target)&&a.target.contains(S)&&!d[Ve]&&(d[Ve]=!0,ee(a.target,d,!1)),a.isPressed=!1,(s=a.metaKeyEvents)===null||s===void 0||s.delete(d.key)}else if(d.key==="Meta"&&(!((E=a.metaKeyEvents)===null||E===void 0)&&E.size)){var c;let S=a.metaKeyEvents;a.metaKeyEvents=void 0;for(let j of S.values())(c=a.target)===null||c===void 0||c.dispatchEvent(new KeyboardEvent("keyup",j))}};if(typeof PointerEvent<"u"){y.onPointerDown=c=>{if(c.button!==0||!c.currentTarget.contains(c.target))return;if(Fr(c.nativeEvent)){a.pointerType="virtual";return}xe(c.currentTarget)&&c.preventDefault(),a.pointerType=c.pointerType;let S=!0;a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=c.pointerId,a.target=c.currentTarget,!l&&!b&&U(c.currentTarget),P||Ge(a.target),S=T(c,a.pointerType),m(R(c.currentTarget),"pointermove",d,!1),m(R(c.currentTarget),"pointerup",E,!1),m(R(c.currentTarget),"pointercancel",s,!1)),S&&c.stopPropagation()},y.onMouseDown=c=>{c.currentTarget.contains(c.target)&&c.button===0&&(xe(c.currentTarget)&&c.preventDefault(),c.stopPropagation())},y.onPointerUp=c=>{!c.currentTarget.contains(c.target)||a.pointerType==="virtual"||c.button===0&&Y(c,c.currentTarget)&&C(c,a.pointerType||c.pointerType)};let d=c=>{c.pointerId===a.activePointerId&&(a.target&&Y(c,a.target)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,T(z(a.target,c),a.pointerType)):a.target&&a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,$(z(a.target,c),a.pointerType,!1),F(c)))},E=c=>{c.pointerId===a.activePointerId&&a.isPressed&&c.button===0&&a.target&&(Y(c,a.target)&&a.pointerType!=null?$(z(a.target,c),a.pointerType):a.isOverTarget&&a.pointerType!=null&&$(z(a.target,c),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType=null,x(),P||de(a.target))},s=c=>{L(c)};y.onDragStart=c=>{c.currentTarget.contains(c.target)&&L(c)}}else{y.onMouseDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(xe(s.currentTarget)&&s.preventDefault(),a.ignoreEmulatedMouseEvents){s.stopPropagation();return}a.isPressed=!0,a.isOverTarget=!0,a.target=s.currentTarget,a.pointerType=Pe(s.nativeEvent)?"virtual":"mouse",!l&&!b&&U(s.currentTarget),T(s,a.pointerType)&&s.stopPropagation(),m(R(s.currentTarget),"mouseup",d,!1)},y.onMouseEnter=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!0,c=T(s,a.pointerType)),c&&s.stopPropagation()},y.onMouseLeave=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!1,c=$(s,a.pointerType,!1),F(s)),c&&s.stopPropagation()},y.onMouseUp=s=>{s.currentTarget.contains(s.target)&&!a.ignoreEmulatedMouseEvents&&s.button===0&&C(s,a.pointerType||"mouse")};let d=s=>{if(s.button===0){if(a.isPressed=!1,x(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.target&&Y(s,a.target)&&a.pointerType!=null?$(z(a.target,s),a.pointerType):a.target&&a.isOverTarget&&a.pointerType!=null&&$(z(a.target,s),a.pointerType,!1),a.isOverTarget=!1}};y.onTouchStart=s=>{if(!s.currentTarget.contains(s.target))return;let c=Kr(s.nativeEvent);if(!c)return;a.activePointerId=c.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=s.currentTarget,a.pointerType="touch",!l&&!b&&U(s.currentTarget),P||Ge(a.target),T(s,a.pointerType)&&s.stopPropagation(),m(Z(s.currentTarget),"scroll",E,!0)},y.onTouchMove=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),S=!0;c&&Y(c,s.currentTarget)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,S=T(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,S=$(s,a.pointerType,!1),F(s)),S&&s.stopPropagation()},y.onTouchEnd=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),S=!0;c&&Y(c,s.currentTarget)&&a.pointerType!=null?(C(s,a.pointerType),S=$(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(S=$(s,a.pointerType,!1)),S&&s.stopPropagation(),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,a.target&&!P&&de(a.target),x()},y.onTouchCancel=s=>{s.currentTarget.contains(s.target)&&(s.stopPropagation(),a.isPressed&&L(s))};let E=s=>{a.isPressed&&s.target.contains(a.target)&&L({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};y.onDragStart=s=>{s.currentTarget.contains(s.target)&&L(s)}}return y},[m,l,b,x,P,L,F,$,T,C]);return f.useEffect(()=>()=>{var a;P||de((a=p.current.target)!==null&&a!==void 0?a:void 0)},[P]),{isPressed:v||w,pressProps:Q(_,A)}}function Le(e){return e.tagName==="A"&&e.hasAttribute("href")}function $e(e,t){const{key:r,code:n}=e,o=t,u=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(o instanceof Z(o).HTMLInputElement&&!Tt(o,r)||o instanceof Z(o).HTMLTextAreaElement||o.isContentEditable)&&!((u==="link"||!u&&Le(o))&&r!=="Enter")}function Kr(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ye(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const o=r[n];if(o.identifier===t)return o}return null}function z(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Or(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Hr(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Y(e,t){let r=t.getBoundingClientRect(),n=Or(e);return Hr(r,n)}function xe(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Xe(e,t){return e instanceof HTMLInputElement?!Tt(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Le(e)}const Rr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Tt(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Rr.has(e.type)}class Nr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function jr(e){let t=f.useRef({isFocused:!1,observer:null});Ce(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=X(n=>{e==null||e(n)});return f.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,u=l=>{t.current.isFocused=!1,o.disabled&&r(new Nr("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let v=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:v})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:v}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Br(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:o}=e;const u=f.useCallback(b=>{if(b.target===b.currentTarget)return n&&n(b),o&&o(!1),!0},[n,o]),l=jr(u),v=f.useCallback(b=>{const h=R(b.target);b.target===b.currentTarget&&h.activeElement===b.target&&(r&&r(b),o&&o(!0),l(b))},[o,r,l]);return{focusProps:{onFocus:!t&&(r||o||n)?v:void 0,onBlur:!t&&(n||o)?u:void 0}}}let se=null,zr=new Set,ae=new Map,G=!1,Ee=!1;function _e(e,t){for(let r of zr)r(e,t)}function Wr(e){return!(e.metaKey||!oe()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function be(e){G=!0,Wr(e)&&(se="keyboard",_e("keyboard",e))}function N(e){se="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(G=!0,_e("pointer",e))}function Pt(e){Pe(e)&&(G=!0,se="virtual")}function wt(e){e.target===window||e.target===document||(!G&&!Ee&&(se="virtual",_e("virtual",e)),G=!1,Ee=!1)}function Et(){G=!1,Ee=!0}function qe(e){if(typeof window>"u"||ae.get(Z(e)))return;const t=Z(e),r=R(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){G=!0,n.apply(this,arguments)},r.addEventListener("keydown",be,!0),r.addEventListener("keyup",be,!0),r.addEventListener("click",Pt,!0),t.addEventListener("focus",wt,!0),t.addEventListener("blur",Et,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",N,!0),r.addEventListener("pointermove",N,!0),r.addEventListener("pointerup",N,!0)):(r.addEventListener("mousedown",N,!0),r.addEventListener("mousemove",N,!0),r.addEventListener("mouseup",N,!0)),t.addEventListener("beforeunload",()=>{kt(e)},{once:!0}),ae.set(t,{focus:n})}const kt=(e,t)=>{const r=Z(e),n=R(e);t&&n.removeEventListener("DOMContentLoaded",t),ae.has(r)&&(r.HTMLElement.prototype.focus=ae.get(r).focus,n.removeEventListener("keydown",be,!0),n.removeEventListener("keyup",be,!0),n.removeEventListener("click",Pt,!0),r.removeEventListener("focus",wt,!0),r.removeEventListener("blur",Et,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",N,!0),n.removeEventListener("pointermove",N,!0),n.removeEventListener("pointerup",N,!0)):(n.removeEventListener("mousedown",N,!0),n.removeEventListener("mousemove",N,!0),n.removeEventListener("mouseup",N,!0)),ae.delete(r))};function Ur(e){const t=R(e);let r;return t.readyState!=="loading"?qe(e):(r=()=>{qe(e)},t.addEventListener("DOMContentLoaded",r)),()=>kt(e,r)}typeof document<"u"&&Ur();function Gr(){return se}function Je(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Vr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Je(e.onKeyDown),onKeyUp:Je(e.onKeyUp)}}}function Yr(e){const t=R(e);if(Gr()==="virtual"){let r=t.activeElement;yt(()=>{t.activeElement===r&&e.isConnected&&U(e)})}else U(e)}let Xr=ve.createContext(null);function qr(e){let t=f.useContext(Xr)||{};$t(t,e);let{ref:r,...n}=t;return n}function Jr(e,t){let{focusProps:r}=Br(e),{keyboardProps:n}=Vr(e),o=Q(r,n),u=qr(t),l=e.isDisabled?{}:u,v=f.useRef(e.autoFocus);return f.useEffect(()=>{v.current&&t.current&&Yr(t.current),v.current=!1},[t]),{focusableProps:Q({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},l)}}function Zr(e,t){let{elementType:r="a",onPress:n,onPressStart:o,onPressEnd:u,onClick:l,isDisabled:v,...b}=e,h={};r!=="a"&&(h={role:"link",tabIndex:v?void 0:0});let{focusableProps:P}=Jr(e,t),{pressProps:k,isPressed:_}=Ir({onPress:n,onPressStart:o,onPressEnd:u,isDisabled:v,ref:t}),w=yr(b,{labelable:!0,isLink:r==="a"}),i=Q(P,k),p=mt(),m=Mr(e);return{isPressed:_,linkProps:Q(w,m,{...i,...h,"aria-disabled":v||void 0,"aria-current":e["aria-current"],onClick:x=>{var T;(T=k.onClick)==null||T.call(k,x),l&&l(x),!p.isNative&&x.currentTarget instanceof HTMLAnchorElement&&x.currentTarget.href&&!x.isDefaultPrevented()&&Sr(x.currentTarget,x)&&e.href&&(x.preventDefault(),p.open(x.currentTarget,x,e.href,e.routerOptions))}})}}let Ze=new Map;function Qr(e,t){if(e===t)return e;let r=Ze.get(e);if(r)return r(t),t;let n=Ze.get(t);return n?(n(e),e):t}function en(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function tn(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=en(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=ct(u,l):o==="id"&&u&&l?t.id=Qr(u,l):t[o]=l!==void 0?l:u}}return t}function rn(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,o=f.useRef({isFocused:!1,isFocusVisible:t||Kt()}),[u,l]=f.useState(!1),[v,b]=f.useState(()=>o.current.isFocused&&o.current.isFocusVisible),h=f.useCallback(()=>b(o.current.isFocused&&o.current.isFocusVisible),[]),P=f.useCallback(w=>{o.current.isFocused=w,l(w),h()},[h]);Ot(w=>{o.current.isFocusVisible=w,h()},[],{isTextInput:r});let{focusProps:k}=Ht({isDisabled:n,onFocusChange:P}),{focusWithinProps:_}=Rt({isDisabled:!n,onFocusWithinChange:P});return{isFocused:u,isFocusVisible:v,focusProps:n?_:k}}function nn(e){var t,r,n,o;const u=at(),[l,v]=ot(e,ze.variantKeys),{ref:b,as:h,children:P,anchorIcon:k,isExternal:_=!1,showAnchorIcon:w=!1,autoFocus:i=!1,className:p,onPress:m,onPressStart:x,onPressEnd:T,onClick:$,...C}=l,L=h||"a",F=st(b),A=(r=(t=e==null?void 0:e.disableAnimation)!=null?t:u==null?void 0:u.disableAnimation)!=null?r:!1,{linkProps:a}=Zr({...C,onPress:m,onPressStart:x,onPressEnd:T,onClick:$,isDisabled:e.isDisabled,elementType:`${h}`},F),{isFocused:y,isFocusVisible:D,focusProps:d}=rn({autoFocus:i});_&&(C.rel=(n=C.rel)!=null?n:"noopener noreferrer",C.target=(o=C.target)!=null?o:"_blank");const E=f.useMemo(()=>ze({...v,disableAnimation:A,className:p}),[it(v),A,p]),s=f.useCallback(()=>({ref:F,className:E,"data-focus":te(y),"data-disabled":te(e.isDisabled),"data-focus-visible":te(D),...tn(d,a,C)}),[E,y,D,d,a,C]);return{Component:L,children:P,anchorIcon:k,showAnchorIcon:w,getLinkProps:s}}var Ct=ke((e,t)=>{const{Component:r,children:n,showAnchorIcon:o,anchorIcon:u=M.jsx(dr,{className:ur}),getLinkProps:l}=nn({ref:t,...e});return M.jsx(r,{...l(),children:M.jsxs(M.Fragment,{children:[n,o&&u]})})});Ct.displayName="NextUI.Link";var an=Ct,on=f.useLayoutEffect,sn=function(t){var r=f.useRef(t);return on(function(){r.current=t}),r},Qe=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},ln=function(t,r){var n=f.useRef();return f.useCallback(function(o){t.current=o,n.current&&Qe(n.current,null),n.current=r,r&&Qe(r,o)},[r])},et={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},cn=function(t){Object.keys(et).forEach(function(r){t.style.setProperty(r,et[r],"important")})},tt=cn,I=null,rt=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function un(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),I||(I=document.createElement("textarea"),I.setAttribute("tabindex","-1"),I.setAttribute("aria-hidden","true"),tt(I)),I.parentNode===null&&document.body.appendChild(I);var o=e.paddingSize,u=e.borderSize,l=e.sizingStyle,v=l.boxSizing;Object.keys(l).forEach(function(_){var w=_;I.style[w]=l[w]}),tt(I),I.value=t;var b=rt(I,e);I.value=t,b=rt(I,e),I.value="x";var h=I.scrollHeight-o,P=h*r;v==="border-box"&&(P=P+o+u),b=Math.max(P,b);var k=h*n;return v==="border-box"&&(k=k+o+u),b=Math.min(k,b),[b,h]}var nt=function(){},dn=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},fn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],pn=!!document.documentElement.currentStyle,gn=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=dn(fn,r),o=n.boxSizing;if(o==="")return null;pn&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var u=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),l=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:u,borderSize:l}},bn=gn;function St(e,t,r){var n=sn(r);f.useLayoutEffect(function(){var o=function(l){return n.current(l)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var vn=function(t){St(window,"resize",t)},hn=function(t){St(document.fonts,"loadingdone",t)},mn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],yn=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,u=t.minRows,l=t.onChange,v=l===void 0?nt:l,b=t.onHeightChange,h=b===void 0?nt:b,P=Wt(t,mn),k=P.value!==void 0,_=f.useRef(null),w=ln(_,r),i=f.useRef(0),p=f.useRef(),m=function(){var $=_.current,C=n&&p.current?p.current:bn($);if(C){p.current=C;var L=un(C,$.value||$.placeholder||"x",u,o),F=L[0],A=L[1];i.current!==F&&(i.current=F,$.style.setProperty("height",F+"px","important"),h(F,{rowHeight:A}))}},x=function($){k||m(),v($)};return f.useLayoutEffect(m),vn(m),hn(m),f.createElement("textarea",Ut({},P,{onChange:x,ref:w}))},$n=f.forwardRef(yn),Lt=ke(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:o=!1,onHeightChange:u,...l},v)=>{const{Component:b,label:h,description:P,startContent:k,endContent:_,hasHelper:w,shouldLabelBeOutside:i,shouldLabelBeInside:p,isInvalid:m,errorMessage:x,getBaseProps:T,getLabelProps:$,getInputProps:C,getInnerWrapperProps:L,getInputWrapperProps:F,getHelperWrapperProps:A,getDescriptionProps:a,getErrorMessageProps:y}=or({...l,ref:v,isMultiline:!0}),[D,d]=f.useState(t>1),[E,s]=f.useState(!1),c=h?M.jsx("label",{...$(),children:h}):null,S=C(),j=(W,H)=>{if(t===1&&d(W>=H.rowHeight*2),r>t){const ie=W>=r*H.rowHeight;s(ie)}u==null||u(W,H)},K=o?M.jsx("textarea",{...S,style:He(S.style,e??{})}):M.jsx($n,{...S,cacheMeasurements:n,"data-hide-scroll":te(!E),maxRows:r,minRows:t,style:He(S.style,e??{}),onHeightChange:j}),O=f.useMemo(()=>k||_?M.jsxs("div",{...L(),children:[k,K,_]}):M.jsx("div",{...L(),children:K}),[k,S,_,L]);return M.jsxs(b,{...T(),children:[i?c:null,M.jsxs("div",{...F(),"data-has-multiple-rows":te(D),children:[p?c:null,O]}),w?M.jsx("div",{...A(),children:m&&x?M.jsx("div",{...y(),children:x}):P?M.jsx("div",{...a(),children:P}):null}):null]})});Lt.displayName="NextUI.Textarea";var xn=Lt,Me={},Tn=Vt;Object.defineProperty(Me,"__esModule",{value:!0});var _t=Me.default=void 0,Pn=Tn(Nt()),wn=Gt();_t=Me.default=(0,Pn.default)((0,wn.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const En=Yt(rr)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{"& .hZUxNm":{"white-space":"normal"},backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}}));var kn={name:"s5xdrg",styles:"display:flex;align-items:center"},Cn={name:"1oaeivz",styles:"margin-right:8px"};const Sn=({allData:e,setData:t,users:r,loading:n,handleClickOpen:o,openModal:u,setCurrentRow:l,search:v})=>{const{auth:b}=jt().props,h=ut();f.useState(null),b.roles.includes("Administrator"),b.roles.includes("Supervision Engineer");const P=i=>{switch(i){case"Open":return"danger";case"Closed":return"success";case"Processing":return"warning";case"Signed":return"info";case"Sent":return"primary";default:return""}},k=i=>{if(!v)return i;const p=v.split(" ").filter(Boolean),m=new RegExp(`(${p.join("|")})`,"gi");return i.split(m).map((T,$)=>p.some(C=>T.toLowerCase()===C.toLowerCase())?g("span",{style:{backgroundColor:"yellow"},children:T},$):T)},_=[{name:"From",selector:i=>i.from,sortable:!0,center:"true",width:"80px",cell:i=>k(i.from)},{name:"Status",selector:i=>i.status,sortable:!0,center:"true",width:"170px",cell:i=>g(Ne,{"aria-label":"Status",color:P(i.status),placeholder:"Select Status",value:i.status,onChange:p=>w(i.id,"status",p.target.value),fullWidth:!0,selectedKeys:[i.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Open","Closed"].map(p=>g(Re,{value:i.status,children:p},p))})},{name:"Received Date",selector:i=>i.received_date,sortable:!0,center:"true",width:"160px",cell:i=>g(ft,{variant:"underlined",type:"date",fullWidth:!0,value:i.received_date,onChange:p=>w(i.id,"received_date",p.target.value)})},{name:"Memo Number",selector:i=>i.memo_number,sortable:!0,center:"true",width:"140px",cell:i=>k(i.memo_number)},{name:"Subject",selector:i=>i.subject,sortable:!0,left:!0,width:"260px",cell:i=>g(sr,{content:i.subject,placement:"top",showArrow:!0,radius:"md",size:"md",classNames:{content:["bg-transparent backdrop-blur-lg border border-gray-200","max-w-[300px] text-sm"]},children:g(ne,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:k(i.subject)})})},{name:"Action Taken",selector:i=>i.action_taken,sortable:!0,left:!0,width:"250px",cell:i=>{const[p,m]=f.useState(i.action_taken||"");return g(xn,{variant:"underlined",size:"sm",radius:"sm",maxRows:2,fullWidth:!0,value:p,onChange:$=>{m($.target.value)},onBlur:()=>{w(i.id,"action_taken",p)}})}},{name:"Handling Link",selector:i=>i.handling_link,sortable:!0,center:"true",width:"200px",cell:i=>g(an,{isExternal:!0,showAnchorIcon:!0,href:i.handling_link||"#",anchorIcon:g(_t,{}),children:i.handling_memo||"N/A"})},{name:"Handling Status",selector:i=>i.handling_status,sortable:!0,center:"true",width:"180px",cell:i=>g(Ne,{"aria-label":"Handling Status",color:P(i.handling_status),placeholder:"Select Status",value:i.handling_status,onChange:p=>w(i.id,"handling_status",p.target.value),fullWidth:!0,selectedKeys:[i.handling_status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Processing","Signed","Sent"].map(p=>g(Re,{value:i.handling_status,children:p},p))})},{name:"Need Reply",selector:i=>i.need_reply,center:"true",width:"80px",cell:i=>g(ce,{isSelected:i.need_reply,onChange:p=>w(i.id,"need_reply",p.target.checked)})},{name:"Replied Status",selector:i=>i.replied_status,center:"true",width:"80px",cell:i=>g(ce,{isSelected:i.replied_status,onChange:p=>w(i.id,"replied_status",p.target.checked)})},{name:"Need Forward",selector:i=>i.need_forward,center:"true",width:"80px",cell:i=>g(ce,{isSelected:i.need_forward,onChange:p=>w(i.id,"need_forward",p.target.checked)})},{name:"Forwarded Status",selector:i=>i.forwarded_status,center:"true",width:"90px",cell:i=>g(ce,{isSelected:i.forwarded_status,onChange:p=>w(i.id,"forwarded_status",p.target.checked)})},{name:"Dealt By",selector:i=>i.dealt_by,sortable:!0,center:"true",width:"200px",cell:i=>{const p=r.find(m=>m.id===i.dealt_by);return p?B(ne,{css:kn,children:[g(qt,{src:p.profile_image,alt:p.name,css:Cn}),k(p.name)]}):"N/A"}},{name:"Actions",center:"true",width:"150px",cell:i=>B(pr,{children:[g(Ae,{onClick:()=>u("editLetter",i),children:"Edit"}),g(Ae,{color:"error",onClick:()=>handleDelete(i.id),children:"Delete"})]})}],w=async(i,p,m)=>{var x,T;console.log(i,p,m);try{const $=await lt.put(route("letters.update"),{id:i,[p]:m});$.status===200?(t(C=>C.map(L=>L.id===i?{...L,[p]:m}:L)),re.success(...$.data.messages||"Letter updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})):re.error($.data.error||`Failed to update letter ${[p]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}catch($){re.error(((T=(x=$.response)==null?void 0:x.data)==null?void 0:T.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}};return B("div",{children:[n&&g(er,{}),g(Xt,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:h.palette.text.primary}}}),g(En,{columns:_,data:e,loading:n,loadingComponent:g(dt,{}),defaultSortField:"received_date",highlightOnHover:!0,responsive:!0,dense:!0})]})};ir.extend(nr);const Ln=ve.memo(({auth:e,title:t,users:r})=>{const n=ut(),[o,u]=f.useState([]),[l,v]=f.useState(!1),[b,h]=f.useState(0),[P,k]=f.useState(0);f.useState([]);const[_,w]=f.useState(),[i,p]=f.useState(null),[m,x]=f.useState(null),[T,$]=f.useState(""),C=Jt(n.breakpoints.down("md")),[L,F]=f.useState(30),[A,a]=f.useState(1),y=async(K,O,W)=>{try{const H=await lt.get(route("letters.paginate"),{params:{page:K,perPage:O,search:W}});console.log(H),u(H.data.data),h(H.data.total),k(H.data.last_page),v(!1)}catch(H){console.log(H),re.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),v(!1)}},D=()=>{const K=new Promise(async(O,W)=>{var H,ie;try{const le=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:i,page:A,perPage:L,search:T,status:filterData.status!=="all"?filterData.status:"",inCharge:filterData.incharge!=="all"?filterData.incharge:"",startDate:(H=filterData.startDate)==null?void 0:H.format("YYYY-MM-DD"),endDate:(ie=filterData.endDate)==null?void 0:ie.format("YYYY-MM-DD")})}),me=await le.json();le.ok?(u(me.data),h(me.total),O("Daily work deleted successfully")):W(me.error||"Failed to delete task")}catch(le){console.error("Error deleting task:",le),W("An error occurred while deleting the task")}finally{E()}});re.promise(K,{pending:{render(){return B("div",{style:{display:"flex",alignItems:"center"},children:[g(dt,{}),g("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:O}){return g(V,{children:O})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:O}){return g(V,{children:O})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}})},d=f.useCallback((K,O)=>{p(K),x(O)},[]),E=f.useCallback(()=>{x(null),p(null)},[]),s=f.useCallback(K=>{x(K)},[]),c=f.useCallback(()=>{x(null)},[]),S=K=>{const O=K.target.value;$(O)};f.useEffect(()=>{v(!0),y(A,L,T)},[A,L,T]);const j=K=>{a(K)};return B(V,{children:[g(Bt,{title:t}),m==="editLetter"&&g(LetterForm,{open:m==="editLetter",currentRow:_,setData:u,closeModal:c}),m==="deleteLetter"&&g(DeleteLetterForm,{open:m==="deleteLetter",handleClose:E,handleDelete:D,setData:u}),m==="importLetters"&&g(LettersUploadForm,{open:m==="importLetters",closeModal:c,setData:u,setTotalRows:h}),m==="exportLetters"&&g(LettersDownloadForm,{open:m==="exportLetters",closeModal:c,data:o,users:r}),g(ne,{sx:{display:"flex",justifyContent:"center",p:2},children:g(Zt,{in:!0,children:B(zt,{children:[g(Qt,{title:t,sx:{padding:"24px"},action:B(ne,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&g(ye,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:g(ar,{})}),e.roles.includes("Administrator")&&g(V,{children:C?B(V,{children:[g(ye,{title:"Import Letters",color:"warning",onClick:()=>s("importLetters"),children:g(je,{})}),g(ye,{title:"Export Letters",color:"success",onClick:()=>s("exportLetters"),children:g(Be,{})})]}):B(V,{children:[g(Ie,{title:"Import Letters",variant:"outlined",color:"warning",startIcon:g(je,{}),onClick:()=>s("importLetters"),children:"Import"}),g(Ie,{title:"Export Letters",variant:"outlined",color:"success",startIcon:g(Be,{}),onClick:()=>s("exportLetters"),children:"Export"})]})})]})}),g(Ke,{children:g(ne,{children:g(Oe,{container:!0,spacing:2,children:g(Oe,{item:!0,xs:12,sm:6,md:3,children:g(ft,{label:"Search",type:"text",fullWidth:!0,variant:"bordered",placeholder:"Search...",value:T,onChange:S,endContent:g(lr,{})})})})})}),B(Ke,{children:[g(Sn,{setData:u,setCurrentRow:w,currentPage:A,setCurrentPage:a,setLoading:v,handleClickOpen:d,openModal:s,totalRows:b,lastPage:P,loading:l,allData:o,users:r,search:T}),b>=30&&g("div",{className:"py-2 px-2 flex justify-center items-center",children:g(cr,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:A,total:P,onChange:j})})]})]})})})]})});Ln.layout=e=>g(tr,{children:e});export{Ln as default};
