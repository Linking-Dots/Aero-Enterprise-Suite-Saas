import{r as x,x as le,j as i,a as e,Q as oe,h as c,S as b,g as m,f as n,d as C}from"./app-DDhVNfvV.js";import{A as te}from"./App-CULBC9Jb.js";import{m as y}from"./GlassCard-B8deHOrc.js";import{F as de}from"./CogIcon-DF22jD2m.js";import{a as ce}from"./DocumentTextIcon-QwzC9WoH.js";import{F as me}from"./ShieldCheckIcon-B8pnYfIx.js";import{F as L}from"./GlobeAltIcon-BeSAdHAC.js";import{F as D}from"./KeyIcon-CAZJdP6I.js";import{F as O}from"./TrashIcon-rGR8b_v2.js";import{F as ne}from"./CheckCircleIcon-BkPxWqsz.js";import{m as he,a as ge,b as pe,c as ue,d as fe}from"./chunk-3BLMMOBU-CpY4Bk7j.js";import{F as xe}from"./ExclamationTriangleIcon-3tpAB86s.js";import{F as be}from"./BuildingOfficeIcon-BXNAJj1w.js";import{t as T}from"./chunk-RIE4DNUQ-CQCaDTp2.js";import{i as p}from"./chunk-6MDMHKHV-DNEscIMF.js";import{a as ye}from"./chunk-A6PX3NG3-DZLS-1Gt.js";import{s as u,l as o}from"./chunk-2GIFKCNQ-B1Kwyu4F.js";import{s as v}from"./XMarkIcon-CRGrHH6E.js";import{c as ve}from"./chunk-J7I6W5JF-Dj4B-Czi.js";import"./app-CYwLuuRk.js";import"./logo-DoLGM3I0.js";import"./EnvelopeIcon-jGHS91X9.js";import"./UserGroupIcon-CFQYzcyB.js";import"./UserIcon-BZDmR83e.js";import"./CreditCardIcon-nnu7lg95.js";import"./ClockIcon-UBQM4q2z.js";import"./QuestionMarkCircleIcon-ClI4UiU9.js";import"./InformationCircleIcon-D0VUrEF1.js";import"./StarIcon-CB497gpk.js";import"./LockClosedIcon-CNT0kaEE.js";import"./chunk-LGMZDQT5-CF5HrKbt.js";import"./number-DfkVkf0F.js";import"./index-I7bPq2YP.js";import"./useLabels-Blg_QI1U.js";import"./create-visual-element-DIA5r6xh.js";import"./chunk-M3MASYO7-DaLySJZS.js";import"./useFormReset-Dv_1w4_q.js";import"./useLabel-C1JBDqVQ.js";import"./useListState-D8r1zUCw.js";import"./chunk-7F3ZLNJ6-CHfbZssJ.js";function ca({auth:we,tenant:r,timezones:w,currencies:N,integrations:_,apiKeys:k}){var A,Y,R,P,M,I,j,z;const[h,K]=x.useState("general"),[$,f]=x.useState(!1),[Ne,V]=x.useState(null),[q,E]=x.useState(r==null?void 0:r.logo_url),{data:s,setData:l,processing:F,errors:t,reset:G}=le({name:(r==null?void 0:r.name)||"",domain:(r==null?void 0:r.domain)||"",description:(r==null?void 0:r.description)||"",website:(r==null?void 0:r.website)||"",phone:(r==null?void 0:r.phone)||"",address:(r==null?void 0:r.address)||"",timezone:(r==null?void 0:r.timezone)||"UTC",currency:(r==null?void 0:r.currency)||"USD",date_format:(r==null?void 0:r.date_format)||"Y-m-d",time_format:(r==null?void 0:r.time_format)||"24",language:(r==null?void 0:r.language)||"en",logo:null,email_notifications:((A=r==null?void 0:r.settings)==null?void 0:A.email_notifications)??!0,browser_notifications:((Y=r==null?void 0:r.settings)==null?void 0:Y.browser_notifications)??!0,marketing_emails:((R=r==null?void 0:r.settings)==null?void 0:R.marketing_emails)??!1,two_factor_required:((P=r==null?void 0:r.settings)==null?void 0:P.two_factor_required)??!1,session_timeout:((M=r==null?void 0:r.settings)==null?void 0:M.session_timeout)||"120",allowed_domains:((I=r==null?void 0:r.settings)==null?void 0:I.allowed_domains)||"",slack_webhook:((j=r==null?void 0:r.settings)==null?void 0:j.slack_webhook)||"",webhook_url:((z=r==null?void 0:r.settings)==null?void 0:z.webhook_url)||""}),U={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},H=[{id:"general",name:"General",icon:de},{id:"notifications",name:"Notifications",icon:ce},{id:"security",name:"Security",icon:me},{id:"integrations",name:"Integrations",icon:L},{id:"api",name:"API Keys",icon:D}],W=a=>{const d=a.target.files[0];if(d){V(d),l("logo",d);const g=new FileReader;g.onload=se=>E(se.target.result),g.readAsDataURL(d)}},Q=a=>{a.preventDefault();const d=new FormData;Object.keys(s).forEach(g=>{s[g]!==null&&s[g]!==void 0&&d.append(g,s[g])}),b.post(route("tenant.settings.update"),d,{forceFormData:!0,onSuccess:()=>{}})},B=()=>{b.delete(route("tenant.destroy"),{onSuccess:()=>{f(!1)}})},J=()=>{b.post(route("api-keys.generate"),{name:"Default API Key",permissions:["read","write"]})},X=a=>{b.delete(route("api-keys.revoke",a))},Z=()=>i("div",{className:"space-y-6",children:[e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Organization Details"}),i("div",{className:"grid md:grid-cols-2 gap-6",children:[i("div",{className:"md:col-span-2",children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Organization Logo"}),i("div",{className:"flex items-center space-x-4",children:[e(ye,{src:q,fallback:e(be,{className:"w-8 h-8"}),size:"lg",className:"w-16 h-16"}),i("div",{children:[e("input",{type:"file",accept:"image/*",onChange:W,className:"hidden",id:"logo-upload"}),e("label",{htmlFor:"logo-upload",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Upload Logo"}),e("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: 256x256px, PNG or JPG"})]})]})]}),e(p,{label:"Organization Name",value:s.name,onChange:a=>l("name",a.target.value),errorMessage:t.name,isInvalid:!!t.name,isRequired:!0}),e(p,{label:"Subdomain",value:s.domain,onChange:a=>l("domain",a.target.value),errorMessage:t.domain,isInvalid:!!t.domain,description:"Your organization's subdomain (e.g., company.aero-hr.com)",endContent:e("span",{className:"text-gray-500",children:".aero-hr.com"})}),e(p,{label:"Website",value:s.website,onChange:a=>l("website",a.target.value),errorMessage:t.website,isInvalid:!!t.website,placeholder:"https://example.com"}),e(p,{label:"Phone",value:s.phone,onChange:a=>l("phone",a.target.value),errorMessage:t.phone,isInvalid:!!t.phone}),e(T,{label:"Description",value:s.description,onChange:a=>l("description",a.target.value),errorMessage:t.description,isInvalid:!!t.description,className:"md:col-span-2",maxRows:3}),e(T,{label:"Address",value:s.address,onChange:a=>l("address",a.target.value),errorMessage:t.address,isInvalid:!!t.address,className:"md:col-span-2",maxRows:3})]})]})}),e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Regional Settings"}),i("div",{className:"grid md:grid-cols-2 gap-6",children:[e(u,{label:"Timezone",selectedKeys:[s.timezone],onSelectionChange:a=>l("timezone",Array.from(a)[0]),children:w==null?void 0:w.map(a=>e(o,{value:a.value,children:a.label},a.value))}),e(u,{label:"Currency",selectedKeys:[s.currency],onSelectionChange:a=>l("currency",Array.from(a)[0]),children:N==null?void 0:N.map(a=>i(o,{value:a.code,children:[a.name," (",a.symbol,")"]},a.code))}),i(u,{label:"Date Format",selectedKeys:[s.date_format],onSelectionChange:a=>l("date_format",Array.from(a)[0]),children:[e(o,{value:"Y-m-d",children:"YYYY-MM-DD"},"Y-m-d"),e(o,{value:"m/d/Y",children:"MM/DD/YYYY"},"m/d/Y"),e(o,{value:"d/m/Y",children:"DD/MM/YYYY"},"d/m/Y"),e(o,{value:"d-m-Y",children:"DD-MM-YYYY"},"d-m-Y")]}),i(u,{label:"Time Format",selectedKeys:[s.time_format],onSelectionChange:a=>l("time_format",Array.from(a)[0]),children:[e(o,{value:"24",children:"24 Hour"},"24"),e(o,{value:"12",children:"12 Hour (AM/PM)"},"12")]})]})]})})]}),ee=()=>e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Notification Preferences"}),i("div",{className:"space-y-6",children:[i("div",{className:"flex justify-between items-center",children:[i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Email Notifications"}),e("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),e(v,{isSelected:s.email_notifications,onValueChange:a=>l("email_notifications",a)})]}),e(C,{}),i("div",{className:"flex justify-between items-center",children:[i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Browser Notifications"}),e("p",{className:"text-sm text-gray-500",children:"Show desktop notifications in your browser"})]}),e(v,{isSelected:s.browser_notifications,onValueChange:a=>l("browser_notifications",a)})]}),e(C,{}),i("div",{className:"flex justify-between items-center",children:[i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Marketing Emails"}),e("p",{className:"text-sm text-gray-500",children:"Receive product updates and tips"})]}),e(v,{isSelected:s.marketing_emails,onValueChange:a=>l("marketing_emails",a)})]})]})]})}),ae=()=>e("div",{className:"space-y-6",children:e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Security Settings"}),i("div",{className:"space-y-6",children:[i("div",{className:"flex justify-between items-center",children:[i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Require Two-Factor Authentication"}),e("p",{className:"text-sm text-gray-500",children:"Force all users to enable 2FA"})]}),e(v,{isSelected:s.two_factor_required,onValueChange:a=>l("two_factor_required",a)})]}),e(C,{}),i("div",{className:"grid md:grid-cols-2 gap-6",children:[i(u,{label:"Session Timeout (minutes)",selectedKeys:[s.session_timeout],onSelectionChange:a=>l("session_timeout",Array.from(a)[0]),children:[e(o,{value:"30",children:"30 minutes"},"30"),e(o,{value:"60",children:"1 hour"},"60"),e(o,{value:"120",children:"2 hours"},"120"),e(o,{value:"240",children:"4 hours"},"240"),e(o,{value:"480",children:"8 hours"},"480")]}),e(p,{label:"Allowed Email Domains",value:s.allowed_domains,onChange:a=>l("allowed_domains",a.target.value),placeholder:"example.com, company.org",description:"Comma-separated list of allowed email domains for user registration"})]})]})]})})}),re=()=>i("div",{className:"space-y-6",children:[e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"External Integrations"}),i("div",{className:"space-y-6",children:[e(p,{label:"Slack Webhook URL",value:s.slack_webhook,onChange:a=>l("slack_webhook",a.target.value),placeholder:"https://hooks.slack.com/services/...",description:"Send notifications to Slack"}),e(p,{label:"Generic Webhook URL",value:s.webhook_url,onChange:a=>l("webhook_url",a.target.value),placeholder:"https://your-app.com/webhook",description:"Receive event notifications via webhook"})]})]})}),e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Available Integrations"}),e("div",{className:"grid md:grid-cols-2 gap-4",children:_==null?void 0:_.map(a=>i("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i("div",{className:"flex items-center space-x-3",children:[e("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:e(L,{className:"w-6 h-6 text-gray-600"})}),i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.name}),e("p",{className:"text-sm text-gray-500",children:a.description})]})]}),e(c,{size:"sm",color:a.connected?"success":"primary",variant:a.connected?"bordered":"solid",children:a.connected?"Connected":"Connect"})]},a.id))})]})})]}),ie=()=>i("div",{className:"space-y-6",children:[e(n,{children:i(m,{className:"p-6",children:[i("div",{className:"flex justify-between items-center mb-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"API Keys"}),e(c,{color:"primary",startContent:e(D,{className:"w-4 h-4"}),onPress:J,children:"Generate New Key"})]}),k&&k.length>0?e("div",{className:"space-y-4",children:k.map(a=>{var d;return i("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i("div",{children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:a.name}),i("p",{className:"text-sm text-gray-500 font-mono",children:[a.key.substring(0,20),"..."]}),i("div",{className:"flex items-center space-x-2 mt-2",children:[e(ve,{size:"sm",color:"primary",children:(d=a.permissions)==null?void 0:d.join(", ")}),i("span",{className:"text-xs text-gray-500",children:["Created ",new Date(a.created_at).toLocaleDateString()]})]})]}),e(c,{size:"sm",color:"danger",variant:"light",startContent:e(O,{className:"w-4 h-4"}),onPress:()=>X(a.id),children:"Revoke"})]},a.id)})}):i("div",{className:"text-center py-8",children:[e(D,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e("p",{className:"text-gray-500 text-sm",children:"No API keys generated yet"})]})]})}),e(n,{children:i(m,{className:"p-6",children:[e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"API Documentation"}),e("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Learn how to integrate with our API to manage your HR data programmatically."}),e(c,{variant:"bordered",children:"View API Docs"})]})})]});return i(te,{children:[e(oe,{title:"Organization Settings"}),i(y.div,{variants:U,initial:"hidden",animate:"visible",className:"space-y-6",children:[e(y.div,{variants:S,children:e("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:i("div",{children:[e("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Organization Settings"}),e("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Manage your organization's configuration and preferences"})]})})}),e(y.div,{variants:S,children:e("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e("nav",{className:"-mb-px flex space-x-8",children:H.map(a=>e("button",{onClick:()=>K(a.id),className:`whitespace-nowrap border-b-2 py-2 px-1 text-sm font-medium ${h===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:i("div",{className:"flex items-center space-x-2",children:[e(a.icon,{className:"w-5 h-5"}),e("span",{children:a.name})]})},a.id))})})}),i(y.form,{variants:S,onSubmit:Q,children:[h==="general"&&Z(),h==="notifications"&&ee(),h==="security"&&ae(),h==="integrations"&&re(),h==="api"&&ie(),h!=="api"&&i("div",{className:"flex justify-between items-center pt-6",children:[e(c,{color:"danger",variant:"bordered",startContent:e(O,{className:"w-4 h-4"}),onPress:()=>f(!0),children:"Delete Organization"}),i("div",{className:"flex space-x-3",children:[e(c,{variant:"bordered",onPress:()=>G(),children:"Reset"}),e(c,{type:"submit",color:"primary",isLoading:F,startContent:e(ne,{className:"w-4 h-4"}),children:"Save Changes"})]})]})]})]}),e(fe,{isOpen:$,onClose:()=>f(!1),children:i(he,{children:[e(ge,{className:"text-red-600",children:"Delete Organization"}),e(pe,{children:i("div",{className:"flex items-start space-x-3",children:[e(xe,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-1"}),i("div",{children:[e("p",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"This action cannot be undone!"}),e("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Deleting your organization will permanently remove all data, including:"}),i("ul",{className:"text-sm text-gray-600 dark:text-gray-300 mt-2 ml-4 list-disc",children:[e("li",{children:"All employee records"}),e("li",{children:"Time tracking data"}),e("li",{children:"Projects and tasks"}),e("li",{children:"Documents and files"}),e("li",{children:"All other organization data"})]})]})]})}),i(ue,{children:[e(c,{variant:"light",onPress:()=>f(!1),children:"Cancel"}),e(c,{color:"danger",onPress:B,isLoading:F,children:"Yes, Delete Organization"})]})]})})]})}export{ca as default};
