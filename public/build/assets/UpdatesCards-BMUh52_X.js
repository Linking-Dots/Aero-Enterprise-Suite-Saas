import{V as yt,a as f,j as P,c as $t}from"./app-Cx6osnIW.js";import{r as p,j as z,R as Le,ab as Et,ar as wt,G as ae,B as L,e as ge,g as Ye,T as H,D as be,a as Xe,u as Tt,av as xt}from"./vendor-J4RMAgoc.js";import{t as Pt,K as Ct,x as E,h as qe,L as St,q as ce,M as Lt,i as Ze,$ as Fe,_ as Oe,N as Ft,O as kt,m as Mt,o as Nt,G as Je,d as he,F as ye,f as Qe,b as _e}from"./App-BGmAVVU1.js";import{d as G}from"./dayjs.min-CR49Oj9R.js";import{i as Dt}from"./isBetween-CVngItXV.js";import{b as Kt,A as Ot,a as et}from"./chunk-A6PX3NG3-C9j74mWM.js";import{F as Ie,a as _t,b as It}from"./XCircleIcon-C-pFWxlx.js";import{C as At}from"./chunk-M3MASYO7-BySIlsqy.js";import{c as Ae,s as He,F as Ht}from"./CheckCircleIcon-BMQMK9j0.js";var Re=Pt({slots:{base:["relative","max-w-fit","min-w-min","inline-flex","items-center","justify-between","box-border","whitespace-nowrap"],content:"flex-1 text-inherit font-normal",dot:["w-2","h-2","ml-1","rounded-full"],avatar:"flex-shrink-0",closeButton:["z-10","appearance-none","outline-none","select-none","transition-opacity","opacity-70","hover:opacity-100","cursor-pointer","active:opacity-disabled","tap-highlight-transparent"]},variants:{variant:{solid:{},bordered:{base:"border-medium bg-transparent"},light:{base:"bg-transparent"},flat:{},faded:{base:"border-medium"},shadow:{},dot:{base:"border-medium border-default text-foreground bg-transparent"}},color:{default:{dot:"bg-default-400"},primary:{dot:"bg-primary"},secondary:{dot:"bg-secondary"},success:{dot:"bg-success"},warning:{dot:"bg-warning"},danger:{dot:"bg-danger"}},size:{sm:{base:"px-1 h-6 text-tiny",content:"px-1",closeButton:"text-medium",avatar:"w-4 h-4"},md:{base:"px-1 h-7 text-small",content:"px-2",closeButton:"text-large",avatar:"w-5 h-5"},lg:{base:"px-2 h-8 text-medium",content:"px-2",closeButton:"text-xl",avatar:"w-6 h-6"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isOneChar:{true:{},false:{}},isCloseable:{true:{},false:{}},hasStartContent:{true:{}},hasEndContent:{true:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isCloseButtonFocusVisible:{true:{closeButton:[...Ct,"ring-1","rounded-full"]}}},defaultVariants:{variant:"solid",color:"default",size:"md",radius:"full",isDisabled:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:E.solid.default}},{variant:"solid",color:"primary",class:{base:E.solid.primary}},{variant:"solid",color:"secondary",class:{base:E.solid.secondary}},{variant:"solid",color:"success",class:{base:E.solid.success}},{variant:"solid",color:"warning",class:{base:E.solid.warning}},{variant:"solid",color:"danger",class:{base:E.solid.danger}},{variant:"shadow",color:"default",class:{base:E.shadow.default}},{variant:"shadow",color:"primary",class:{base:E.shadow.primary}},{variant:"shadow",color:"secondary",class:{base:E.shadow.secondary}},{variant:"shadow",color:"success",class:{base:E.shadow.success}},{variant:"shadow",color:"warning",class:{base:E.shadow.warning}},{variant:"shadow",color:"danger",class:{base:E.shadow.danger}},{variant:"bordered",color:"default",class:{base:E.bordered.default}},{variant:"bordered",color:"primary",class:{base:E.bordered.primary}},{variant:"bordered",color:"secondary",class:{base:E.bordered.secondary}},{variant:"bordered",color:"success",class:{base:E.bordered.success}},{variant:"bordered",color:"warning",class:{base:E.bordered.warning}},{variant:"bordered",color:"danger",class:{base:E.bordered.danger}},{variant:"flat",color:"default",class:{base:E.flat.default}},{variant:"flat",color:"primary",class:{base:E.flat.primary}},{variant:"flat",color:"secondary",class:{base:E.flat.secondary}},{variant:"flat",color:"success",class:{base:E.flat.success}},{variant:"flat",color:"warning",class:{base:E.flat.warning}},{variant:"flat",color:"danger",class:{base:E.flat.danger}},{variant:"faded",color:"default",class:{base:E.faded.default}},{variant:"faded",color:"primary",class:{base:E.faded.primary}},{variant:"faded",color:"secondary",class:{base:E.faded.secondary}},{variant:"faded",color:"success",class:{base:E.faded.success}},{variant:"faded",color:"warning",class:{base:E.faded.warning}},{variant:"faded",color:"danger",class:{base:E.faded.danger}},{variant:"light",color:"default",class:{base:E.light.default}},{variant:"light",color:"primary",class:{base:E.light.primary}},{variant:"light",color:"secondary",class:{base:E.light.secondary}},{variant:"light",color:"success",class:{base:E.light.success}},{variant:"light",color:"warning",class:{base:E.light.warning}},{variant:"light",color:"danger",class:{base:E.light.danger}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"sm",class:{base:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"md",class:{base:"w-6 h-6 min-w-6 min-h-6"}},{isOneChar:!0,hasStartContent:!1,hasEndContent:!1,size:"lg",class:{base:"w-7 h-7 min-w-7 min-h-7"}},{isOneChar:!0,isCloseable:!1,hasStartContent:!1,hasEndContent:!1,class:{base:"px-0 justify-center",content:"px-0 flex-none"}},{isOneChar:!0,isCloseable:!0,hasStartContent:!1,hasEndContent:!1,class:{base:"w-auto"}},{isOneChar:!0,variant:"dot",class:{base:"w-auto h-7 px-1 items-center",content:"px-2"}},{hasStartContent:!0,size:"sm",class:{content:"pl-0.5"}},{hasStartContent:!0,size:["md","lg"],class:{content:"pl-1"}},{hasEndContent:!0,size:"sm",class:{content:"pr-0.5"}},{hasEndContent:!0,size:["md","lg"],class:{content:"pr-1"}}]});function Rt(e={}){const{as:t,ref:n,max:a=5,total:o,size:l,color:c,radius:v,children:d,isBordered:g,isDisabled:m,isGrid:y,renderCount:D,className:F,classNames:K,...N}=e,C=qe(n),R=t||"div",O=p.useMemo(()=>({size:l,color:c,radius:v,isGrid:y,isBordered:g,isDisabled:m}),[l,c,v,y,g,m]),k=p.useMemo(()=>Kt({className:F,isGrid:y}),[F,y]),h=St(d),x=a?h.slice(0,a):h,_=o||(a!=null?h.length-a:-1),A=x.map((T,i)=>{const w=i===0,s=i===x.length-1,$={className:ce(w?"ms-0":y?"":"-ms-2",s&&_<1?"hover:-translate-x-0":"")};return p.cloneElement(T,Lt($))});return{Component:R,context:O,remainingCount:_,clones:A,renderCount:D,getAvatarGroupProps:()=>({ref:C,className:k.base({class:ce(K==null?void 0:K.base,F)}),role:"group",...N}),getAvatarGroupCountProps:()=>({className:k.count({class:K==null?void 0:K.count})})}}var tt=Ze((e,t)=>{const{Component:n,clones:a,context:o,remainingCount:l,getAvatarGroupCountProps:c,getAvatarGroupProps:v,renderCount:d=g=>z.jsx(et,{...c(),name:`+${g}`})}=Rt({...e,ref:t});return z.jsx(n,{...v(),children:z.jsxs(Ot,{value:o,children:[a,l>0&&d(l)]})})});tt.displayName="HeroUI.AvatarGroup";var Ut=tt;const ke=typeof document<"u"?Le.useLayoutEffect:()=>{};function Z(e){const t=p.useRef(null);return ke(()=>{t.current=e},[e]),p.useCallback((...n)=>{const a=t.current;return a==null?void 0:a(...n)},[])}let $e=new Map;typeof FinalizationRegistry<"u"&&new FinalizationRegistry(e=>{$e.delete(e)});function Bt(e,t){if(e===t)return e;let n=$e.get(e);if(n)return n.forEach(o=>o.current=t),t;let a=$e.get(t);return a?(a.forEach(o=>o.current=e),e):t}function rt(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const U=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},W=e=>e&&"window"in e&&e.window===e?e:U(e).defaultView||window;function Wt(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Gt(e){return Wt(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}function M(e,t){if(!Fe())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Gt(n)?n=n.host:n=n.parentNode}return!1}const Ee=(e=document)=>{var t;if(!Fe())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function S(e){return Fe()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Me(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let a=e[n];for(let o in a){let l=t[o],c=a[o];typeof l=="function"&&typeof c=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=rt(l,c):(o==="className"||o==="UNSAFE_className")&&typeof l=="string"&&typeof c=="string"?t[o]=Et(l,c):o==="id"&&l&&c?t.id=Bt(l,c):t[o]=c!==void 0?c:l}}return t}function de(e){if(jt())e.focus({preventScroll:!0});else{let t=Vt(e);e.focus(),zt(t)}}let se=null;function jt(){if(se==null){se=!1;try{document.createElement("div").focus({get preventScroll(){return se=!0,!0}})}catch{}}return se}function Vt(e){let t=e.parentNode,n=[],a=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==a;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return a instanceof HTMLElement&&n.push({element:a,scrollTop:a.scrollTop,scrollLeft:a.scrollLeft}),n}function zt(e){for(let{element:t,scrollTop:n,scrollLeft:a}of e)t.scrollTop=n,t.scrollLeft=a}function pe(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Ne(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Y(e){let t=null;return()=>(t==null&&(t=e()),t)}const te=Y(function(){return Ne(/^Mac/i)}),Yt=Y(function(){return Ne(/^iPhone/i)}),nt=Y(function(){return Ne(/^iPad/i)||te()&&navigator.maxTouchPoints>1}),at=Y(function(){return Yt()||nt()}),Xt=Y(function(){return pe(/AppleWebKit/i)&&!qt()}),qt=Y(function(){return pe(/Chrome/i)}),st=Y(function(){return pe(/Android/i)}),Zt=Y(function(){return pe(/Firefox/i)});function re(e,t,n=!0){var a,o;let{metaKey:l,ctrlKey:c,altKey:v,shiftKey:d}=t;Zt()&&(!((o=window.event)===null||o===void 0||(a=o.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(te()?l=!0:c=!0);let g=Xt()&&te()&&!nt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:l,ctrlKey:c,altKey:v,shiftKey:d}):new MouseEvent("click",{metaKey:l,ctrlKey:c,altKey:v,shiftKey:d,bubbles:!0,cancelable:!0});re.isOpening=n,de(e),e.dispatchEvent(g),re.isOpening=!1}re.isOpening=!1;let J=new Map,we=new Set;function Ue(){if(typeof window>"u")return;function e(a){return"propertyName"in a}let t=a=>{if(!e(a)||!a.target)return;let o=J.get(a.target);o||(o=new Set,J.set(a.target,o),a.target.addEventListener("transitioncancel",n,{once:!0})),o.add(a.propertyName)},n=a=>{if(!e(a)||!a.target)return;let o=J.get(a.target);if(o&&(o.delete(a.propertyName),o.size===0&&(a.target.removeEventListener("transitioncancel",n),J.delete(a.target)),J.size===0)){for(let l of we)l();we.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Ue():document.addEventListener("DOMContentLoaded",Ue));function Jt(e){requestAnimationFrame(()=>{J.size===0?e():we.add(e)})}function ot(){let e=p.useRef(new Map),t=p.useCallback((o,l,c,v)=>{let d=v!=null&&v.once?(...g)=>{e.current.delete(c),c(...g)}:c;e.current.set(c,{type:l,eventTarget:o,fn:d,options:v}),o.addEventListener(l,d,v)},[]),n=p.useCallback((o,l,c,v)=>{var d;let g=((d=e.current.get(c))===null||d===void 0?void 0:d.fn)||c;o.removeEventListener(l,g,v),e.current.delete(c)},[]),a=p.useCallback(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return p.useEffect(()=>a,[a]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:a}}function Qt(e,t){ke(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Te(e){return e.mozInputSource===0&&e.isTrusted?!0:st()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function er(e){return!st()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}const it=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],tr=it.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";it.push('[tabindex]:not([tabindex="-1"]):not([disabled])');function rr(e){return e.matches(tr)}let Q="default",xe="",le=new WeakMap;function Be(e){if(at()){if(Q==="default"){const t=U(e);xe=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Q="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";le.set(e,e.style[t]),e.style[t]="none"}}function ve(e){if(at()){if(Q!=="disabled")return;Q="restoring",setTimeout(()=>{Jt(()=>{if(Q==="restoring"){const t=U(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=xe||""),xe="",Q="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&le.has(e)){let t=le.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),le.delete(e)}}const lt=Le.createContext({register:()=>{}});lt.displayName="PressResponderContext";class ct{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function dt(e){let t=p.useRef({isFocused:!1,observer:null});ke(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let n=Z(a=>{e==null||e(a)});return p.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=a.target,l=c=>{t.current.isFocused=!1,o.disabled&&n(new ct("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let v=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:v})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:v}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let ue=!1;function We(e){for(;e&&!rr(e);)e=e.parentElement;let t=W(e),n=t.document.activeElement;if(!n||n===e)return;ue=!0;let a=!1,o=m=>{(m.target===n||a)&&m.stopImmediatePropagation()},l=m=>{(m.target===n||a)&&(m.stopImmediatePropagation(),!e&&!a&&(a=!0,de(n),d()))},c=m=>{(m.target===e||a)&&m.stopImmediatePropagation()},v=m=>{(m.target===e||a)&&(m.stopImmediatePropagation(),a||(a=!0,de(n),d()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",l,!0),t.addEventListener("focusin",v,!0),t.addEventListener("focus",c,!0);let d=()=>{cancelAnimationFrame(g),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",l,!0),t.removeEventListener("focusin",v,!0),t.removeEventListener("focus",c,!0),ue=!1,a=!1},g=requestAnimationFrame(d);return d}function nr(e){let t=p.useContext(lt);if(t){let{register:n,...a}=t;e=Me(a,e),n()}return Qt(t,e.ref),e}var oe=new WeakMap;class ie{continuePropagation(){Oe(this,oe,!1)}get shouldStopPropagation(){return Ft(this,oe)}constructor(t,n,a,o){kt(this,oe,{writable:!0,value:void 0}),Oe(this,oe,!0);var l;let c=(l=o==null?void 0:o.target)!==null&&l!==void 0?l:a.currentTarget;const v=c==null?void 0:c.getBoundingClientRect();let d,g=0,m,y=null;a.clientX!=null&&a.clientY!=null&&(m=a.clientX,y=a.clientY),v&&(m!=null&&y!=null?(d=m-v.left,g=y-v.top):(d=v.width/2,g=v.height/2)),this.type=t,this.pointerType=n,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=d,this.y=g}}const Ge=Symbol("linkClicked");function ar(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:l,isDisabled:c,isPressed:v,preventFocusOnPress:d,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:m,ref:y,...D}=nr(e),[F,K]=p.useState(!1),N=p.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:C,removeAllGlobalListeners:R}=ot(),O=Z((r,u)=>{let T=N.current;if(c||T.didFirePressStart)return!1;let i=!0;if(T.isTriggeringEvent=!0,a){let w=new ie("pressstart",u,r);a(w),i=w.shouldStopPropagation}return n&&n(!0),T.isTriggeringEvent=!1,T.didFirePressStart=!0,K(!0),i}),k=Z((r,u,T=!0)=>{let i=N.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let w=!0;if(o){let s=new ie("pressend",u,r);o(s),w=s.shouldStopPropagation}if(n&&n(!1),K(!1),t&&T&&!c){let s=new ie("press",u,r);t(s),w&&(w=s.shouldStopPropagation)}return i.isTriggeringEvent=!1,w}),h=Z((r,u)=>{let T=N.current;if(c)return!1;if(l){T.isTriggeringEvent=!0;let i=new ie("pressup",u,r);return l(i),T.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),x=Z(r=>{let u=N.current;if(u.isPressed&&u.target){u.didFirePressStart&&u.pointerType!=null&&k(q(u.target,r),u.pointerType,!1),u.isPressed=!1,u.isOverTarget=!1,u.activePointerId=null,u.pointerType=null,R(),m||ve(u.target);for(let T of u.disposables)T();u.disposables=[]}}),_=Z(r=>{g&&x(r)}),A=p.useMemo(()=>{let r=N.current,u={onKeyDown(i){if(me(i.nativeEvent,i.currentTarget)&&M(i.currentTarget,S(i.nativeEvent))){var w;ze(S(i.nativeEvent),i.key)&&i.preventDefault();let s=!0;if(!r.isPressed&&!i.repeat){r.target=i.currentTarget,r.isPressed=!0,r.pointerType="keyboard",s=O(i,"keyboard");let $=i.currentTarget,b=I=>{me(I,$)&&!I.repeat&&M($,S(I))&&r.target&&h(q(r.target,I),"keyboard")};C(U(i.currentTarget),"keyup",rt(b,T),!0)}s&&i.stopPropagation(),i.metaKey&&te()&&((w=r.metaKeyEvents)===null||w===void 0||w.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(i){if(!(i&&!M(i.currentTarget,S(i.nativeEvent)))&&i&&i.button===0&&!r.isTriggeringEvent&&!re.isOpening){let w=!0;if(c&&i.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Te(i.nativeEvent))){let s=O(i,"virtual"),$=h(i,"virtual"),b=k(i,"virtual");w=s&&$&&b}else if(r.isPressed&&r.pointerType!=="keyboard"){let s=r.pointerType||i.nativeEvent.pointerType||"virtual";w=k(q(i.currentTarget,i),s,!0),r.isOverTarget=!1,x(i)}r.ignoreEmulatedMouseEvents=!1,w&&i.stopPropagation()}}},T=i=>{var w;if(r.isPressed&&r.target&&me(i,r.target)){var s;ze(S(i),i.key)&&i.preventDefault();let b=S(i);k(q(r.target,i),"keyboard",M(r.target,S(i))),R(),i.key!=="Enter"&&De(r.target)&&M(r.target,b)&&!i[Ge]&&(i[Ge]=!0,re(r.target,i,!1)),r.isPressed=!1,(s=r.metaKeyEvents)===null||s===void 0||s.delete(i.key)}else if(i.key==="Meta"&&(!((w=r.metaKeyEvents)===null||w===void 0)&&w.size)){var $;let b=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let I of b.values())($=r.target)===null||$===void 0||$.dispatchEvent(new KeyboardEvent("keyup",I))}};if(typeof PointerEvent<"u"){u.onPointerDown=s=>{if(s.button!==0||!M(s.currentTarget,S(s.nativeEvent)))return;if(er(s.nativeEvent)){r.pointerType="virtual";return}r.pointerType=s.pointerType;let $=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=s.pointerId,r.target=s.currentTarget,m||Be(r.target),$=O(s,r.pointerType);let b=S(s.nativeEvent);"releasePointerCapture"in b&&b.releasePointerCapture(s.pointerId),C(U(s.currentTarget),"pointerup",i,!1),C(U(s.currentTarget),"pointercancel",w,!1)}$&&s.stopPropagation()},u.onMouseDown=s=>{if(M(s.currentTarget,S(s.nativeEvent))&&s.button===0){if(d){let $=We(s.target);$&&r.disposables.push($)}s.stopPropagation()}},u.onPointerUp=s=>{!M(s.currentTarget,S(s.nativeEvent))||r.pointerType==="virtual"||s.button===0&&h(s,r.pointerType||s.pointerType)},u.onPointerEnter=s=>{s.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,O(q(r.target,s),r.pointerType))},u.onPointerLeave=s=>{s.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,k(q(r.target,s),r.pointerType,!1),_(s))};let i=s=>{if(s.pointerId===r.activePointerId&&r.isPressed&&s.button===0&&r.target){if(M(r.target,S(s))&&r.pointerType!=null){let $=!1,b=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&($?x(s):(de(r.target),r.target.click()))},80);C(s.currentTarget,"click",()=>$=!0,!0),r.disposables.push(()=>clearTimeout(b))}else x(s);r.isOverTarget=!1}},w=s=>{x(s)};u.onDragStart=s=>{M(s.currentTarget,S(s.nativeEvent))&&x(s)}}else{u.onMouseDown=s=>{if(s.button!==0||!M(s.currentTarget,S(s.nativeEvent)))return;if(r.ignoreEmulatedMouseEvents){s.stopPropagation();return}if(r.isPressed=!0,r.isOverTarget=!0,r.target=s.currentTarget,r.pointerType=Te(s.nativeEvent)?"virtual":"mouse",wt.flushSync(()=>O(s,r.pointerType))&&s.stopPropagation(),d){let b=We(s.target);b&&r.disposables.push(b)}C(U(s.currentTarget),"mouseup",i,!1)},u.onMouseEnter=s=>{if(!M(s.currentTarget,S(s.nativeEvent)))return;let $=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!0,$=O(s,r.pointerType)),$&&s.stopPropagation()},u.onMouseLeave=s=>{if(!M(s.currentTarget,S(s.nativeEvent)))return;let $=!0;r.isPressed&&!r.ignoreEmulatedMouseEvents&&r.pointerType!=null&&(r.isOverTarget=!1,$=k(s,r.pointerType,!1),_(s)),$&&s.stopPropagation()},u.onMouseUp=s=>{M(s.currentTarget,S(s.nativeEvent))&&!r.ignoreEmulatedMouseEvents&&s.button===0&&h(s,r.pointerType||"mouse")};let i=s=>{if(s.button===0){if(r.ignoreEmulatedMouseEvents){r.ignoreEmulatedMouseEvents=!1;return}r.target&&r.target.contains(s.target)&&r.pointerType!=null||x(s),r.isOverTarget=!1}};u.onTouchStart=s=>{if(!M(s.currentTarget,S(s.nativeEvent)))return;let $=sr(s.nativeEvent);if(!$)return;r.activePointerId=$.identifier,r.ignoreEmulatedMouseEvents=!0,r.isOverTarget=!0,r.isPressed=!0,r.target=s.currentTarget,r.pointerType="touch",m||Be(r.target),O(V(r.target,s),r.pointerType)&&s.stopPropagation(),C(W(s.currentTarget),"scroll",w,!0)},u.onTouchMove=s=>{if(!M(s.currentTarget,S(s.nativeEvent)))return;if(!r.isPressed){s.stopPropagation();return}let $=je(s.nativeEvent,r.activePointerId),b=!0;$&&Ve($,s.currentTarget)?!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,b=O(V(r.target,s),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,b=k(V(r.target,s),r.pointerType,!1),_(V(r.target,s))),b&&s.stopPropagation()},u.onTouchEnd=s=>{if(!M(s.currentTarget,S(s.nativeEvent)))return;if(!r.isPressed){s.stopPropagation();return}let $=je(s.nativeEvent,r.activePointerId),b=!0;$&&Ve($,s.currentTarget)&&r.pointerType!=null?(h(V(r.target,s),r.pointerType),b=k(V(r.target,s),r.pointerType)):r.isOverTarget&&r.pointerType!=null&&(b=k(V(r.target,s),r.pointerType,!1)),b&&s.stopPropagation(),r.isPressed=!1,r.activePointerId=null,r.isOverTarget=!1,r.ignoreEmulatedMouseEvents=!0,r.target&&!m&&ve(r.target),R()},u.onTouchCancel=s=>{M(s.currentTarget,S(s.nativeEvent))&&(s.stopPropagation(),r.isPressed&&x(V(r.target,s)))};let w=s=>{r.isPressed&&M(S(s),r.target)&&x({currentTarget:r.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};u.onDragStart=s=>{M(s.currentTarget,S(s.nativeEvent))&&x(s)}}return u},[C,c,d,R,m,x,_,k,O,h]);return p.useEffect(()=>{let r=N.current;return()=>{var u;m||ve((u=r.target)!==null&&u!==void 0?u:void 0);for(let T of r.disposables)T();r.disposables=[]}},[m]),{isPressed:v||F,pressProps:Me(D,A)}}function De(e){return e.tagName==="A"&&e.hasAttribute("href")}function me(e,t){const{key:n,code:a}=e,o=t,l=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||a==="Space")&&!(o instanceof W(o).HTMLInputElement&&!ut(o,n)||o instanceof W(o).HTMLTextAreaElement||o.isContentEditable)&&!((l==="link"||!l&&De(o))&&n!=="Enter")}function sr(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function je(e,t){const n=e.changedTouches;for(let a=0;a<n.length;a++){const o=n[a];if(o.identifier===t)return o}return null}function V(e,t){let n=0,a=0;return t.targetTouches&&t.targetTouches.length===1&&(n=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY),{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function q(e,t){let n=t.clientX,a=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function or(e){let t=0,n=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function ir(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Ve(e,t){let n=t.getBoundingClientRect(),a=or(e);return ir(n,a)}function lr(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!De(e)}function ze(e,t){return e instanceof HTMLInputElement?!ut(e,t):lr(e)}const cr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ut(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":cr.has(e.type)}let ne=null,Pe=new Set,ee=new Map,X=!1,Ce=!1;const dr={Tab:!0,Escape:!0};function Ke(e,t){for(let n of Pe)n(e,t)}function ur(e){return!(e.metaKey||!te()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function fe(e){X=!0,ur(e)&&(ne="keyboard",Ke("keyboard",e))}function B(e){ne="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(X=!0,Ke("pointer",e))}function ft(e){Te(e)&&(X=!0,ne="virtual")}function pt(e){e.target===window||e.target===document||ue||!e.isTrusted||(!X&&!Ce&&(ne="virtual",Ke("virtual",e)),X=!1,Ce=!1)}function vt(){ue||(X=!1,Ce=!0)}function Se(e){if(typeof window>"u"||ee.get(W(e)))return;const t=W(e),n=U(e);let a=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){X=!0,a.apply(this,arguments)},n.addEventListener("keydown",fe,!0),n.addEventListener("keyup",fe,!0),n.addEventListener("click",ft,!0),t.addEventListener("focus",pt,!0),t.addEventListener("blur",vt,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",B,!0),n.addEventListener("pointermove",B,!0),n.addEventListener("pointerup",B,!0)):(n.addEventListener("mousedown",B,!0),n.addEventListener("mousemove",B,!0),n.addEventListener("mouseup",B,!0)),t.addEventListener("beforeunload",()=>{mt(e)},{once:!0}),ee.set(t,{focus:a})}const mt=(e,t)=>{const n=W(e),a=U(e);t&&a.removeEventListener("DOMContentLoaded",t),ee.has(n)&&(n.HTMLElement.prototype.focus=ee.get(n).focus,a.removeEventListener("keydown",fe,!0),a.removeEventListener("keyup",fe,!0),a.removeEventListener("click",ft,!0),n.removeEventListener("focus",pt,!0),n.removeEventListener("blur",vt,!1),typeof PointerEvent<"u"?(a.removeEventListener("pointerdown",B,!0),a.removeEventListener("pointermove",B,!0),a.removeEventListener("pointerup",B,!0)):(a.removeEventListener("mousedown",B,!0),a.removeEventListener("mousemove",B,!0),a.removeEventListener("mouseup",B,!0)),ee.delete(n))};function fr(e){const t=U(e);let n;return t.readyState!=="loading"?Se(e):(n=()=>{Se(e)},t.addEventListener("DOMContentLoaded",n)),()=>mt(e,n)}typeof document<"u"&&fr();function gt(){return ne!=="pointer"}const pr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vr(e,t,n){let a=U(n==null?void 0:n.target);const o=typeof window<"u"?W(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?W(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?W(n==null?void 0:n.target).HTMLElement:HTMLElement,v=typeof window<"u"?W(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||a.activeElement instanceof o&&!pr.has(a.activeElement.type)||a.activeElement instanceof l||a.activeElement instanceof c&&a.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof v&&!dr[n.key])}function mr(e,t,n){Se(),p.useEffect(()=>{let a=(o,l)=>{vr(!!(n!=null&&n.isTextInput),o,l)&&e(gt())};return Pe.add(a),()=>{Pe.delete(a)}},t)}function gr(e){let{isDisabled:t,onFocus:n,onBlur:a,onFocusChange:o}=e;const l=p.useCallback(d=>{if(d.target===d.currentTarget)return a&&a(d),o&&o(!1),!0},[a,o]),c=dt(l),v=p.useCallback(d=>{const g=U(d.target),m=g?Ee(g):Ee();d.target===d.currentTarget&&m===S(d.nativeEvent)&&(n&&n(d),o&&o(!0),c(d))},[o,n,c]);return{focusProps:{onFocus:!t&&(n||o||a)?v:void 0,onBlur:!t&&(a||o)?l:void 0}}}function br(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:o}=e,l=p.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:v}=ot(),d=p.useCallback(y=>{y.currentTarget.contains(y.target)&&l.current.isFocusWithin&&!y.currentTarget.contains(y.relatedTarget)&&(l.current.isFocusWithin=!1,v(),n&&n(y),o&&o(!1))},[n,o,l,v]),g=dt(d),m=p.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const D=U(y.target),F=Ee(D);if(!l.current.isFocusWithin&&F===S(y.nativeEvent)){a&&a(y),o&&o(!0),l.current.isFocusWithin=!0,g(y);let K=y.currentTarget;c(D,"focus",N=>{if(l.current.isFocusWithin&&!M(K,N.target)){let C=new ct("blur",new D.defaultView.FocusEvent("blur",{relatedTarget:N.target}));C.target=K,C.currentTarget=K,d(C)}},{capture:!0})}},[a,o,g,c,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}function hr(e={}){let{autoFocus:t=!1,isTextInput:n,within:a}=e,o=p.useRef({isFocused:!1,isFocusVisible:t||gt()}),[l,c]=p.useState(!1),[v,d]=p.useState(()=>o.current.isFocused&&o.current.isFocusVisible),g=p.useCallback(()=>d(o.current.isFocused&&o.current.isFocusVisible),[]),m=p.useCallback(F=>{o.current.isFocused=F,c(F),g()},[g]);mr(F=>{o.current.isFocusVisible=F,g()},[],{isTextInput:n});let{focusProps:y}=gr({isDisabled:a,onFocusChange:m}),{focusWithinProps:D}=br({isDisabled:!a,onFocusWithinChange:m});return{isFocused:l,isFocusVisible:v,focusProps:a?D:y}}function yr(e){const[t,n]=Mt(e,Re.variantKeys),{ref:a,as:o,children:l,avatar:c,startContent:v,endContent:d,onClose:g,classNames:m,className:y,...D}=t,F=o||"div",K=qe(a),N=ce(m==null?void 0:m.base,y),C=!!g,R=e.variant==="dot",{focusProps:O,isFocusVisible:k}=hr(),h=p.useMemo(()=>typeof l=="string"&&(l==null?void 0:l.length)===1,[l]),x=p.useMemo(()=>!!c||!!v,[c,v]),_=p.useMemo(()=>!!d||C,[d,C]),A=p.useMemo(()=>Re({...n,hasStartContent:x,hasEndContent:_,isOneChar:h,isCloseable:C,isCloseButtonFocusVisible:k}),[Nt(n),k,x,_,h,C]),{pressProps:r}=ar({isDisabled:!!(e!=null&&e.isDisabled),onPress:g}),u=()=>({ref:K,className:A.base({class:N}),...D}),T=()=>({role:"button",tabIndex:0,className:A.closeButton({class:m==null?void 0:m.closeButton}),"aria-label":"close chip",...Me(r,O)}),i=s=>p.isValidElement(s)?p.cloneElement(s,{className:A.avatar({class:m==null?void 0:m.avatar})}):null,w=s=>p.isValidElement(s)?p.cloneElement(s,{className:ce("max-h-[80%]",s.props.className)}):null;return{Component:F,children:l,slots:A,classNames:m,isDot:R,isCloseable:C,startContent:i(c)||w(v),endContent:w(d),getCloseButtonProps:T,getChipProps:u}}var bt=Ze((e,t)=>{const{Component:n,children:a,slots:o,classNames:l,isDot:c,isCloseable:v,startContent:d,endContent:g,getCloseButtonProps:m,getChipProps:y}=yr({...e,ref:t}),D=p.useMemo(()=>c&&!d?z.jsx("span",{className:o.dot({class:l==null?void 0:l.dot})}):d,[o,d,c]),F=p.useMemo(()=>v?z.jsx("span",{...m(),children:g||z.jsx(At,{})}):g,[g,v,m]);return z.jsxs(n,{...y(),children:[D,z.jsx("span",{className:o.content({class:l==null?void 0:l.content}),children:a}),F]})});bt.displayName="HeroUI.Chip";var $r=bt;function Er({title:e,titleId:t,...n},a){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const wr=p.forwardRef(Er);G.extend(Dt);const Tr=({title:e,items:t,users:n,icon:a,color:o})=>{var C,R,O,k;const l=Tt(),[c,v]=p.useState(null),[d,g]=p.useState(null),m=(h,x)=>{v(h.currentTarget),g(x)},y=()=>{v(null),g(null)},D=!!c,F=D?"leave-details-popover":void 0,K=h=>{switch(h==null?void 0:h.toLowerCase()){case"approved":return f(Ht,{className:"w-4 h-4 text-success"});case"rejected":return f(It,{className:"w-4 h-4 text-danger"});default:return f(ye,{className:"w-4 h-4 text-warning"})}},N=h=>{switch(h==null?void 0:h.toLowerCase()){case"approved":return"success";case"rejected":return"danger";default:return"warning"}};return P(Je,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[f(Ye,{title:P(L,{className:"flex items-center gap-3",children:[f(L,{sx:{bgcolor:`${o}20`,borderRadius:"12px",p:1,display:"flex",alignItems:"center",justifyContent:"center",minWidth:40,minHeight:40},children:f(a,{style:{width:"20px",height:"20px",color:o,strokeWidth:2},"aria-hidden":"true"})}),f(H,{variant:"h6",component:"h2",sx:{fontSize:{xs:"1rem",sm:"1.1rem",md:"1.2rem"},fontWeight:600},children:e})]}),sx:{pb:1}}),f(be,{}),f(L,{sx:{flex:1,overflow:"auto"},children:t.map((h,x)=>P(Le.Fragment,{children:[f(ge,{in:!0,timeout:300+x*100,children:P(Xe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2},children:[P(L,{sx:{display:"flex",flexDirection:"column",flex:1,mr:2},children:[f(H,{variant:"body2",color:"text.primary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},lineHeight:1.4},children:h.text}),h.leaves&&h.leaves.length>0&&P(H,{variant:"caption",color:"text.secondary",className:"flex items-center gap-1 mt-1",children:[f(Qe,{className:"w-3 h-3"}),h.leaves.length," employee",h.leaves.length>1?"s":""]})]}),h.leaves&&(()=>{const _=h.leaves.filter(A=>A.leave_type===h.type);return _.length>0&&f(L,{sx:{display:"flex",gap:1,flexShrink:0},children:f(Ut,{max:4,isBordered:!0,size:"sm",children:_.map((A,r)=>{const u=n.find(T=>String(T.id)===String(A.user_id));return u&&f(et,{src:u.profile_image,alt:`${u.name} - on leave`,onClick:T=>m(T,A),className:"cursor-pointer hover:scale-110 transition-transform",fallback:f(Ie,{className:"w-4 h-4"})},r)})})})})()]})}),x<t.length-1&&f(be,{})]},x))}),f(xt,{id:F,open:D,anchorEl:c,onClose:y,PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:((C=l.glassCard)==null?void 0:C.background)||"rgba(255, 255, 255, 0.9)",border:((R=l.glassCard)==null?void 0:R.border)||"1px solid rgba(255, 255, 255, 0.2)",borderRadius:2,boxShadow:((O=l.glassCard)==null?void 0:O.boxShadow)||"0 8px 32px 0 rgba(31, 38, 135, 0.37)",padding:2,minWidth:"300px"}},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},role:"dialog","aria-labelledby":"leave-details-title","aria-describedby":"leave-details-content",children:d&&P(L,{component:"section","aria-labelledby":"leave-details-title",children:[P(H,{id:"leave-details-title",variant:"subtitle1",fontWeight:"600",className:"flex items-center gap-2 mb-3",children:[f(_e,{className:"w-5 h-5 text-primary"}),"Leave Details"]}),P(L,{id:"leave-details-content",className:"space-y-2",children:[P(L,{className:"flex items-start gap-2",children:[f(Ie,{className:"w-4 h-4 text-default-500 mt-0.5 flex-shrink-0"}),P(L,{children:[f(H,{variant:"caption",color:"text.secondary",component:"span",children:"Employee:"}),f(H,{variant:"body2",component:"div",fontWeight:"500",children:((k=n.find(h=>String(h.id)===String(d.user_id)))==null?void 0:k.name)||"Unknown"})]})]}),P(L,{className:"flex items-start gap-2",children:[f(he,{className:"w-4 h-4 text-default-500 mt-0.5 flex-shrink-0"}),P(L,{children:[f(H,{variant:"caption",color:"text.secondary",component:"span",children:"Duration:"}),f(H,{variant:"body2",component:"div",fontWeight:"500",children:d.from_date!==d.to_date?`${new Date(d.from_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})} - ${new Date(d.to_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`:new Date(d.from_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),P(L,{className:"flex items-start gap-2",children:[f(_e,{className:"w-4 h-4 text-default-500 mt-0.5 flex-shrink-0"}),P(L,{children:[f(H,{variant:"caption",color:"text.secondary",component:"span",children:"Reason:"}),f(H,{variant:"body2",component:"div",fontWeight:"500",children:d.reason||"No reason provided"})]})]}),P(L,{className:"flex items-center gap-2",children:[K(d.status),P(L,{children:[f(H,{variant:"caption",color:"text.secondary",component:"span",children:"Status:"}),f($r,{label:d.status||"Pending",variant:"flat",color:N(d.status),size:"sm",className:"ml-2"})]})]})]})]})})]})},Dr=()=>{const{auth:e}=yt().props,[t,n]=p.useState(!0),[a,o]=p.useState(null),[l,c]=p.useState([]),[v,d]=p.useState([]),[g,m]=p.useState([]),[y,D]=p.useState(null);p.useEffect(()=>{let r=!0;const u=new AbortController;return(async()=>{try{n(!0),o(null);const i=await $t.get(route("updates"),{signal:u.signal,timeout:1e4});r&&i.data&&(c(i.data.users||[]),d(i.data.todayLeaves||[]),m(i.data.upcomingLeaves||[]),D(i.data.upcomingHoliday||null))}catch(i){r&&!u.signal.aborted&&(console.error("Failed to fetch updates:",i),o(i.message),c([]),d([]),m([]),D(null))}finally{r&&n(!1)}})(),()=>{r=!1,u.abort()}},[]);const F=(r,u)=>{let T=u;const i=b=>u.some(j=>String(j.user_id)===String(e.user.id)&&j.leave_type===b)?(T=u.filter(j=>String(j.user_id)!==String(e.user.id)),`You ${r==="today"?"are":"will be"} on ${b} leave.`):null,w=u.reduce((b,I)=>{const j=i(I.leave_type);return j&&!b.some(ht=>ht.type===I.leave_type)&&b.push({text:j,type:I.leave_type}),b},[]),s=T.reduce((b,I)=>(b[I.leave_type]=(b[I.leave_type]||0)+1,b),{}),$=Object.entries(s).map(([b,I])=>({text:`${I} person${I>1?"s":""} ${r==="today"?"is":"will be"} on ${b} leave`,type:b,leaves:T.filter(j=>j.leave_type===b)}));return[...w,...$]},K=G(),N=K.add(1,"day"),C=N.add(7,"day"),R=v.filter(r=>G(K).isBetween(G(r.from_date),G(r.to_date),"day","[]")),O=g.filter(r=>G(N).isBetween(G(r.from_date),G(r.to_date),"day","[]")),k=g.filter(r=>(G(r.from_date).isBetween(N,C,"day","[]")||G(r.to_date).isBetween(N,C,"day","[]"))&&!/week/i.test(r.leave_type)),h=F("today",R),x=F("tomorrow",O),_=F("nextSevenDays",k);h.length===0&&h.push({text:"No one is away today."}),x.length===0&&x.push({text:"No one is away tomorrow."}),_.length===0&&_.push({text:"No one is going to be away in the next seven days."});const A=[{title:"Today",items:h,icon:he,color:"#3b82f6"},{title:"Tomorrow",items:x,icon:ye,color:"#10b981"},{title:"Next Seven Days",items:_,icon:Qe,color:"#f59e0b"}];return t?f(L,{sx:{p:2},component:"section","aria-label":"Employee updates loading",children:f(ae,{container:!0,spacing:3,children:[1,2,3].map((r,u)=>f(ae,{item:!0,xs:12,sm:6,md:4,children:P(Ae,{className:"w-full h-full p-4",radius:"lg",children:[f(He,{className:"rounded-lg mb-2",isLoaded:!1,children:f("div",{className:"h-6 w-2/3 rounded-lg bg-secondary"})}),f(He,{className:"rounded-lg",isLoaded:!1,children:f("div",{className:"h-32 w-full rounded-lg bg-secondary-200"})})]})},u))})}):a?f(L,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"center",minHeight:"200px"},children:f(Ae,{className:"p-4 bg-danger-50 border-danger-200",children:P(L,{className:"flex items-center gap-3",children:[f(_t,{className:"w-5 h-5 text-danger"}),P(H,{color:"error",variant:"body1",children:["Failed to load updates: ",a]})]})})}):P(L,{sx:{p:2},component:"section","aria-label":"Employee Updates Dashboard",children:[f(ae,{container:!0,spacing:3,sx:{alignItems:"stretch"},children:A.map((r,u)=>f(ae,{item:!0,xs:12,sm:6,md:4,sx:{display:"flex"},children:f(ge,{in:!0,timeout:300+u*100,style:{width:"100%"},children:f(L,{sx:{display:"flex",flexDirection:"column",flexGrow:1,width:"100%"},children:f(Tr,{title:r.title,items:r.items,users:l,icon:r.icon,color:r.color})})})},r.title))}),y&&f(ge,{in:!0,timeout:800,children:f(L,{sx:{mt:3},children:P(Je,{children:[f(Ye,{title:P(L,{className:"flex items-center gap-3",children:[f(L,{sx:{bgcolor:"#f59e0b20",borderRadius:"12px",p:1,display:"flex",alignItems:"center",justifyContent:"center",minWidth:40,minHeight:40},children:f(wr,{style:{width:"20px",height:"20px",color:"#f59e0b",strokeWidth:2},"aria-hidden":"true"})}),f(H,{variant:"h6",component:"h2",sx:{fontSize:{xs:"1rem",sm:"1.1rem",md:"1.2rem"},fontWeight:600},children:"Upcoming Holiday"})]})}),f(be,{}),f(Xe,{children:P(L,{className:"flex items-center gap-3",children:[f(he,{className:"w-5 h-5 text-primary"}),P(L,{children:[f(H,{variant:"body1",fontWeight:"600",color:"text.primary",children:y.name}),P(H,{variant:"body2",color:"text.secondary",className:"flex items-center gap-1 mt-1",children:[f(ye,{className:"w-4 h-4"}),new Date(y.from_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," - ",new Date(y.to_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]})})]})})})]})};export{Dr as default};
