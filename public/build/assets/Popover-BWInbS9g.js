import{J as wo,H as Eo,N as bo,G as To,_ as C,w as Ro,v as P,a2 as K,a3 as Z,a4 as Oo,a5 as oo,P as to,O as so,a6 as So,Q as Co,a7 as zo,a8 as _o}from"./App-BDoHcQM2.js";import{r as l,m as z}from"./app-CEzniZE0.js";function ko(e){return wo("MuiPopover",e)}Eo("MuiPopover",["root","paper"]);const Lo=["onEntering"],Mo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Wo=["slotProps"];function eo(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.height/2:o==="bottom"&&(s=e.height),s}function no(e,o){let s=0;return typeof o=="number"?s=o:o==="center"?s=e.width/2:o==="right"&&(s=e.width),s}function ro(e){return[e.horizontal,e.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function _(e){return typeof e=="function"?e():e}const Do=e=>{const{classes:o}=e;return Co({root:["root"],paper:["paper"]},ko,o)},Ho=so(zo,{name:"MuiPopover",slot:"Root",overridesResolver:(e,o)=>o.root})({}),jo=so(_o,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ao=l.forwardRef(function(o,s){var k,L,M;const x=bo({props:o,name:"MuiPopover"}),{action:io,anchorEl:c,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:W,anchorReference:v="anchorEl",children:ao,className:lo,container:co,elevation:D=8,marginThreshold:i=16,open:f,PaperProps:po={},slots:y,slotProps:w,transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:E=To,transitionDuration:b="auto",TransitionProps:{onEntering:H}={},disableScrollLock:T=!1}=x,j=C(x.TransitionProps,Lo),fo=C(x,Mo),u=(k=w==null?void 0:w.paper)!=null?k:po,R=l.useRef(),uo=Ro(R,u.ref),O=P({},x,{anchorOrigin:m,anchorReference:v,elevation:D,marginThreshold:i,externalPaperSlotProps:u,transformOrigin:g,TransitionComponent:E,transitionDuration:b,TransitionProps:j}),N=Do(O),$=l.useCallback(()=>{if(v==="anchorPosition")return W;const t=_(c),r=(t&&t.nodeType===1?t:K(R.current).body).getBoundingClientRect();return{top:r.top+eo(r,m.vertical),left:r.left+no(r,m.horizontal)}},[c,m.horizontal,m.vertical,W,v]),A=l.useCallback(t=>({vertical:eo(t,g.vertical),horizontal:no(t,g.horizontal)}),[g.horizontal,g.vertical]),U=l.useCallback(t=>{const n={width:t.offsetWidth,height:t.offsetHeight},r=A(n);if(v==="none")return{top:null,left:null,transformOrigin:ro(r)};const J=$();let d=J.top-r.vertical,h=J.left-r.horizontal;const Q=d+n.height,V=h+n.width,X=Z(_(c)),Y=X.innerHeight-i,q=X.innerWidth-i;if(i!==null&&d<i){const a=d-i;d-=a,r.vertical+=a}else if(i!==null&&Q>Y){const a=Q-Y;d-=a,r.vertical+=a}if(i!==null&&h<i){const a=h-i;h-=a,r.horizontal+=a}else if(V>q){const a=V-q;h-=a,r.horizontal+=a}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:ro(r)}},[c,v,$,A,i]),[ho,F]=l.useState(f),p=l.useCallback(()=>{const t=R.current;if(!t)return;const n=U(t);n.top!==null&&(t.style.top=n.top),n.left!==null&&(t.style.left=n.left),t.style.transformOrigin=n.transformOrigin,F(!0)},[U]);l.useEffect(()=>(T&&window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)),[c,T,p]);const Po=(t,n)=>{H&&H(t,n),p()},mo=()=>{F(!1)};l.useEffect(()=>{f&&p()}),l.useImperativeHandle(io,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),l.useEffect(()=>{if(!f)return;const t=Oo(()=>{p()}),n=Z(c);return n.addEventListener("resize",t),()=>{t.clear(),n.removeEventListener("resize",t)}},[c,f,p]);let G=b;b==="auto"&&!E.muiSupportAuto&&(G=void 0);const vo=co||(c?K(_(c)).body:void 0),S=(L=y==null?void 0:y.root)!=null?L:Ho,I=(M=y==null?void 0:y.paper)!=null?M:jo,go=oo({elementType:I,externalSlotProps:P({},u,{style:ho?u.style:P({},u.style,{opacity:0})}),additionalProps:{elevation:D,ref:uo},ownerState:O,className:to(N.paper,u==null?void 0:u.className)}),B=oo({elementType:S,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:fo,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:vo,open:f},ownerState:O,className:to(N.root,lo)}),{slotProps:xo}=B,yo=C(B,Wo);return z.jsx(S,P({},yo,!So(S)&&{slotProps:xo,disableScrollLock:T},{children:z.jsx(E,P({appear:!0,in:f,onEntering:Po,onExited:mo,timeout:G},j,{children:z.jsx(I,P({},go,{children:ao}))}))}))});export{Ao as P,jo as a};
