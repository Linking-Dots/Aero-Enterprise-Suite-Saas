import{j as t,a as e,F as w,b as ye,q as fe,Y as Ce}from"./app-BjRZdk5O.js";import{g as ve,j as ge,r as S,v as z,N as ee,T as D,c as L,G as r,B as $,E as se,b as T,F as U,H as M,S as J,M as E,O as le,P as re,Q as te,t as K,a as q,f as me,L as Y,I as ke,R as ne,U as Se,V as be,W as _e,X as Pe,Y as ce,e as Ie,Z as Q,$ as j,a0 as x,a1 as Te,a2 as pe}from"./vendor-B94fZjj7.js";import{d as de,G as ae,C as ue,a as Z}from"./GlassDialog-BN0-toWG.js";import{B as H,G as X,A as De}from"./App-C2HXH7su.js";import{L as V}from"./LoadingButton-KJsHQzfX.js";import{A as xe}from"./Add-LM_D6ea3.js";const Fe=ve([ge.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),ge.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Be=({user:o,allUsers:R,departments:_,designations:A,setUser:h,open:i,closeModal:b})=>{const[I,v]=S.useState({name:o.name||"",gender:o.gender||"",birthday:o.birthday||"",date_of_joining:o.date_of_joining||"",address:o.address||"",employee_id:o.employee_id||"",phone:o.phone||"",email:o.email||"",department:o.department||"",designation:o.designation||"",profile_image:o.profile_image||"",report_to:o.report_to||""}),[y,p]=S.useState({id:o.id}),[N,P]=S.useState(!1),[g,m]=S.useState({}),[l,F]=S.useState(!1),[u,a]=S.useState(!1),[c,n]=S.useState(null),s=z(),f=d=>{const B=d.target.files[0];if(B){const k=URL.createObjectURL(B);console.log("Selected file type:",B.type),console.log("Selected file URL:",k),n(k),setSelectedFile(B)}},C=(d,B)=>{v(k=>{const G={...k,[d]:B};return B===""&&delete G[d],d==="department"&&o.department!==B&&(o.designation=null,o.report_to=null),G}),p(k=>{const G={...k,[d]:B};return B===""&&delete G[d],d==="department"&&o.department!==B&&(o.designation=null,o.report_to=null),G})};S.useEffect(()=>{console.log("Initial:",I),console.log("Changed:",y);for(const B in y)B!=="id"&&y[B]===o[B]&&delete y[B];const d=Object.keys(y).filter(B=>B!=="id").length>0;P(d)},[I,y,o]);async function W(d){d.preventDefault(),console.log(y),F(!0);const B=new Promise(async(k,G)=>{try{const O=new FormData;O.append("id",o.id),O.append("ruleSet","profile");for(const ie in I)I.hasOwnProperty(ie)&&O.append(ie,I[ie]);if(c){const ie=c.type;if(["image/jpeg","image/jpg","image/png"].includes(ie))O.append("profile_image",c);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),G("Invalid file type");return}}const he=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:O}),oe=await he.json();he.ok?(h(oe.user),F(!1),b(),k([...oe.messages])):(F(!1),m(oe.errors),G(oe.error||"Failed to update profile information."),console.error(oe.errors))}catch(O){F(!1),console.log(O),G(O.message||"An unexpected error occurred.")}});H.promise(B,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},success:{render({data:k}){return e(w,{children:k.map((G,O)=>e("div",{children:G},O))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},error:{render({data:k}){return e(w,{children:k})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}})}return t(ae,{open:i,onClose:b,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Profile Information"}),e(L,{variant:"outlined",color:"primary",onClick:b,sx:{position:"absolute",top:8,right:16},children:e(de,{})})]}),t("form",{onSubmit:W,children:[e(re,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:t($,{position:"relative",display:"inline-block",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e(se,{alt:y.name||o.name,src:c||`assets/images/users/${y.user_name||I.user_name}.jpg`,sx:{width:100,height:100}}),u&&e(w,{children:e($,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(L,{color:"primary",component:"span",children:e(Fe,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:f}),e("label",{htmlFor:"upload-button",children:e($,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:y.name||I.name||"",onChange:d=>C("name",d.target.value),error:!!g.name,helperText:g.name})}),e(r,{item:!0,xs:12,md:6,children:t(U,{fullWidth:!0,children:[e(M,{id:"gender-label",children:"Gender"}),t(J,{labelId:"gender-label",value:y.gender||I.gender||"na",onChange:d=>C("gender",d.target.value),error:!!g.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{disabled:!0,value:"na",children:"Select Gender"}),e(E,{value:"Male",children:"Male"}),e(E,{value:"Female",children:"Female"})]}),e(le,{children:g.gender})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Birth Date",type:"date",fullWidth:!0,value:y.birthday||I.birthday||"",onChange:d=>C("birthday",d.target.value),InputLabelProps:{shrink:!0},error:!!g.birthday,helperText:g.birthday})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Joining Date",type:"date",fullWidth:!0,value:y.date_of_joining||I.date_of_joining||"",onChange:d=>C("date_of_joining",d.target.value),InputLabelProps:{shrink:!0},error:!!g.date_of_joining,helperText:g.date_of_joining})}),e(r,{item:!0,xs:12,children:e(T,{label:"Address",fullWidth:!0,value:y.address||I.address,onChange:d=>C("address",d.target.value),error:!!g.address,helperText:g.address})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Employee ID",fullWidth:!0,value:y.employee_id||I.employee_id||"",onChange:d=>C("employee_id",d.target.value),error:!!g.employee_id,helperText:g.employee_id})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone Number",fullWidth:!0,value:y.phone||I.phone,onChange:d=>C("phone",d.target.value),error:!!g.phone,helperText:g.phone})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Email Adress",fullWidth:!0,value:y.email||I.email,onChange:d=>C("email",d.target.value),error:!!g.email,helperText:g.email})}),e(r,{item:!0,xs:12,md:6,children:t(U,{fullWidth:!0,children:[e(M,{id:"department",children:"Department"}),t(J,{labelId:"department",onChange:d=>C("department",d.target.value),error:!!g.department,id:`department-select-${o.id}`,value:y.department||I.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select Department"}),_.map(d=>e(E,{value:d.id,children:d.name},d.id))]}),e(le,{children:g.department})]})}),e(r,{item:!0,xs:12,md:6,children:t(U,{fullWidth:!0,children:[e(M,{id:"designation",children:"Designation"}),t(J,{labelId:"designation",onChange:d=>C("designation",d.target.value),label:"Designation",error:!!g.designation,id:`designation-select-${o.id}`,value:y.designation||I.designation||"na",disabled:!o.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select Designation"}),A.filter(d=>d.department_id===y.department||I.department).map(d=>e(E,{value:d.id,children:d.title},d.id))]}),e(le,{children:g.designation})]})}),e(r,{item:!0,xs:12,md:6,children:t(U,{fullWidth:!0,children:[e(M,{id:"report_to",children:"Reports To"}),t(J,{labelId:"report_to",value:y.report_to||I.report_to,onChange:d=>C("report_to",d.target.value),label:"Reports To",error:!!g.report_to,disabled:o.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",children:"--"}),R.filter(d=>d.department===y.department||I.department).map(d=>e(E,{value:d.id,children:d.name},d.id))]}),e(le,{children:g.report_to})]})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!N&&!c,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,children:"Submit"})})]})]})},Ne=({user:o,setUser:R,open:_,closeModal:A})=>{const[h,i]=S.useState({id:o.id,passport_no:o.passport_no||"",passport_exp_date:o.passport_exp_date||"",nationality:o.nationality||"",religion:o.religion||"",marital_status:o.marital_status||"",employment_of_spouse:o.employment_of_spouse||"",number_of_children:o.number_of_children||"",nid:o.nid||""}),[b,I]=S.useState({id:o.id}),[v,y]=S.useState(!1),[p,N]=S.useState({}),[P,g]=S.useState(!1),m=z(),l=(u,a)=>{i(c=>{const n={...c,[u]:a};return a===""&&delete n[u],u==="marital_status"&&a==="Single"&&(n.employment_of_spouse="",n.number_of_children=""),n}),I(c=>{const n={...c,[u]:a};return a===""&&delete n[u],u==="marital_status"&&a==="Single"&&(n.employment_of_spouse=null,n.number_of_children=null),n})};S.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===o[a]&&delete b[a];const u=Object.keys(b).filter(a=>a!=="id").length>0;y(u)},[h,b,o]);async function F(u){u.preventDefault(),g(!0);const a=new Promise(async(c,n)=>{try{const s=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"personal",...h})}),f=await s.json();s.ok?(R(f.user),g(!1),A(),c([...f.messages])):(g(!1),N(f.errors),n(f.error||"Failed to update personal information."),console.error(f.errors))}catch(s){g(!1),console.log(s),n(s.message||"An unexpected error occurred.")}});H.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:c}){return e(w,{children:c.map((n,s)=>e("div",{children:n},s))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:c}){return e(w,{children:c})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return t(ae,{open:_,onClose:A,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Personal Information"}),e(L,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(de,{})})]}),t("form",{onSubmit:F,children:[e(re,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Passport No",fullWidth:!0,value:b.passport_no||h.passport_no||"",onChange:u=>l("passport_no",u.target.value),error:!!p.passport_no,helperText:p.passport_no})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:b.passport_exp_date||h.passport_exp_date||"",onChange:u=>l("passport_exp_date",u.target.value),InputLabelProps:{shrink:!0},error:!!p.passport_exp_date,helperText:p.passport_exp_date})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"NID No",fullWidth:!0,value:b.nid||h.nid||"",onChange:u=>l("nid",u.target.value),error:!!p.nid,helperText:p.nid})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Nationality",fullWidth:!0,value:b.nationality||h.nationality||"",onChange:u=>l("nationality",u.target.value),error:!!p.nationality,helperText:p.nationality})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Religion",fullWidth:!0,value:b.religion||h.religion||"",onChange:u=>l("religion",u.target.value),error:!!p.religion,helperText:p.religion})}),e(r,{item:!0,xs:12,md:6,children:t(U,{fullWidth:!0,children:[e(M,{id:"marital-status-label",children:"Marital status"}),t(J,{labelId:"marital-status-label",value:b.marital_status||h.marital_status||"na",onChange:u=>l("marital_status",u.target.value),label:"Marital status",error:!!p.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",children:"-"}),e(E,{value:"Single",children:"Single"}),e(E,{value:"Married",children:"Married"})]}),e(le,{children:p.marital_status})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Employment of spouse",fullWidth:!0,value:b.marital_status==="Single"?"":b.employment_of_spouse||h.employment_of_spouse,onChange:u=>l("employment_of_spouse",u.target.value),error:!!p.employment_of_spouse,helperText:p.employment_of_spouse,disabled:b.marital_status==="Single"||h.marital_status==="Single"})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"No. of children",fullWidth:!0,type:"number",value:b.marital_status==="Single"?"":b.number_of_children||h.number_of_children,onChange:u=>l("number_of_children",u.target.value),error:!!p.number_of_children,helperText:p.number_of_children,disabled:b.marital_status==="Single"||h.marital_status==="Single"})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},je=({user:o,setUser:R,open:_,closeModal:A})=>{const[h,i]=S.useState({id:o.id,emergency_contact_primary_name:o.emergency_contact_primary_name||"",emergency_contact_primary_relationship:o.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:o.emergency_contact_primary_phone||"",emergency_contact_secondary_name:o.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:o.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:o.emergency_contact_secondary_phone||""}),[b,I]=S.useState({id:o.id}),[v,y]=S.useState(!1),[p,N]=S.useState({}),[P,g]=S.useState(!1),m=z(),l=(u,a)=>{i(c=>{const n={...c,[u]:a};return a===""&&delete n[u],n}),I(c=>{const n={...c,[u]:a};return a===""&&delete n[u],n})};S.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===o[a]&&delete b[a];const u=Object.keys(b).filter(a=>a!=="id").length>0;y(u)},[h,b,o]);async function F(u){u.preventDefault(),g(!0);const a=new Promise(async(c,n)=>{try{const s=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"emergency",...h})}),f=await s.json();s.ok?(R(f.user),g(!1),A(),c([...f.messages])):(g(!1),N(f.errors),n(f.error||"Failed to update emergency contact."),console.error(f.errors))}catch(s){g(!1),A(),console.log(s),n(["An unexpected error occurred."])}});H.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:c}){return e(w,{children:c.map((n,s)=>e("div",{children:n},s))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:c}){return e(w,{children:c})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return t(ae,{open:_,onClose:A,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Personal Information"}),e(L,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(de,{})})]}),t("form",{onSubmit:F,children:[e(re,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(X,{children:t(q,{children:[e(D,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",required:!0,fullWidth:!0,value:b.emergency_contact_primary_name||h.emergency_contact_primary_name||"",onChange:u=>l("emergency_contact_primary_name",u.target.value),error:!!p.bank_name,helperText:p.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",required:!0,fullWidth:!0,value:b.emergency_contact_primary_relationship||h.emergency_contact_primary_relationship||"",onChange:u=>l("emergency_contact_primary_relationship",u.target.value),error:!!p.bank_name,helperText:p.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",required:!0,fullWidth:!0,value:b.emergency_contact_primary_phone||h.emergency_contact_primary_phone||"",onChange:u=>l("emergency_contact_primary_phone",u.target.value),error:!!p.bank_name,helperText:p.bank_name})})]})]})})}),e(r,{item:!0,xs:12,children:e(X,{children:t(q,{children:[e(D,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:b.emergency_contact_secondary_name||h.emergency_contact_secondary_name||"",onChange:u=>l("emergency_contact_secondary_name",u.target.value),error:!!p.bank_name,helperText:p.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",fullWidth:!0,value:b.emergency_contact_secondary_relationship||h.emergency_contact_secondary_relationship||"",onChange:u=>l("emergency_contact_secondary_relationship",u.target.value),error:!!p.bank_name,helperText:p.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",fullWidth:!0,value:b.emergency_contact_secondary_phone||h.emergency_contact_secondary_phone||"",onChange:u=>l("emergency_contact_secondary_phone",u.target.value),error:!!p.bank_name,helperText:p.bank_name})})]})]})})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Ee=({user:o,setUser:R,open:_,closeModal:A})=>{const[h,i]=S.useState({id:o.id,bank_name:o.bank_name||"",bank_account_no:o.bank_account_no||"",ifsc_code:o.ifsc_code||"",pan_no:o.pan_no||""}),[b,I]=S.useState({id:o.id}),[v,y]=S.useState(!1),[p,N]=S.useState({}),[P,g]=S.useState(!1),m=z(),l=(u,a)=>{i(c=>{const n={...c,[u]:a};return a===""&&delete n[u],n}),I(c=>{const n={...c,[u]:a};return a===""&&delete n[u],n})};S.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===o[a]&&delete b[a];const u=Object.keys(b).filter(a=>a!=="id").length>0;y(u)},[h,b,o]);async function F(u){u.preventDefault(),g(!0);const a=new Promise(async(c,n)=>{try{const s=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"bank",...h})}),f=await s.json();s.ok?(R(f.user),g(!1),A(),c([...f.messages])):(g(!1),N(f.errors),n(f.error||"Failed to update bank information."),console.error(f.errors))}catch(s){g(!1),console.log(s),n(s.message||"An unexpected error occurred.")}});H.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating bank information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:c}){return e(w,{children:c.map((n,s)=>e("div",{children:n},s))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:c}){return e(w,{children:c})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return t(ae,{open:_,onClose:A,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Bank Information"}),e(L,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(de,{})})]}),t("form",{onSubmit:F,children:[e(re,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(T,{label:"Bank Name",fullWidth:!0,value:b.bank_name||h.bank_name||"",onChange:u=>l("bank_name",u.target.value),error:!!p.bank_name,helperText:p.bank_name})}),e(r,{item:!0,xs:12,children:e(T,{size:"small",label:"Bank Account No.",fullWidth:!0,value:b.bank_account_no||h.bank_account_no||"",onChange:u=>l("bank_account_no",u.target.value),error:!!p.bank_account_no,helperText:p.bank_account_no})}),e(r,{item:!0,xs:12,children:e(T,{label:"IFSC Code",fullWidth:!0,value:b.ifsc_code||h.ifsc_code||"",onChange:u=>l("ifsc_code",u.target.value),error:!!p.ifsc_code,helperText:p.ifsc_code})}),e(r,{item:!0,xs:12,children:e(T,{label:"PAN No.",fullWidth:!0,value:b.pan_no||h.pan_no||"",onChange:u=>l("pan_no",u.target.value),error:!!p.pan_no,helperText:p.pan_no})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Ae=({user:o,open:R,closeModal:_,handleDelete:A,setUser:h})=>{const[i,b]=S.useState({id:o.id,family_member_name:o.family_member_name||"",family_member_relationship:o.family_member_relationship||"",family_member_dob:o.family_member_dob||"",family_member_phone:o.family_member_phone||""}),[I,v]=S.useState({id:o.id}),[y,p]=S.useState(!1),[N,P]=S.useState({}),[g,m]=S.useState(!1),l=z(),F=(a,c)=>{b(n=>{const s={...n,[a]:c};return c===""&&delete s[a],s}),v(n=>{const s={...n,[a]:c};return c===""&&delete s[a],s})};S.useEffect(()=>{for(const c in I)c!=="id"&&I[c]===o[c]&&delete I[c];const a=Object.keys(I).filter(c=>c!=="id").length>0;p(a)},[i,I,o]);async function u(a){a.preventDefault(),m(!0);const c=new Promise(async(n,s)=>{try{const f=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"family",...i})}),C=await f.json();f.ok?(h(C.user),m(!1),_(),n([...C.messages])):(m(!1),P(C.errors),s(C.error||"Failed to update family information."),console.error(C.errors))}catch(f){m(!1),console.log(f),s(f.message||"An unexpected error occurred.")}});H.promise(c,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating family member information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}},success:{render({data:n}){return e(w,{children:n.map((s,f)=>e("div",{children:s},f))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}},error:{render({data:n}){return e(w,{children:n})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}}})}return t(ae,{open:R,onClose:_,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Family Member"}),e(L,{variant:"outlined",color:"primary",onClick:_,sx:{position:"absolute",top:8,right:16},children:e(de,{})})]}),t("form",{onSubmit:u,children:[e(re,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:I.family_member_name||i.family_member_name||"",onChange:a=>F("family_member_name",a.target.value),error:!!N.family_member_name,helperText:N.family_member_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",fullWidth:!0,value:I.family_member_relationship||i.family_member_relationship||"",onChange:a=>F("family_member_relationship",a.target.value),error:!!N.family_member_relationship,helperText:N.family_member_relationship})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Date of Birth",fullWidth:!0,type:"date",value:I.family_member_dob||i.family_member_dob||"",onChange:a=>F("family_member_dob",a.target.value),InputLabelProps:{shrink:!0},error:!!N.family_member_dob,helperText:N.family_member_dob})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",fullWidth:!0,value:I.family_member_phone||i.family_member_phone||"",onChange:a=>F("family_member_phone",a.target.value),error:!!N.family_member_phone,helperText:N.family_member_phone})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!y,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:g,children:"Submit"})})]})]})},We=({user:o,open:R,closeModal:_,setUser:A})=>{const[h,i]=S.useState({id:o.id}),[b,I]=S.useState(!1),[v,y]=S.useState(o.educations&&o.educations.length>0?o.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[p,N]=S.useState({}),[P,g]=S.useState(!1),m=z(),l=(c,n,s)=>{console.log(s);const f=[...v];f[c]={...f[c],[n]:s},y(f);const C=f.filter((d,B)=>{const k=o.educations[B]||{},G=!k.id||d.institution!==k.institution||d.subject!==k.subject||d.degree!==k.degree||d.starting_date!==k.starting_date||d.complete_date!==k.complete_date||d.grade!==k.grade,O=k.id&&d.institution===k.institution&&d.subject===k.subject&&d.degree===k.degree&&d.starting_date===k.starting_date&&d.complete_date===k.complete_date&&d.grade===k.grade;return G&&!O});i(d=>({...d,educations:[...C]}));const W=C.length>0;I(W)},F=async c=>{const n=v[c],s=v.filter((f,C)=>C!==c);if(y(s.length>0?s:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),n.id){const f=new Promise(async(C,W)=>{try{const d=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:o.id})}),B=await d.json();d.ok?(i(k=>({...k,educations:B.educations})),A(k=>({...k,educations:B.educations})),C(B.message||"Education record deleted successfully.")):(N(B.errors),console.log(B.errors),W(B.error||"Failed to delete education record."))}catch(d){W(d)}});H.promise(f,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:C}){return e(w,{children:C})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:C}){return e(w,{children:C})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}},u=async c=>{c.preventDefault(),g(!0);const n=new Promise(async(s,f)=>{try{const C=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:v.map(d=>({...d,user_id:o.id}))})}),W=await C.json();C.ok?(A(d=>({...d,educations:W.educations})),g(!1),_(),s([...W.messages])):(g(!1),N(W.errors),console.log(W.errors),f(W.error||"Failed to update education records."))}catch(C){g(!1),f(C.message||"An unexpected error occurred while updating education records.")}});H.promise(n,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:s}){return e(w,{children:s.map((f,C)=>e("div",{children:f},C))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:s}){return e(w,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})},a=async()=>{y([...v,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return t(ae,{open:R,onClose:_,maxWidth:"md",fullWidth:!0,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Education Information"}),e(L,{onClick:_,sx:{position:"absolute",top:8,right:16},children:e(ue,{})})]}),t("form",{onSubmit:u,children:[e(re,{children:t($,{children:[e(r,{container:!0,spacing:2,children:v.map((c,n)=>e(r,{item:!0,xs:12,children:e(X,{children:t(q,{children:[t(D,{variant:"h6",gutterBottom:!0,children:["Education #"+(n+1),e(L,{onClick:()=>F(n),sx:{position:"absolute",top:8,right:16},children:e(ue,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Institution",fullWidth:!0,value:c.institution||"",onChange:s=>l(n,"institution",s.target.value),error:!!p[`educations.${n}.institution`],helperText:p[`educations.${n}.institution`]?p[`educations.${n}.institution`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Degree",fullWidth:!0,value:c.degree||"",onChange:s=>l(n,"degree",s.target.value),error:!!p[`educations.${n}.degree`],helperText:p[`educations.${n}.degree`]?p[`educations.${n}.degree`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Subject",fullWidth:!0,value:c.subject||"",onChange:s=>l(n,"subject",s.target.value),error:!!p[`educations.${n}.subject`],helperText:p[`educations.${n}.subject`]?p[`educations.${n}.subject`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:c.starting_date||"",onChange:s=>l(n,"starting_date",s.target.value),error:!!p[`educations.${n}.starting_date`],helperText:p[`educations.${n}.starting_date`]?p[`educations.${n}.starting_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:c.complete_date||"",onChange:s=>l(n,"complete_date",s.target.value),error:!!p[`educations.${n}.complete_date`],helperText:p[`educations.${n}.complete_date`]?p[`educations.${n}.complete_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Grade",fullWidth:!0,value:c.grade||"",onChange:s=>l(n,"grade",s.target.value),error:!!p[`educations.${n}.grade`],helperText:p[`educations.${n}.grade`]?p[`educations.${n}.grade`][0]:""})})]})]})})},n))}),e($,{mt:2,children:t(me,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(xe,{})," Add More"]})})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},we=({user:o,open:R,closeModal:_,setUser:A})=>{const[h,i]=S.useState({id:o.id}),[b,I]=S.useState(!1),[v,y]=S.useState(o.experiences.length>0?o.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[p,N]=S.useState({}),[P,g]=S.useState(!1),m=z(),l=(c,n,s)=>{const f=[...v];f[c]={...f[c],[n]:s},y(f);const C=f.filter((d,B)=>{const k=o.experiences[B]||{},G=!k.id||d.company_name!==k.company_name||d.location!==k.location||d.job_position!==k.job_position||d.period_from!==k.period_from||d.period_to!==k.period_to||d.description!==k.description,O=k.id&&d.company_name===k.company_name&&d.location===k.location&&d.job_position===k.job_position&&d.period_from===k.period_from&&d.period_to===k.period_to&&d.description===k.description;return G&&!O});i(d=>({...d,experiences:[...C]}));const W=C.length>0;I(W)},F=async c=>{const n=v[c],s=v.filter((f,C)=>C!==c);if(y(s.length>0?s:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),n.id){const f=new Promise(async(C,W)=>{try{const d=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:o.id})}),B=await d.json();d.ok?(i(k=>({...k,experiences:B.experiences})),A(k=>({...k,experiences:B.experiences})),C(B.message||"Experience record deleted successfully.")):(N([...B.errors]),W(B.error||"Failed to delete experience record."))}catch(d){W(d)}});H.promise(f,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:C}){return e(w,{children:C})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:C}){return e(w,{children:C})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}},u=async c=>{c.preventDefault(),g(!0);const n=new Promise(async(s,f)=>{try{const C=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:v.map(d=>({...d,user_id:o.id}))})}),W=await C.json();C.ok?(A(d=>({...d,experiences:W.experiences})),g(!1),_(),s([...W.messages])):(g(!1),N(W.errors),console.log(W.errors),f(W.error||"Failed to update experience records."))}catch(C){g(!1),f(C.message||"An unexpected error occurred while updating experience records.")}});H.promise(n,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:s}){return e(w,{children:s.map((f,C)=>e("div",{children:f},C))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:s}){return e(w,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})},a=async()=>{y([...v,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return t(ae,{open:R,onClose:_,maxWidth:"md",fullWidth:!0,children:[t(ee,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(D,{children:"Experience Information"}),e(L,{onClick:_,sx:{position:"absolute",top:8,right:16},children:e(ue,{})})]}),t("form",{onSubmit:u,children:[e(re,{children:t($,{children:[e(r,{container:!0,spacing:2,children:v.map((c,n)=>e(r,{item:!0,xs:12,children:e(X,{children:t(q,{children:[t(D,{variant:"h6",gutterBottom:!0,children:["Experience #"+(n+1),e(L,{onClick:()=>F(n),sx:{position:"absolute",top:8,right:16},children:e(ue,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Company",fullWidth:!0,value:c.company_name||"",onChange:s=>l(n,"company_name",s.target.value),error:!!p[`experiences.${n}.company_name`],helperText:p[`experiences.${n}.company_name`]?p[`experiences.${n}.company_name`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Location",fullWidth:!0,value:c.location||"",onChange:s=>l(n,"location",s.target.value),error:!!p[`experiences.${n}.location`],helperText:p[`experiences.${n}.location`]?p[`experiences.${n}.location`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Role",fullWidth:!0,value:c.job_position||"",onChange:s=>l(n,"job_position",s.target.value),error:!!p[`experiences.${n}.job_position`],helperText:p[`experiences.${n}.job_position`]?p[`experiences.${n}.job_position`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:c.period_from||"",onChange:s=>l(n,"period_from",s.target.value),error:!!p[`experiences.${n}.period_from`],helperText:p[`experiences.${n}.period_from`]?p[`experiences.${n}.period_from`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:c.period_to||"",onChange:s=>l(n,"period_to",s.target.value),error:!!p[`experiences.${n}.period_to`],helperText:p[`experiences.${n}.period_to`]?p[`experiences.${n}.period_to`][0]:""})}),e(r,{item:!0,xs:12,children:e(T,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:c.description||"",onChange:s=>l(n,"description",s.target.value),error:!!p[`experiences.${n}.description`],helperText:p[`experiences.${n}.description`]?p[`experiences.${n}.description`][0]:""})})]})]})})},n))}),t(me,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(xe,{})," Add More"]})]})}),e(te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Re=({user:o,setUser:R})=>{const[_,A]=S.useState({id:o.id,salary_basis:o.salary_basis||"",salary_amount:o.salary_amount||"",payment_type:o.payment_type||"",pf_contribution:o.pf_contribution??!1,pf_no:o.pf_no||"",employee_pf_rate:o.employee_pf_rate||0,additional_pf_rate:o.additional_pf_rate||0,total_pf_rate:o.total_pf_rate||0,esi_contribution:o.esi_contribution??!1,esi_no:o.esi_no||"",employee_esi_rate:o.employee_esi_rate||0,additional_esi_rate:o.additional_esi_rate||0,total_esi_rate:o.total_esi_rate||0}),[h,i]=S.useState({id:o.id}),[b,I]=S.useState(!1),[v,y]=S.useState({}),[p,N]=S.useState(!1),P=z(),g=(l,F)=>{A(u=>{const a={...u,[l]:F};return F===""&&delete a[l],l==="pf_contribution"&&F===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(l==="employee_pf_rate"||l==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),l==="esi_contribution"&&F===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(l==="employee_esi_rate"||l==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a}),i(u=>{const a={...u,[l]:F};return F===""&&delete a[l],l==="pf_contribution"&&F===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(l==="employee_pf_rate"||l==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),l==="esi_contribution"&&F===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(l==="employee_esi_rate"||l==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a})};S.useEffect(()=>{for(const F in h)F!=="id"&&h[F]===o[F]&&delete h[F];const l=Object.keys(h).filter(F=>F!=="id").length>0;I(l),console.log(_),console.log(h)},[_,h,o]);async function m(l){l.preventDefault(),N(!0);const F=new Promise(async(u,a)=>{try{const c=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"salary",..._})}),n=await c.json();c.ok?(R(n.user),N(!1),u([...n.messages])):(N(!1),y(n.errors),a(n.error||"Failed to update salary information."),console.error(n.errors))}catch(c){N(!1),console.log(c),a(c.message||"An unexpected error occurred.")}});H.promise(F,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(K,{}),e("span",{style:{marginLeft:"8px"},children:"Updating salary information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,color:P.palette.text.primary}},success:{render({data:u}){return e(w,{children:u.map((a,c)=>e("div",{children:a},c))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,color:P.palette.text.primary}},error:{render({data:u}){return e(w,{children:u})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,color:P.palette.text.primary}}})}return t(X,{children:[e(Y,{title:"Salary & Statutory Information"}),t("form",{onSubmit:m,children:[t(q,{children:[e(D,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"salary-basis-label",children:"Salary basis"}),t(J,{labelId:"salary-basis-label",value:h.salary_basis||_.salary_basis||"na",onChange:l=>g("salary_basis",l.target.value),error:!!v.salary_basis,helperText:v.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select salary basis type"}),e(E,{value:"Hourly",children:"Hourly"}),e(E,{value:"Daily",children:"Daily"}),e(E,{value:"Weekly",children:"Weekly"}),e(E,{value:"Monthly",children:"Monthly"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:h.salary_amount||_.salary_amount||"",onChange:l=>g("salary_amount",l.target.value),InputProps:{startAdornment:e(ke,{position:"start",children:"$"})},error:!!v.salary_amount,helperText:v.salary_amount})}),e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"payment-type-label",children:"Payment type"}),t(J,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${o.id}`,value:h.payment_type||_.payment_type||"na",onChange:l=>g("payment_type",l.target.value),error:!!v.payment_type,helperText:v.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select payment type"}),e(E,{value:"Bank transfer",children:"Bank transfer"}),e(E,{value:"Check",children:"Check"}),e(E,{value:"Cash",children:"Cash"})]})]})})]}),e(ne,{sx:{my:3}}),e(D,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"pf-contribution-label",children:"PF contribution"}),t(J,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${o.id}`,value:h.pf_contribution!==void 0?h.pf_contribution:_.pf_contribution!==void 0?_.pf_contribution:"na",onChange:l=>g("pf_contribution",l.target.value),error:!!v.pf_contribution,helperText:v.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select PF contribution"}),e(E,{value:1,children:"Yes"}),e(E,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:h.pf_no||_.pf_no,onChange:l=>g("pf_no",l.target.value),error:!!v.pf_no,helperText:v.pf_no})}),e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"employee-pf-rate-label",children:"Employee PF rate"}),t(J,{disabled:!(h.pf_contribution||_.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:h.employee_pf_rate||_.employee_pf_rate||"na",onChange:l=>g("employee_pf_rate",l.target.value),error:!!v.employee_pf_rate,helperText:v.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"additional-rate-label",children:"Additional rate"}),t(J,{disabled:!(h.pf_contribution||_.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${o.id}`,value:h.additional_pf_rate||_.additional_pf_rate||"na",onChange:l=>g("additional_pf_rate",l.target.value),error:!!v.additional_pf_rate,helperText:v.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:h.total_pf_rate||_.total_pf_rate?`${h.total_pf_rate||_.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!v.total_pf_rate,helperText:v.total_pf_rate})})]}),e(ne,{sx:{my:3}}),e(D,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"esi-contribution-label",children:"ESI contribution"}),t(J,{labelId:"esi-contribution-label",label:"ESI contribution",value:h.esi_contribution!==void 0?h.esi_contribution:_.esi_contribution!==void 0?_.esi_contribution:"na",onChange:l=>g("esi_contribution",l.target.value),error:!!v.esi_contribution,helperText:v.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(E,{value:1,children:"Yes"}),e(E,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:h.esi_no||_.esi_no,onChange:l=>g("esi_no",l.target.value),error:!!v.esi_no,helperText:v.esi_no})}),e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"esi-contribution-label",children:"Employee ESI rate"}),t(J,{disabled:!(h.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:h.employee_esi_rate||_.employee_esi_rate||"na",onChange:l=>g("employee_esi_rate",l.target.value),error:!!v.employee_esi_rate,helperText:v.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(U,{fullWidth:!0,children:[e(M,{id:"esi-contribution-label",children:"Additional rate"}),t(J,{disabled:!(h.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:h.additional_esi_rate||_.additional_esi_rate||"na",onChange:l=>g("additional_esi_rate",l.target.value),error:!!v.additional_esi_rate,helperText:v.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:P.glassCard.backgroundColor,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:h.total_esi_rate||_.total_esi_rate?`${h.total_esi_rate||_.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!v.total_esi_rate,helperText:v.total_esi_rate})})]})]}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:p,children:"Submit"})})]})]})},Le=({project:o})=>{const R=z();return e(X,{children:t($,{sx:{p:2},children:[e(D,{variant:"h6",gutterBottom:!0,children:e(ye,{style:{display:"flex",alignItems:"center",color:R.palette.text.primary,textDecoration:"none"},href:"/",as:"a",children:o.title})}),t(D,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[e("b",{children:o.openTasks})," open tasks, ",e("b",{children:o.completedTasks})," tasks completed"]}),e(D,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:o.description}),t($,{mb:2,children:[e(D,{variant:"subtitle2",color:"textPrimary",children:"Deadline:"}),e(D,{variant:"body2",color:"textSecondary",children:o.deadline})]}),t($,{mb:2,children:[e(D,{variant:"subtitle2",color:"textPrimary",children:"Project Leaders:"}),e($,{display:"flex",children:e(be,{max:4,total:5,children:o.leaders.map((_,A)=>e(_e,{title:_.name,arrow:!0,children:e(se,{src:_.avatar,alt:_.name})},A))})})]}),t($,{mb:2,children:[e(D,{variant:"subtitle2",color:"textPrimary",children:"Project Members:"}),e($,{display:"flex",children:e(be,{max:4,total:24,children:o.team.map((_,A)=>e(_e,{title:_.name,arrow:!0,children:e(se,{src:_.avatar,alt:_.name})},A))})})]}),t(D,{variant:"body2",gutterBottom:!0,children:["Progress ",t("span",{style:{float:"right"},children:[o.progress,"%"]})]}),e(Pe,{variant:"determinate",value:o.progress})]})})},$e=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],Xe=({title:o,allUsers:R,report_to:_,departments:A,designations:h})=>{var m,l,F,u;const[i,b]=S.useState(fe().props.user),[I,v]=ce.useState(0);ce.useState(null);const[y,p]=S.useState(null);console.log(i);const N=a=>{p(a)},P=()=>{p(null)},g=(a,c)=>{v(c)};return t(De,{children:[e(Ce,{title:i.name}),y==="profile"&&e(Be,{user:i,allUsers:R,departments:A,designations:h,open:y==="profile",setUser:b,closeModal:P}),y==="personal"&&e(Ne,{user:i,open:y==="personal",setUser:b,closeModal:P}),y==="emergency"&&e(je,{user:i,open:y==="emergency",setUser:b,closeModal:P}),y==="bank"&&e(Ee,{user:i,open:y==="bank",setUser:b,closeModal:P}),y==="family"&&e(Ae,{user:i,open:y==="family",setUser:b,closeModal:P}),y==="education"&&e(We,{user:i,open:y==="education",setUser:b,closeModal:P}),y==="experience"&&e(we,{user:i,open:y==="experience",setUser:b,closeModal:P}),e($,{sx:{display:"flex",justifyContent:"center",p:2},children:e(Ie,{in:!0,children:t(X,{children:[e(Y,{sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("profile"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:t(r,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e(r,{item:!0,xs:12,md:5,children:t(r,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e(r,{item:!0,children:e($,{sx:{display:"flex",alignItems:"center",mb:2},children:e(se,{src:`assets/images/users/${i.user_name}.jpg`,alt:i.name,sx:{width:100,height:100,mr:2}})})}),e(r,{item:!0,xs:12,md:!0,children:t($,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e(D,{variant:"h5",children:i.name}),e(D,{variant:"subtitle1",color:"textSecondary",children:((m=A.find(a=>a.id===i.department))==null?void 0:m.name)||"N/A"}),e(D,{variant:"body2",color:"textSecondary",children:((l=h.find(a=>a.id===i.designation))==null?void 0:l.title)||"N/A"}),t(D,{variant:"body2",color:"textSecondary",children:["Employee ID : ",i.employee_id||"N/A"]}),t(D,{variant:"body2",color:"textSecondary",children:["Date of Join : ",i.date_of_joining||"N/A"]}),e(me,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e(ne,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e(r,{item:!0,xs:12,md:6,children:t(Q,{children:[e(j,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.phone||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Email:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.email||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Birthday:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.birthday||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Address:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.address||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Gender:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.gender||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Reports to:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:R.find(a=>a.id===i.report_to)?t($,{sx:{display:"flex",alignItems:"center"},children:[e(se,{src:`/assets/images/users/${(F=R.find(a=>a.id===i.report_to))==null?void 0:F.user_name}.jpg`,alt:_.name,sx:{width:24,height:24,mr:1}}),e(D,{color:"primary",children:(u=R.find(a=>a.id===i.report_to))==null?void 0:u.name})]}):"N/A"})})]})})]})})]})}),e(q,{sx:{paddingBottom:"0px !important"},children:t(Te,{value:I,onChange:g,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e(pe,{label:"Profile"}),e(pe,{label:"Projects"}),e(pe,{label:"Salary & Statutory"}),e(pe,{label:"Assets"})]})})]})})}),t($,{sx:{p:2},children:[I===0&&t(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(X,{sx:{mb:2,flex:1},children:[e(Y,{title:"Personal Information",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("personal"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.passport_no||i.passport_exp_date||i.nationality||i.religion||i.marital_status||i.employment_of_spouse||i.number_of_children?t(Q,{children:[i.passport_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.passport_no||"N/A"})})]})}),i.passport_exp_date&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport Exp Date.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.passport_exp_date||"N/A"})})]})}),i.nid&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ NID No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.nid||"N/A"})})]})}),i.nationality&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Nationality:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.nationality||"N/A"})})]})}),i.religion&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Religion:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.religion||"N/A"})})]})}),i.marital_status&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Marital Status:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.marital_status||"N/A"})})]})}),i.employment_of_spouse&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Employment of Spouse:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.employment_of_spouse||"N/A"})})]})}),i.number_of_children&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ No. of Children:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.number_of_children||"N/A"})})]})})]}):e(D,{children:"No personal information available"})})]})}),e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(X,{sx:{mb:2,flex:1},children:[e(Y,{title:"Emergency Contact",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("emergency"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.emergency_contact_primary_name||i.emergency_contact_secondary_name?t(Q,{children:[i.emergency_contact_primary_name&&t(w,{children:[e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_name||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_relationship||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_phone||"N/A"})})]})})]}),i.emergency_contact_secondary_name&&t(w,{children:[e(ne,{sx:{my:2}}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_name||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_relationship||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e(D,{children:"No emergency contact information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(X,{variant:"outlined",sx:{mb:2},children:[e(Y,{title:"Bank Information",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("bank"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.bank_name||i.bank_account_no||i.ifsc_code||i.pan_no?t(Q,{children:[i.bank_name&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.bank_name})})]})}),i.bank_account_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Account No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.bank_account_no})})]})}),i.ifsc_code&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ IFSC Code:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.ifsc_code})})]})}),i.pan_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ PAN No:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.pan_no})})]})})]}):e(D,{children:"No bank information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(X,{variant:"outlined",children:[e(Y,{title:"Family Information",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("family"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.family_member_name||i.family_member_relationship||i.family_member_dob||i.family_member_phone?t(Q,{children:[i.family_member_name&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_name})})]})}),i.family_member_relationship&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_relationship})})]})}),i.family_member_dob&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Date of Birth:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_dob})})]})}),i.family_member_phone&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_phone})})]})})]}):e(D,{children:"No family member information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(X,{variant:"outlined",sx:{mb:2},children:[e(Y,{title:"Education Information",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("education"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.educations&&i.educations.length>0?e(Q,{children:i.educations.map((a,c)=>t(ce.Fragment,{children:[e(j,{disableGutters:!0,children:t(D,{variant:"h6",children:["â€¢ ",a.institution]})}),e(j,{disableGutters:!0,children:e(D,{variant:"body1",children:a.degree||"N/A"})}),e(j,{disableGutters:!0,children:t(D,{variant:"body2",children:[a.starting_date?new Date(a.starting_date).getFullYear():"N/A"," -",a.complete_date?new Date(a.complete_date).getFullYear():"N/A"]})}),c<i.educations.length-1&&e(ne,{sx:{my:1}})]},a.id))}):e(D,{children:"No education information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(X,{variant:"outlined",children:[e(Y,{title:"Experience",sx:{padding:"24px"},action:e(L,{variant:"outlined",color:"primary",onClick:()=>N("experience"),sx:{position:"absolute",top:16,right:16},children:e(Z,{})})}),e(q,{children:i.experiences&&i.experiences.length>0?e(Q,{children:i.experiences.map((a,c)=>t(ce.Fragment,{children:[e(j,{disableGutters:!0,children:t(D,{variant:"h6",children:["â€¢ ",a.job_position," at ",a.company_name]})}),e(j,{disableGutters:!0,children:t(D,{variant:"body1",children:[a.period_from?new Date(a.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",a.period_to?new Date(a.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e(j,{disableGutters:!0,children:e(D,{variant:"body2",children:a.location})}),a.description&&e(j,{disableGutters:!0,children:e(D,{variant:"body2",children:a.description})}),c<i.experiences.length-1&&e(ne,{sx:{my:1}})]},c))}):e(D,{children:"No experience information"})})]})})]}),I===1&&e(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:$e.map((a,c)=>e(r,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e(Le,{project:a})},a.id||c))}),I===2&&e(Re,{user:i,setUser:b})]})]})};export{Xe as default};
