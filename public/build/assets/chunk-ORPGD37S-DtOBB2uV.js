import{u as re,$ as B}from"./chunk-HJTJQZF3-D5k-E81R.js";import{p as ne,C as $,N as ie}from"./App-DaWfJDeQ.js";import{r as d,R as I,Q as oe,_ as ae,j as s}from"./vendor-Dz0S-B-S.js";var se=d.useLayoutEffect,de=function(e){var t=I.useRef(e);return se(function(){t.current=e}),t},k=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},ue=function(e,t){var r=I.useRef();return I.useCallback(function(i){e.current=i,r.current&&k(r.current,null),r.current=t,t&&k(t,i)},[t])},A={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},le=function(e){Object.keys(A).forEach(function(t){e.style.setProperty(t,A[t],"important")})},N=le,o=null,_=function(e,t){var r=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function ce(n,e,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),N(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,l=n.borderSize,a=n.sizingStyle,v=a.boxSizing;Object.keys(a).forEach(function(f){var x=f;o.style[x]=a[x]}),N(o),o.value=e;var u=_(o,n);o.value=e,u=_(o,n),o.value="x";var p=o.scrollHeight-i,c=p*t;v==="border-box"&&(c=c+i+l),u=Math.max(c,u);var h=p*r;return v==="border-box"&&(h=h+i+l),u=Math.min(h,u),[u,p]}var O=function(){},he=function(e,t){return e.reduce(function(r,i){return r[i]=t[i],r},{})},pe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],fe=!!document.documentElement.currentStyle,ge=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var r=he(pe,t),i=r.boxSizing;if(i==="")return null;fe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var l=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:l,borderSize:a}},ve=ge;function G(n,e,t){var r=de(t);d.useLayoutEffect(function(){var i=function(a){return r.current(a)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var xe=function(e){G(window,"resize",e)},be=function(e){G(document.fonts,"loadingdone",e)},me=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Se=function(e,t){var r=e.cacheMeasurements,i=e.maxRows,l=e.minRows,a=e.onChange,v=a===void 0?O:a,u=e.onHeightChange,p=u===void 0?O:u,c=oe(e,me),h=c.value!==void 0,f=d.useRef(null),x=ue(f,t),H=d.useRef(0),y=d.useRef(),b=function(){var g=f.current,z=r&&y.current?y.current:ve(g);if(z){y.current=z;var m=ce(z,g.value||g.placeholder||"x",l,i),S=m[0],w=m[1];H.current!==S&&(H.current=S,g.style.setProperty("height",S+"px","important"),p(S,{rowHeight:w}))}},L=function(g){h||b(),v(g)};return d.useLayoutEffect(b),xe(b),be(b),d.createElement("textarea",ae({},c,{onChange:L,ref:x}))},ye=d.forwardRef(Se),U=ne(({style:n,minRows:e=3,maxRows:t=8,cacheMeasurements:r=!1,disableAutosize:i=!1,onHeightChange:l,...a},v)=>{const{Component:u,label:p,description:c,startContent:h,endContent:f,hasHelper:x,shouldLabelBeOutside:H,shouldLabelBeInside:y,isInvalid:b,errorMessage:L,getBaseProps:R,getLabelProps:g,getInputProps:z,getInnerWrapperProps:m,getInputWrapperProps:S,getHelperWrapperProps:w,getDescriptionProps:Y,getErrorMessageProps:D,isClearable:T,getClearButtonProps:W}=re({...a,ref:v,isMultiline:!0}),[Q,X]=d.useState(e>1),[Z,q]=d.useState(!1),F=p?s.jsx("label",{...g(),children:p}):null,C=z(),J=(E,j)=>{if(e===1&&X(E>=j.rowHeight*2),t>e){const te=E>=t*j.rowHeight;q(te)}l==null||l(E,j)},P=i?s.jsx("textarea",{...C,style:B(C.style,n??{})}):s.jsx(ye,{...C,cacheMeasurements:r,"data-hide-scroll":$(!Z),maxRows:t,minRows:e,style:B(C.style,n??{}),onHeightChange:J}),K=d.useMemo(()=>T?s.jsx("button",{...W(),children:s.jsx(ie,{})}):null,[T,W]),V=d.useMemo(()=>h||f?s.jsxs("div",{...m(),children:[h,P,f]}):s.jsx("div",{...m(),children:P}),[h,C,f,m]),M=b&&L,ee=M||c;return s.jsxs(u,{...R(),children:[H?F:null,s.jsxs("div",{...S(),"data-has-multiple-rows":$(Q),children:[y?F:null,V,K]}),x&&ee?s.jsx("div",{...w(),children:M?s.jsx("div",{...D(),children:L}):s.jsx("div",{...Y(),children:c})}):null]})});U.displayName="HeroUI.Textarea";var Le=U;export{Le as t};
