import{J as We,r,a as c,b as e,F as K,g as se,d as le,Q as He,h as Qe,c as be}from"./app-WmnCG5Fz.js";import{u as ve,T,I as Ue,G as $,D as _e,B as ne,E as H,e as Te,L as Je,d as Fe,b as Ke,N as Me,i as Pe,A as Ve}from"./App-0uPz_bAn.js";import{P as Xe}from"./PageHeader-Bf4j3zU9.js";import{S as Ze}from"./StatsCards-CZDQB0V2.js";import{L as ea}from"./LeaveEmployeeTable-Ctlc_WDO.js";import{C as aa}from"./Clear-D4MRFZIQ.js";import{G as Le}from"./GlassDialog-kOw4xbGN.js";import{D as Oe}from"./DialogTitle-Dsnnaw8D.js";import{I as Re,F as Be,T as J}from"./TextField-DU2E4T2B.js";import{S as Ee}from"./Select-CvEed4dx.js";import{M as oe}from"./MenuItem-B7EArCcA.js";import{A as ta}from"./Avatar-Bx2_kRAK.js";import{b as qe,c as ze}from"./DialogContent-gof1vnkQ.js";import{L as ra}from"./LoadingButton-DZDXZxCX.js";import{C as ye}from"./CircularProgress-CIBZ8liK.js";import{D as sa}from"./DialogContentText-B6QZJiKn.js";import{B as Ae}from"./Button-DPHVCAGE.js";import{d as ge}from"./dayjs.min-CPsvstEg.js";import{F as la}from"./CheckCircleIcon-CBAc1kti.js";import{F as oa}from"./XCircleIcon-8I9752vK.js";import{F as fe}from"./ChartBarIcon-DRSFaDW-.js";import{F as Ie}from"./ExclamationTriangleIcon-DSDkG4Ov.js";import{F as na}from"./MagnifyingGlassIcon-Kr_AAOYP.js";import{F as ia}from"./PlusIcon-BXx3UOyn.js";import{F as da}from"./DocumentArrowDownIcon-DQSPryPE.js";import{F as ca}from"./PresentationChartLineIcon-Bz9KjT7B.js";import{s as je,l as $e}from"./chunk-2GIFKCNQ-CGe4_-PZ.js";import"./app-DNvvDii_.js";import"./chunk-D5XJWRAV-CO6zSkN0.js";import"./PencilIcon-mmkGg9B9.js";import"./TrashIcon-BzUzIQjK.js";import"./XCircleIcon-Cepy0lLj.js";import"./UserIcon-Cuyhv7eW.js";import"./CardContent-CjdXiIyz.js";import"./colorManipulator-DEnRusvB.js";import"./chunk-F3UDT23P-BsXw7IEw.js";import"./useHasTabbableChild-WTz0rn8D.js";import"./chunk-7F3ZLNJ6-BhrcPkoD.js";import"./chunk-7ZZXWEXF-BmpCvzUQ.js";import"./chunk-R6AK6OQ4-CsNm-kki.js";import"./chunk-O5I3QTYU-BnrCVQWa.js";import"./index-CokAva9Y.js";import"./Popover-CYXCxQSs.js";import"./List-CVlkUtIP.js";import"./listItemTextClasses-Bp1ltYk6.js";import"./dividerClasses-BdJ_kVLI.js";import"./useSlot-B0_gT1QA.js";const Ye=({open:Y,closeModal:w,leavesData:f,setLeavesData:W,currentLeave:s,allUsers:E,setTotalRows:A,setLastPage:F,setLeaves:I,handleMonthChange:L,employee:u,selectedMonth:V,addLeaveOptimized:M,updateLeaveOptimized:D,fetchLeavesStats:P})=>{var re;const{auth:R}=We().props,m=ve(),[h,x]=r.useState((s==null?void 0:s.user_id)||R.user.id),[l,ie]=r.useState((f==null?void 0:f.leaveTypes)||[]),[C,Q]=r.useState([]),[v,B]=r.useState((s==null?void 0:s.leave_type)||""),X=t=>{if(!t)return new Date().toISOString().split("T")[0];if(typeof t=="string"&&t.includes("T"))return t.split("T")[0];if(typeof t=="string"&&t.match(/^\d{4}-\d{2}-\d{2}$/))return t;const p=new Date(t);return isNaN(p.getTime())?new Date().toISOString().split("T")[0]:p.toISOString().split("T")[0]},[_,O]=r.useState(s!=null&&s.from_date?X(s.from_date):""),[z,de]=r.useState(s!=null&&s.to_date?X(s.to_date):""),[G,Z]=r.useState((s==null?void 0:s.no_of_days)||""),[ee,ce]=r.useState(""),[ae,pe]=r.useState((s==null?void 0:s.reason)||""),[b,ue]=r.useState({}),[te,k]=r.useState(!1),[q,me]=r.useState("");return r.useEffect(()=>{var t,p;if(f){ie(f.leaveTypes||[]);const y=((t=f.leaveCountsByUser)==null?void 0:t[h])||[];if(Q(y),l.length>0&&!v&&!s&&B(l[0].type),s&&!v){const i=(p=f.leaveTypes)==null?void 0:p.find(d=>d.id===s.leave_type);i&&B(i.type)}}},[f,h,s]),r.useEffect(()=>{if(!v||!C||!l)return;const t=C.find(i=>i.leave_type===v),p=(t==null?void 0:t.days_used)||0;me(p);const y=l.find(i=>i.type===v);if(y){const i=y.days-p;ce(i),s&&G>i&&Z(i)}},[v,C,l,s,G]),r.useEffect(()=>{Z(((p,y)=>{if(!p||!y)return"";const i=new Date(p),d=new Date(y);if(i>d)return"";const j=d.getTime()-i.getTime();return Math.ceil(j/(1e3*3600*24))+1})(_,z))},[_,z]),c(Le,{open:Y,onClose:w,fullWidth:!0,maxWidth:"sm",children:[c(Oe,{sx:{display:"flex",alignItems:"center"},children:[e(T,{variant:"h6",children:s?"Edit Leave":"Add Leave"}),e(Ue,{onClick:w,sx:{position:"absolute",top:8,right:16},children:e(aa,{})})]}),c("form",{onSubmit:async t=>{t.preventDefault(),k(!0);const p=new Promise(async(y,i)=>{try{const d={route:route().current(),user_id:h,leaveType:v,fromDate:_,toDate:z,daysCount:G,leaveReason:ae,employee:u,month:V},j=s?route("leave-update"):route("leave-add");s&&(d.id=s.id);const S=await axios.post(j,d);S.status===200&&(W(S.data.leavesData),s&&D&&S.data.leave?(console.log(S.data.leave),D(S.data.leave),P()):M&&S.data.leave&&(M(S.data.leave),P(),A(he=>he+1)),w(),y([S.data.message||"Leave application submitted successfully"]))}catch(d){console.error(d),k(!1),d.response?(d.response.status===422?(ue(d.response.data.errors||{}),i(d.response.data.error||"Failed to submit leave application")):i("An unexpected error occurred. Please try again later."),console.error(d.response.data.error)):d.request?(i("No response received from the server. Please check your internet connection."),console.error(d.request)):(i("An error occurred while setting up the request."),console.error("Error",d.message))}finally{k(!1)}});H.promise(p,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[e(ye,{}),e("span",{style:{marginLeft:"8px"},children:"Submitting leave application..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:y}){return e(K,{children:y.map((i,d)=>e("div",{children:i},d))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:y}){return e(K,{children:y})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}})},children:[e(qe,{children:c($,{container:!0,spacing:2,children:[e($,{item:!0,xs:12,md:6,children:c(_e,{fullWidth:!0,children:[e(Re,{id:"leave-type-label",children:"Leave Type"}),c(Ee,{labelId:"leave-type-label",value:v||"",onChange:t=>B(t.target.value),label:"Leave Type",error:!!b.leaveType,disabled:!1,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow,maxHeight:300}}},children:[e(oe,{value:"",disabled:!0,children:"Select Leave Type"}),l.map(t=>{const p=C==null?void 0:C.find(d=>d.leave_type===t.type),i=(p?t.days-p.days_used:t.days)<=0;return e(oe,{value:t.type,disabled:i,title:i?"No remaining leaves available":"",children:c(ne,{display:"flex",justifyContent:"space-between",width:"100%",children:[e("span",{children:t.type}),e("span",{children:p?`${p.days_used} / ${t.days} days`:`${t.days} days`})]})},t.id)})]}),e(Be,{children:b.leaveType})]})}),e($,{item:!0,xs:12,md:6,children:e(J,{label:"From",type:"date",fullWidth:!0,value:_,onChange:t=>O(t.target.value),InputLabelProps:{shrink:!0},error:!!b.fromDate,helperText:b.fromDate})}),e($,{item:!0,xs:12,md:6,children:e(J,{label:"To",type:"date",fullWidth:!0,value:z,onChange:t=>de(t.target.value),InputLabelProps:{shrink:!0},error:!!b.toDate,helperText:b.toDate})}),e($,{item:!0,xs:12,md:6,children:e(J,{label:"Number of days",type:"text",fullWidth:!0,value:G,InputProps:{readOnly:!0},error:!!b.daysCount,helperText:b.daysCount})}),e($,{item:!0,xs:12,md:6,children:e(J,{label:"Remaining Leaves",type:"text",fullWidth:!0,value:`${ee} day${ee!==1?"s":""}`,InputProps:{readOnly:!0,endAdornment:c(T,{variant:"caption",color:"textSecondary",sx:{ml:1},children:["of ",((re=l.find(t=>t.type===v))==null?void 0:re.days)||0," total"]})},error:!!b.remainingLeaves,helperText:b.remainingLeaves})}),route().current()==="leaves"&&e($,{item:!0,xs:12,md:6,children:c(_e,{fullWidth:!0,children:[e(Re,{id:"leave-employee-label",children:"Employee"}),c(Ee,{variant:"outlined",fullWidth:!0,labelId:"leave-employee-label",value:h||"na",error:!!b.user_id,onChange:t=>x(t.target.value),label:"Employee",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow}}},children:[e(oe,{value:"na",disabled:!0,children:"Please select"}),E.map(t=>e(oe,{value:t.id,children:c(ne,{sx:{display:"flex"},children:[e(ta,{src:t.profile_image,alt:t.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),t.name]})},t.id))]}),e(Be,{children:b.user_id})]})}),e($,{item:!0,xs:12,children:e(J,{label:"Leave Reason",multiline:!0,rows:4,fullWidth:!0,value:ae,onChange:t=>pe(t.target.value),error:!!b.leaveReason,helperText:b.leaveReason})})]})}),e(ze,{sx:{padding:"16px",justifyContent:"center"},children:e(ra,{type:"submit",variant:"outlined",color:"primary",loading:te,disabled:te,sx:{borderRadius:"50px"},children:"Submit"})})]})]})},pa=({open:Y,closeModal:w,leaveId:f,setLeavesData:W,setLeaves:s,setTotalRows:E,setLastPage:A,setError:F,deleteLeaveOptimized:I,fetchLeavesStats:L})=>{const u=ve();return c(Le,{open:Y,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(Oe,{id:"alert-dialog-title",children:"Confirm Deletion"}),e(qe,{children:e(sa,{id:"alert-dialog-description",children:"Are you sure you want to delete this leave? This action cannot be undone."})}),c(ze,{children:[e(Ae,{onClick:w,color:"primary",children:"Cancel"}),e(Ae,{onClick:()=>{const M=new Promise(async(D,P)=>{var R,m;try{const h=await axios.delete(route("leave-delete",{id:f,route:route().current()}));h.status===200&&(I?(I(f),E(x=>x-1),L()):(W(h.data.leavesData),E(h.data.leaves.total),A(h.data.leaves.last_page),s(h.data.leaves.data),F(!1),L()),D("Leave application deleted successfully"))}catch(h){if(console.error("Error deleting task:",h),h.response.status===404){const{leavesData:x}=h.response.data;W(x),F(((m=(R=h.response)==null?void 0:R.data)==null?void 0:m.message)||"Error retrieving data.")}P(h.response.data.error||"Failed to delete leave application")}finally{w()}});H.promise(M,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[e(ye,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting leave application..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:D}){return e(K,{children:D})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:D}){return e(K,{children:D})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}}})},color:"error",autoFocus:!0,children:"Delete"})]})]})},ua=({title:Y,allUsers:w})=>{var xe,Ce,ke,Se,Ne;const{auth:f}=We().props,W=ve(),s=Te(W.breakpoints.down("sm"));Te(W.breakpoints.down("md"));const[E,A]=r.useState(!1),[F,I]=r.useState([]),[L,u]=r.useState(),[V,M]=r.useState(0),[D,P]=r.useState(0),[R,m]=r.useState(),[h,x]=r.useState(""),[l,ie]=r.useState({employee:"",selectedMonth:ge().format("YYYY-MM"),status:"all",leaveType:"all",department:"all"}),[C,Q]=r.useState({perPage:30,currentPage:1}),v=r.useCallback((a,o)=>{if(a==="year"){const n=Number(o);if(n<1900||n>new Date().getFullYear()){console.warn("Invalid year selected. Must be between 1900 and current year.");return}}ie(n=>({...n,[a]:o})),Q(n=>({...n,currentPage:1}))},[]),[B,X]=r.useState({pending:0,approved:0,rejected:0,total:0}),_=((xe=f.permissions)==null?void 0:xe.includes("leaves.view"))||!1,O=((Ce=f.permissions)==null?void 0:Ce.includes("leaves.approve"))||!1,z=((ke=f.permissions)==null?void 0:ke.includes("leaves.create"))||!1,de=((Se=f.permissions)==null?void 0:Se.includes("leaves.update"))||!1,G=((Ne=f.permissions)==null?void 0:Ne.includes("leaves.delete"))||!1,Z=r.useMemo(()=>[{key:"all",label:"All Status",value:"all"},{key:"pending",label:"Pending",value:"pending"},{key:"approved",label:"Approved",value:"approved"},{key:"rejected",label:"Rejected",value:"rejected"},{key:"new",label:"New",value:"new"}],[]),ee=r.useMemo(()=>{const a=[{key:"all",label:"All Types",value:"all"}];if(!F.leaveTypes)return a;const o=F.leaveTypes.map(n=>({key:n.type.toLowerCase(),label:n.type,value:n.type.toLowerCase()}));return[...a,...o]},[F.leaveTypes]),ce=r.useCallback(a=>{p(o=>({...o,[a]:!0}))},[]),ae=r.useCallback((a,o)=>{m({id:a}),p(n=>({...n,[o]:!0}))},[]),pe=r.useCallback(a=>{v("employee",a.target.value.toLowerCase())},[v]),b=r.useCallback(a=>{v("selectedMonth",a.target.value)},[v]),ue=r.useCallback(a=>{Q(o=>({...o,currentPage:a}))},[]),te=r.useCallback(a=>{Q(o=>({...o,perPage:a,currentPage:1}))},[]),k=r.useCallback(async()=>{var a,o,n;A(!0);try{const g=await se.get(route("leaves.paginate"),{params:{page:C.currentPage,perPage:C.perPage,employee:l.employee,month:l.selectedMonth,status:l.status!=="all"?l.status:void 0,leave_type:l.leaveType!=="all"?l.leaveType:void 0,department:l.department!=="all"?l.department:void 0}});if(g.status===200){const{leaves:N,leavesData:U}=g.data;u(N.data),I(U),M(N.total),P(N.last_page),x(""),A(!1)}}catch(g){if(console.error("Error fetching leaves data:",g.response),((a=g.response)==null?void 0:a.status)===404){const{leavesData:N}=g.response.data;I(N),x(((n=(o=g.response)==null?void 0:o.data)==null?void 0:n.message)||"No leaves found for the selected criteria.")}else x("Error retrieving leaves data. Please try again.");u(!1),A(!1)}},[l]),q=r.useCallback(async()=>{var a,o,n;try{const g=await se.get(route("leaves.stats"),{params:{month:l.selectedMonth}});if(g.status===200){const{stats:N}=g.data;X(N)}}catch(g){console.error("Error fetching leaves data:",g.response),((a=g.response)==null?void 0:a.status)===404?x(((n=(o=g.response)==null?void 0:o.data)==null?void 0:n.message)||"No leaves found for the selected criteria."):x("Error retrieving leaves data. Please try again."),A(!1)}},[l]),me=r.useCallback(async a=>{if(O)try{(await se.post(route("leaves.bulk-approve"),{leave_ids:a})).status===200&&(k(),H.success("Selected leaves approved successfully"))}catch(o){console.error("Error bulk approving leaves:",o),H.error("Failed to approve selected leaves")}},[O,k]),we=r.useCallback(async a=>{if(O)try{(await se.post(route("leaves.bulk-reject"),{leave_ids:a})).status===200&&(k(),H.success("Selected leaves rejected successfully"))}catch(o){console.error("Error bulk rejecting leaves:",o),H.error("Failed to reject selected leaves")}},[O,k]),re=r.useMemo(()=>[{title:"Pending",value:B.pending,icon:e(Je,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Awaiting approval"},{title:"Approved",value:B.approved,icon:e(la,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Successfully approved"},{title:"Rejected",value:B.rejected,icon:e(oa,{}),color:"text-red-400",iconBg:"bg-red-500/20",description:"Declined requests"},{title:"Total",value:B.total,icon:e(fe,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All leave requests"}],[B]);if(!_)return e(ne,{sx:{display:"flex",justifyContent:"center",p:2},children:e(Fe,{children:c(le,{className:"p-8 text-center",children:[e(Ie,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"Access Denied"}),e(T,{variant:"body2",color:"textSecondary",children:"You don't have permission to view leave management."})]})})});const[t,p]=r.useState({add_leave:!1,edit_leave:!1,delete_leave:!1}),y=r.useRef(null),i=r.useCallback(a=>{p(o=>({...o,[a]:!0}))},[]),d=r.useCallback(a=>{p(o=>({...o,[a]:!1}))},[]),j=r.useCallback(a=>[...a].sort((o,n)=>new Date(o.from_date)-new Date(n.from_date)),[]),S=r.useCallback(a=>{const n=ge(a.from_date).format("YYYY-MM")===l.selectedMonth,g=!l.employee||String(l.employee)===String(a.user_id);!n||!g||u(N=>{const U=[...N,a];return j(U)})},[j,l.selectedMonth,l.employee]),he=r.useCallback(a=>{const n=ge(a.from_date).format("YYYY-MM")===l.selectedMonth,g=!l.employee||String(l.employee)===String(a.user_id);!n||!g||u(N=>{const U=N.map(De=>De.id===a.id?a:De);return j(U)})},[j,l.selectedMonth,l.employee]),Ge=r.useCallback(a=>{u(o=>o.filter(n=>n.id!==a))},[]);return r.useEffect(()=>{_&&k()},[q,_]),r.useEffect(()=>{_&&q()},[k,_]),c(K,{children:[e(He,{title:Y}),t.add_leave&&e(Ye,{open:t.add_leave,closeModal:()=>d("add_leave"),leavesData:F,setLeavesData:I,currentLeave:null,allUsers:w,setTotalRows:M,setLastPage:P,setLeaves:u,handleMonthChange:b,employee:l.employee,selectedMonth:l.selectedMonth,addLeaveOptimized:S,fetchLeavesStats:q}),t.edit_leave&&e(Ye,{open:t.edit_leave,closeModal:()=>d("edit_leave"),leavesData:F,setLeavesData:I,currentLeave:R,allUsers:w,setTotalRows:M,setLastPage:P,setLeaves:u,handleMonthChange:b,employee:l.employee,selectedMonth:l.selectedMonth,updateLeaveOptimized:he,fetchLeavesStats:q}),t.delete_leave&&e(pa,{open:t.delete_leave,closeModal:()=>d("delete_leave"),leaveId:R==null?void 0:R.id,setLeaves:u,setTotalRows:M,setLastPage:P,deleteLeaveOptimized:Ge,fetchLeavesStats:q}),e(ne,{sx:{display:"flex",justifyContent:"center",p:2},children:e(Ke,{in:!0,children:e(Fe,{children:e(Xe,{title:"Leave Management",subtitle:"Manage employee leave requests and approvals",icon:e(ca,{className:"w-8 h-8"}),variant:"gradient",actionButtons:[...z?[{label:"Add Leave",icon:e(ia,{className:"w-4 h-4"}),onPress:()=>i("add_leave"),className:"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-secondary)] text-white font-medium hover:opacity-90"}]:[],{label:"Export",icon:e(da,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}],children:c("div",{className:"p-6",children:[e(Ze,{stats:re}),e("div",{className:"mb-6",children:c("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Me,{label:"Month/Year",type:"month",value:l.selectedMonth,onChange:b,startContent:e(Pe,{className:"w-4 h-4"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:s?"sm":"md"})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Me,{label:"Search Employee",placeholder:"Enter name or ID...",value:l.employee,onChange:pe,startContent:e(na,{className:"w-4 h-4 text-default-400"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:s?"sm":"md"})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(je,{label:"Leave Status",selectedKeys:[l.status],onSelectionChange:a=>v("status",Array.from(a)[0]),variant:"bordered",classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},size:s?"sm":"md",children:Z.map(a=>e($e,{value:a.value,children:a.label},a.key))})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(je,{label:"Leave Type",selectedKeys:[l.leaveType],onSelectionChange:a=>v("leaveType",Array.from(a)[0]),variant:"bordered",classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},size:s?"sm":"md",children:ee.map(a=>e($e,{value:a.value,children:a.label},a.key))})}),e("div",{className:"flex gap-2",children:e(Qe,{variant:"flat",color:"primary",size:s?"sm":"md",onPress:k,isLoading:E,startContent:!E&&e(fe,{className:"w-4 h-4"}),children:"Refresh"})})]})}),c("div",{className:"min-h-96",children:[c(T,{variant:"h6",className:"mb-4 flex items-center gap-2",children:[e(fe,{className:"w-5 h-5"}),"Leave Requests Management"]}),E?e(be,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(le,{className:"text-center py-12",children:[e(ye,{size:40}),e(T,{className:"mt-4",color:"textSecondary",children:"Loading leave data..."})]})}):L&&L.length>0?e("div",{className:"overflow-hidden rounded-lg",children:e(ea,{ref:y,totalRows:V,lastPage:D,setCurrentPage:ue,setPerPage:te,perPage:C.perPage,currentPage:C.currentPage,handleClickOpen:ae,setCurrentLeave:m,openModal:ce,leaves:L,allUsers:w,setLeaves:u,employee:l.employee,selectedMonth:l.selectedMonth,isAdminView:!0,onBulkApprove:me,onBulkReject:we,canApproveLeaves:O,canEditLeaves:de,canDeleteLeaves:G,fetchLeavesStats:q})}):h?e(be,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(le,{className:"text-center py-12",children:[e(Ie,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"No Data Found"}),e(T,{color:"textSecondary",children:h})]})}):e(be,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(le,{className:"text-center py-12",children:[e(Pe,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"No Leave Records Found"}),e(T,{color:"textSecondary",children:"No leave records found for the selected criteria."})]})})]})]})})})})})]})};ua.layout=Y=>e(Ve,{children:Y});export{ua as default};
