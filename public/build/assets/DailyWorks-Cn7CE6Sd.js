import{r as $t,q as _r,j as F,a as s,F as le,c as Xn,B as Te,Z as Ge,a0 as Qe,a1 as Cn,a2 as Pn,Y as jr,G as Lr}from"./app-B_4Emp-e.js";import{p as pt,q as L,s as Nt,t as zt,x as ft,y as gt,z as ve,T as Ee,r as f,ai as Oe,K as ge,_ as b,al as Ze,N as Je,f as dt,u as et,ag as $r,o as ht,B as ce,M as Z,S as ze,a5 as wn,Q as Ft,b as ye,c as ke,Y as Ht,G as de,F as kt,h as Rt,W as Nr,Z as Vt,$ as Wt,a0 as zr,j as Hr,k as Vr,l as kn,m as Dt,n as Wr,P as Br,ar as l,av as tn,aj as Ur,ao as re,an as Kr,U as pn,L as qn,ah as $e,aq as Xe,ap as Tt,aw as Yr,as as Gn,e as Xr,g as qr,a as Rn,I as Gr}from"./vendor-Cloz3j8S.js";import{L as Qr,d as Zr,A as Jr}from"./App-aJ5cAYIW.js";import{K as ea,X as ta,N as In,O as na,Q as ra,R as Mn,q as aa,e as tt,u as Bt,f as Qn,h as Et,n as Sn,T as oa,U as ia,W as sa,Y as la,l as ca,o as da,G as ua,b as Zn,j as pa,d as fa,k as ga,Z as ha,p as ma,B as Fn,_ as ba,$ as ya,a0 as va,a as Tn,a1 as xa,P as Da,c as En,E as nn,v as Jn,w as er,a2 as Ca,L as fn,x as Pa,a3 as On,A as tr,F as wa,H as ka,I as Ra,J as Ia}from"./minMax-WhhHiefL.js";import{d as Ma}from"./Delete-44RChOGi.js";import{d as Sa}from"./dayjs.min-Cp0V-5Lt.js";import{d as gn,G as Ut}from"./GlassDialog-BqADRocG.js";import{L as hn}from"./LoadingButton-GREKY8hz.js";import{D as rn,u as Qt,w as Fa}from"./xlsx-og3ogfz1.js";import{d as Ta,p as Ea}from"./Search-Czhcs2d1.js";import{C as Oa}from"./Clear-CtyF_Dmk.js";import"./isBetween-f7dnSdJ-.js";const Aa=pt(L.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),_a=pt(L.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),ja=pt(L.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),La=pt(L.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),an=pt(L.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");var mn={},$a=zt;Object.defineProperty(mn,"__esModule",{value:!0});var nr=mn.default=void 0,Na=$a($t()),za=Nt();nr=mn.default=(0,Na.default)((0,za.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var bn={},Ha=zt;Object.defineProperty(bn,"__esModule",{value:!0});var rr=bn.default=void 0,Va=Ha($t()),Wa=Nt();rr=bn.default=(0,Va.default)((0,Wa.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");function Ba(e){return gt("MuiPickersToolbarText",e)}const An=ft("MuiPickersToolbarText",["root","selected"]),Ua=["className","selected","value"],Ka=e=>{const{classes:t,selected:n}=e;return Je({root:["root",n&&"selected"]},Ba,t)},Ya=ve(Ee,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${An.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${An.selected}`]:{color:(e.vars||e).palette.text.primary}})),Xa=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,c=ge(r,Ua),i=Ka(r);return L.jsx(Ya,b({ref:n,className:Ze(a,i.root),component:"span"},c,{children:o}))}),qa=["align","className","selected","typographyClassName","value","variant","width"],Ga=e=>{const{classes:t}=e;return Je({root:["root"]},ea,t)},Qa=ve(dt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),_n=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:c,typographyClassName:i,value:p,variant:y,width:g}=r,v=ge(r,qa),h=Ga(r);return L.jsx(Qa,b({variant:"text",ref:n,className:Ze(o,h.root)},g?{sx:{width:g}}:{},v,{children:L.jsx(Xa,{align:a,className:i,variant:y,value:p,selected:c})}))});var yn={},Za=zt;Object.defineProperty(yn,"__esModule",{value:!0});var ar=yn.default=void 0,Ja=Za($t()),eo=Nt();ar=yn.default=(0,Ja.default)((0,eo.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var vn={},to=zt;Object.defineProperty(vn,"__esModule",{value:!0});var or=vn.default=void 0,no=to($t()),ro=Nt();or=vn.default=(0,no.default)((0,ro.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");const ao=ve(ta)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),oo=({allData:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,reports:o,juniors:c,reports_with_daily_works:i,openModal:p,setCurrentRow:y,filteredData:g,setFilteredData:v})=>{const{auth:h}=_r().props,m=et(),C=h.roles.includes("Administrator"),S=h.roles.includes("Supervision Engineer"),P=[{name:"Date",selector:d=>d.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:d=>d.number,sortable:"true",center:"true",width:"140px",cell:d=>F(le,{children:[d.number,d.reports&&d.reports.map(u=>s("div",{children:F("span",{children:[s("i",{className:"mdi mdi-circle-medium"})," ",u.ref_no]})},u.ref_no))]})},{name:"Status",selector:d=>d.status,sortable:"true",center:"true",width:"220px",cell:d=>F(ze,{variant:"outlined",size:"small",fullWidth:!0,value:d.status,onChange:u=>R(d.id,"status",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow}}},children:[s(Z,{value:"new",children:F(ce,{sx:{display:"flex"},children:[s(rr,{style:{marginRight:8,color:k("new")}})," New"]})}),s(Z,{value:"resubmission",children:F(ce,{sx:{display:"flex"},children:[s(ar,{style:{marginRight:8,color:k("resubmission")}})," Resubmission"]})}),s(Z,{value:"completed",children:F(ce,{sx:{display:"flex"},children:[s(nr,{style:{marginRight:8,color:k("completed")}})," Completed"]})}),s(Z,{value:"emergency",children:F(ce,{sx:{display:"flex"},children:[s(or,{style:{marginRight:8,color:k("emergency")}})," Emergency"]})})]})},...S?[{name:"Assigned",selector:d=>d.assigned,sortable:"true",center:"true",cell:d=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:d.assigned||"na",onChange:u=>R(d.id,"assigned",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow}}},children:[s(Z,{value:"na",disabled:!0,children:"Please select"}),c.map(u=>s(Z,{value:u.id,children:F(ce,{sx:{display:"flex"},children:[s(wn,{src:`/assets/images/users/${u.user_name||"user-dummy-img"}.jpg`,alt:u.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),u.name]})},u.id))]})}]:[],{name:"Type",selector:d=>d.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:d=>d.description,sortable:"true",left:"true",width:"260px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.description})},{name:"Location",selector:d=>d.location,sortable:"true",center:"true",width:"200px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.location})},{name:"Results",selector:d=>d.inspection_details,sortable:"true",width:"200px",center:"true",cell:d=>{const[u,w]=Ft.useState(!1),[x,I]=Ft.useState(d.inspection_details||"");return s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:u?void 0:()=>{w(!0)},children:u?s(ye,{fullWidth:!0,value:x,onChange:W=>{I(W.target.value)},onBlur:()=>{w(!1),R(d.id,"inspection_details",x)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):s(le,{children:d.inspection_details||"N/A"})})}},{name:"Road Type",selector:d=>d.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:d=>d.qty_layer,sortable:"true",center:"true",width:"150px"},...C?[{name:"In charge",selector:d=>d.incharge,sortable:"true",center:"true",cell:d=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:d.incharge||"na",onChange:u=>R(d.id,"incharge",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow}}},children:[s(Z,{value:"na",disabled:!0,children:"Please select"}),a.map(u=>s(Z,{value:u.id,children:F(ce,{sx:{display:"flex"},children:[s(wn,{src:u.profile_image,alt:u.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),u.name]})},u.id))]})}]:[],{name:"Planned Time",selector:d=>d.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:d=>d.completion_time,sortable:"true",center:"true",width:"250px",cell:d=>s(ye,{fullWidth:!0,size:"small",type:"datetime-local",value:d.completion_time?new Date(d.completion_time).toISOString().slice(0,16):"",onChange:u=>R(d.id,"completion_time",u.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:d=>d.resubmission_count,sortable:"true",center:"true",width:"160px",cell:d=>s(le,{children:d.resubmission_count?`${d.resubmission_count} ${d.resubmission_count>1?"times":"time"}`:""})},...C?[{name:"RFI Submission Date",selector:d=>d.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:d=>s(ye,{fullWidth:!0,size:"small",type:"date",onChange:u=>R(d.id,"rfi_submission_date",u.target.value),value:d.rfi_submission_date?new Date(d.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...C?[{name:"Actions",center:"true",width:"150px",cell:d=>F(ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s(ke,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{y(d),p("editDailyWork")},children:s(Zr,{})}),s(ke,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(d.id,"deleteDailyWork"),children:s(Ma,{})})]})}]:[]],k=d=>{switch(d){case"new":return"blue";case"resubmission":return"orange";case"completed":return"green";case"emergency":return"red";default:return""}},R=async(d,u,w)=>{var x,I;try{const O=await Xn.post(route("dailyWorks.update"),{id:d,[u]:w});O.status===200?(t(A=>A.map(H=>H.id===d?{...H,[u]:w}:H)),Te.success(...O.data.messages||"Task updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}})):Te.error(O.data.error||`Failed to update task ${[u]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}})}catch(O){Te.error(((I=(x=O.response)==null?void 0:x.data)==null?void 0:I.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}})}};return F("div",{children:[n&&s(Qr,{}),s($r,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:m.palette.text.primary}}}),s(ao,{classNames:{base:"max-h-[84vh] overflow-scroll",table:"min-h-[84vh]"},columns:P,data:e,loading:n,loadingComponent:s(ht,{}),defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},io=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=et(),[o,c]=f.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[i,p]=f.useState({}),[y,g]=f.useState(!1),[v,h]=f.useState(!1);f.useEffect(()=>{const S=Object.values(o).some(P=>P!=="");h(S)},[o]);const m=S=>{const{name:P,value:k}=S.target;c(R=>({...R,[P]:k}))};async function C(S){S.preventDefault(),g(!0);const P=new Promise(async(k,R)=>{try{const d=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),u=await d.json();d.ok?(r(w=>w.map(x=>x.id===o.id?{...x,...o}:x)),t(),k(u.message?[u.message]:u.messages),g(!1),t(),console.log(u.message?[u.message]:u.messages)):(g(!1),p(u.errors),R(u.errors),console.error(u.errors))}catch(d){g(!1),t(),console.log(d),R(["An unexpected error occurred."])}});Te.promise(P,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:k}){return s(le,{children:k.map((R,d)=>s("div",{children:R},d))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:k}){return s(le,{children:k.map((R,d)=>s("div",{children:R},d))})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Add Task"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(gn,{})})]}),F("form",{onSubmit:C,children:[s(Vt,{children:F(de,{container:!0,spacing:2,children:[s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:m,error:!!i.date,helperText:i.date})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:m,error:!!i.number,helperText:i.number})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:m,error:!!i.planned_time,helperText:i.planned_time})}),s(de,{item:!0,xs:12,md:6,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"type-label",children:"Type"}),F(ze,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:m,error:!!i.type,helperText:i.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(Z,{value:"Structure",children:"Structure"}),s(Z,{value:"Embankment",children:"Embankment"}),s(Z,{value:"Pavement",children:"Pavement"})]}),s(Nr,{children:i.type})]})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:m,error:!!i.location,helperText:i.location})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:m,error:!!i.description,helperText:i.description})}),s(de,{item:!0,xs:12,md:6,children:F(ye,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:m,error:!!i.side,helperText:i.side,children:[s(Z,{value:"SR-R",children:"SR-R"}),s(Z,{value:"SR-L",children:"SR-L"}),s(Z,{value:"TR-R",children:"TR-R"}),s(Z,{value:"TR-L",children:"TR-L"})]})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:m,error:!!i.qty_layer,helperText:i.qty_layer})})]})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:s(hn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:y,children:"Submit"})})]})]})},so=({open:e,handleClose:t,handleDelete:n})=>(et(),F(Ut,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s(Ht,{id:"alert-dialog-title",children:"Confirm Deletion"}),s(Vt,{children:s(zr,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),F(Wt,{children:[s(dt,{onClick:t,color:"primary",children:"Cancel"}),s(dt,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),lo=({open:e,closeModal:t,data:n,users:r})=>{f.useState(!1);const a=et(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[c,i]=f.useState(o.map(g=>({...g,checked:!0}))),p=g=>{const v=[...c];v[g].checked=!v[g].checked,i(v)},y=async g=>{const v=new Promise((h,m)=>{try{const C=n.map(k=>{const R={};return g.forEach(d=>{if(d.checked)if(d.key==="incharge"||d.key==="assigned"){const u=r.find(w=>w.id===k[d.key]);R[d.label]=u?u.name:"N/A"}else if(d.key==="status"){const u=k[d.key];R[d.label]=u.charAt(0).toUpperCase()+u.slice(1)}else R[d.label]=k[d.key]}),R}),S=Qt.json_to_sheet(C),P=Qt.book_new();Qt.book_append_sheet(P,S,"Daily Works"),Fa(P,"DailyWorks.xlsx"),h("Export successful!"),t()}catch(C){m("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",C)}});Te.promise(v,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:h}){return s(le,{children:h})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:h}){return s(le,{children:h})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Export Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(gn,{})})]}),s(Vt,{children:F(Hr,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[s(Vr,{children:F(kn,{children:[s(Dt,{children:"Column Label"}),s(Dt,{align:"center",children:"Include in Export"})]})}),s(Wr,{children:c.map((g,v)=>F(kn,{children:[s(Dt,{children:g.label}),s(Dt,{align:"center",children:s(Br,{checked:g.checked,onChange:()=>p(v)})})]},g.key))})]})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(hn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>y(c),startIcon:s(rn,{}),children:"Download"})})]})};var co=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function mt(e,t){var n=uo(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function uo(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=co.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var po=[".DS_Store","Thumbs.db"];function fo(e){return Ge(this,void 0,void 0,function(){return Qe(this,function(t){return Ot(e)&&go(e.dataTransfer)?[2,yo(e.dataTransfer,e.type)]:ho(e)?[2,mo(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,bo(e)]:[2,[]]})})}function go(e){return Ot(e)}function ho(e){return Ot(e)&&Ot(e.target)}function Ot(e){return typeof e=="object"&&e!==null}function mo(e){return on(e.target.files).map(function(t){return mt(t)})}function bo(e){return Ge(this,void 0,void 0,function(){var t;return Qe(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return mt(r)})]}})})}function yo(e,t){return Ge(this,void 0,void 0,function(){var n,r;return Qe(this,function(a){switch(a.label){case 0:return e.items?(n=on(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(vo))]):[3,2];case 1:return r=a.sent(),[2,jn(ir(r))];case 2:return[2,jn(on(e.files).map(function(o){return mt(o)}))]}})})}function jn(e){return e.filter(function(t){return po.indexOf(t.name)===-1})}function on(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function vo(e){if(typeof e.webkitGetAsEntry!="function")return Ln(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?sr(t):Ln(e)}function ir(e){return e.reduce(function(t,n){return Cn(Cn([],Pn(t),!1),Pn(Array.isArray(n)?ir(n):[n]),!1)},[])}function Ln(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=mt(t);return Promise.resolve(n)}function xo(e){return Ge(this,void 0,void 0,function(){return Qe(this,function(t){return[2,e.isDirectory?sr(e):Do(e)]})})}function sr(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var c=this;t.readEntries(function(i){return Ge(c,void 0,void 0,function(){var p,y,g;return Qe(this,function(v){switch(v.label){case 0:if(i.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return p=v.sent(),n(p),[3,4];case 3:return y=v.sent(),r(y),[3,4];case 4:return[3,6];case 5:g=Promise.all(i.map(xo)),a.push(g),o(),v.label=6;case 6:return[2]}})})},function(i){r(i)})}o()})}function Do(e){return Ge(this,void 0,void 0,function(){return Qe(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=mt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Co=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(c){var i=c.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):a===i})}return!0};function $n(e){return ko(e)||wo(e)||cr(e)||Po()}function Po(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ko(e){if(Array.isArray(e))return sn(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return Mo(e)||Io(e,t)||cr(e,t)||Ro()}function Ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(e,t){if(e){if(typeof e=="string")return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,i;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,i=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Mo(e){if(Array.isArray(e))return e}var So="file-invalid-type",Fo="file-too-large",To="file-too-small",Eo="too-many-files",Oo=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:So,message:"File type must be ".concat(n)}},Hn=function(t){return{code:Fo,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Vn=function(t){return{code:To,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Ao={code:Eo,message:"Too many files"};function dr(e,t){var n=e.type==="application/x-moz-file"||Co(e,t);return[n,n?null:Oo(t)]}function ur(e,t,n){if(Le(e.size))if(Le(t)&&Le(n)){if(e.size>n)return[!1,Hn(n)];if(e.size<t)return[!1,Vn(t)]}else{if(Le(t)&&e.size<t)return[!1,Vn(t)];if(Le(n)&&e.size>n)return[!1,Hn(n)]}return[!0,null]}function Le(e){return e!=null}function _o(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,c=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(p){var y=dr(p,n),g=ut(y,1),v=g[0],h=ur(p,r,a),m=ut(h,1),C=m[0],S=i?i(p):null;return v&&C&&!S})}function At(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ct(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Wn(e){e.preventDefault()}function jo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Lo(e){return e.indexOf("Edge/")!==-1}function $o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jo(e)||Lo(e)}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return t.some(function(i){return!At(r)&&i&&i.apply(void 0,[r].concat(o)),At(r)})}}function No(){return"showOpenFilePicker"in window}function zo(e){if(Le(e)){var t=Object.entries(e).filter(function(n){var r=ut(n,2),a=r[0],o=r[1],c=!0;return pr(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(fr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var a=ut(r,2),o=a[0],c=a[1];return zn(zn({},n),{},lr({},o,c))},{});return[{description:"Files",accept:t}]}return e}function Ho(e){if(Le(e))return Object.entries(e).reduce(function(t,n){var r=ut(n,2),a=r[0],o=r[1];return[].concat($n(t),[a],$n(o))},[]).filter(function(t){return pr(t)||fr(t)}).join(",")}function Vo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Wo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function pr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function fr(e){return/^.*\.[\w]+$/.test(e)}var Bo=["children"],Uo=["open"],Ko=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Yo=["refKey","onChange","onClick"];function Xo(e){return Qo(e)||Go(e)||gr(e)||qo()}function qo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Go(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qo(e){if(Array.isArray(e))return ln(e)}function Zt(e,t){return ei(e)||Jo(e,t)||gr(e,t)||Zo()}function Zo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){if(e){if(typeof e=="string")return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}}function ln(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,i;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,i=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function ei(e){if(Array.isArray(e))return e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(r){cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(e==null)return{};var n=ti(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ti(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var xn=f.forwardRef(function(e,t){var n=e.children,r=_t(e,Bo),a=mr(r),o=a.open,c=_t(a,Uo);return f.useImperativeHandle(t,function(){return{open:o}},[o]),Ft.createElement(f.Fragment,null,n(Q(Q({},c),{},{open:o})))});xn.displayName="Dropzone";var hr={disabled:!1,getFilesFromEvent:fo,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xn.defaultProps=hr;xn.propTypes={children:l.func,accept:l.objectOf(l.arrayOf(l.string)),multiple:l.bool,preventDropOnDocument:l.bool,noClick:l.bool,noKeyboard:l.bool,noDrag:l.bool,noDragEventsBubbling:l.bool,minSize:l.number,maxSize:l.number,maxFiles:l.number,disabled:l.bool,getFilesFromEvent:l.func,onFileDialogCancel:l.func,onFileDialogOpen:l.func,useFsAccessApi:l.bool,autoFocus:l.bool,onDragEnter:l.func,onDragLeave:l.func,onDragOver:l.func,onDrop:l.func,onDropAccepted:l.func,onDropRejected:l.func,onError:l.func,validator:l.func};var dn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Q(Q({},hr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,i=t.multiple,p=t.maxFiles,y=t.onDragEnter,g=t.onDragLeave,v=t.onDragOver,h=t.onDrop,m=t.onDropAccepted,C=t.onDropRejected,S=t.onFileDialogCancel,P=t.onFileDialogOpen,k=t.useFsAccessApi,R=t.autoFocus,d=t.preventDropOnDocument,u=t.noClick,w=t.noKeyboard,x=t.noDrag,I=t.noDragEventsBubbling,O=t.onError,A=t.validator,H=f.useMemo(function(){return Ho(n)},[n]),W=f.useMemo(function(){return zo(n)},[n]),q=f.useMemo(function(){return typeof P=="function"?P:Un},[P]),B=f.useMemo(function(){return typeof S=="function"?S:Un},[S]),z=f.useRef(null),U=f.useRef(null),$=f.useReducer(ni,dn),V=Zt($,2),te=V[0],N=V[1],ue=te.isFocused,Y=te.isFileDialogActive,pe=f.useRef(typeof window<"u"&&window.isSecureContext&&k&&No()),he=function(){!pe.current&&Y&&setTimeout(function(){if(U.current){var M=U.current.files;M.length||(N({type:"closeDialog"}),B())}},300)};f.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[U,Y,B,pe]);var oe=f.useRef([]),Re=function(M){z.current&&z.current.contains(M.target)||(M.preventDefault(),oe.current=[])};f.useEffect(function(){return d&&(document.addEventListener("dragover",Wn,!1),document.addEventListener("drop",Re,!1)),function(){d&&(document.removeEventListener("dragover",Wn),document.removeEventListener("drop",Re))}},[z,d]),f.useEffect(function(){return!r&&R&&z.current&&z.current.focus(),function(){}},[z,R,r]);var _=f.useCallback(function(D){O?O(D):console.error(D)},[O]),T=f.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D),oe.current=[].concat(Xo(oe.current),[D.target]),Ct(D)&&Promise.resolve(a(D)).then(function(M){if(!(At(D)&&!I)){var J=M.length,ne=J>0&&_o({files:M,accept:H,minSize:c,maxSize:o,multiple:i,maxFiles:p,validator:A}),se=J>0&&!ne;N({isDragAccept:ne,isDragReject:se,isDragActive:!0,type:"setDraggedFiles"}),y&&y(D)}}).catch(function(M){return _(M)})},[a,y,_,I,H,c,o,i,p,A]),ee=f.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D);var M=Ct(D);if(M&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return M&&v&&v(D),!1},[v,I]),ae=f.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D);var M=oe.current.filter(function(ne){return z.current&&z.current.contains(ne)}),J=M.indexOf(D.target);J!==-1&&M.splice(J,1),oe.current=M,!(M.length>0)&&(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ct(D)&&g&&g(D))},[z,g,I]),me=f.useCallback(function(D,M){var J=[],ne=[];D.forEach(function(se){var De=dr(se,H),Ie=Zt(De,2),Ce=Ie[0],ot=Ie[1],it=ur(se,c,o),We=Zt(it,2),st=We[0],Be=We[1],lt=A?A(se):null;if(Ce&&st&&!lt)J.push(se);else{var _e=[ot,Be];lt&&(_e=_e.concat(lt)),ne.push({file:se,errors:_e.filter(function(Xt){return Xt})})}}),(!i&&J.length>1||i&&p>=1&&J.length>p)&&(J.forEach(function(se){ne.push({file:se,errors:[Ao]})}),J.splice(0)),N({acceptedFiles:J,fileRejections:ne,type:"setFiles"}),h&&h(J,ne,M),ne.length>0&&C&&C(ne,M),J.length>0&&m&&m(J,M)},[N,i,H,c,o,p,h,m,C,A]),ie=f.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D),oe.current=[],Ct(D)&&Promise.resolve(a(D)).then(function(M){At(D)&&!I||me(M,D)}).catch(function(M){return _(M)}),N({type:"reset"})},[a,me,_,I]),E=f.useCallback(function(){if(pe.current){N({type:"openDialog"}),q();var D={multiple:i,types:W};window.showOpenFilePicker(D).then(function(M){return a(M)}).then(function(M){me(M,null),N({type:"closeDialog"})}).catch(function(M){Vo(M)?(B(M),N({type:"closeDialog"})):Wo(M)?(pe.current=!1,U.current?(U.current.value=null,U.current.click()):_(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_(M)});return}U.current&&(N({type:"openDialog"}),q(),U.current.value=null,U.current.click())},[N,q,B,k,me,_,W,i]),rt=f.useCallback(function(D){!z.current||!z.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),E())},[z,E]),yt=f.useCallback(function(){N({type:"focus"})},[]),fe=f.useCallback(function(){N({type:"blur"})},[]),at=f.useCallback(function(){u||($o()?setTimeout(E,0):E())},[u,E]),Me=function(M){return r?null:M},He=function(M){return w?null:Me(M)},Ve=function(M){return x?null:Me(M)},Ae=function(M){I&&M.stopPropagation()},be=f.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=D.refKey,J=M===void 0?"ref":M,ne=D.role,se=D.onKeyDown,De=D.onFocus,Ie=D.onBlur,Ce=D.onClick,ot=D.onDragEnter,it=D.onDragOver,We=D.onDragLeave,st=D.onDrop,Be=_t(D,Ko);return Q(Q(cn({onKeyDown:He(we(se,rt)),onFocus:He(we(De,yt)),onBlur:He(we(Ie,fe)),onClick:Me(we(Ce,at)),onDragEnter:Ve(we(ot,T)),onDragOver:Ve(we(it,ee)),onDragLeave:Ve(we(We,ae)),onDrop:Ve(we(st,ie)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},J,z),!r&&!w?{tabIndex:0}:{}),Be)}},[z,rt,yt,fe,at,T,ee,ae,ie,w,x,r]),vt=f.useCallback(function(D){D.stopPropagation()},[]),Se=f.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=D.refKey,J=M===void 0?"ref":M,ne=D.onChange,se=D.onClick,De=_t(D,Yo),Ie=cn({accept:H,multiple:i,type:"file",style:{display:"none"},onChange:Me(we(ne,ie)),onClick:Me(we(se,vt)),tabIndex:-1},J,U);return Q(Q({},Ie),De)}},[U,n,i,ie,r]);return Q(Q({},te),{},{isFocused:ue&&!r,getRootProps:be,getInputProps:Se,rootRef:z,inputRef:U,open:Me(E)})}function ni(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},dn),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Q(Q({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},dn);default:return e}}function Un(){}const ri=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=f.useState(null),[c,i]=f.useState(!1),p=et(),y=P=>{o(P[0])},g=()=>{o(null)},{getRootProps:v,getInputProps:h,isDragActive:m}=mr({onDrop:y,noClick:!!a,noKeyboard:!!a}),C=P=>{if(!P)return s(Aa,{fontSize:"large"});const k=P.type;return k.startsWith("image/")?s(Image,{fontSize:"large"}):k==="application/pdf"?s(La,{fontSize:"large"}):k==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s(_a,{fontSize:"large"}):s(ja,{fontSize:"large"})};return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Import Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:s(gn,{})})]}),F("form",{onSubmit:async P=>{P.preventDefault(),i(!0);const k=new FormData;k.append("file",a);const R=new Promise(async(d,u)=>{try{const w=await fetch(route("dailyWorks.import"),{method:"POST",body:k,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),x=await w.json();w.ok?(r(x.data),n(x.total),d("Daily works imported successfully."),t()):(console.error(x.errors||x.error),u("Failed to import data."))}catch(w){u(`Error: ${w.message||"An unexpected error occurred."}`)}finally{i(!1)}});Te.promise(R,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:d}){return s(le,{children:d})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:d}){return s(le,{children:d})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})},children:[s(Vt,{children:s(de,{container:!0,spacing:2,children:s(de,{item:!0,xs:12,children:F(ce,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[s("input",{...h()}),s(ke,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:C(a)}),a?F(le,{children:[F(Ee,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),s(ke,{onClick:g,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:s(Oa,{})})]}):s(Ee,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(hn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:c,startIcon:s(an,{}),children:"Upload"})})]})]})},ai=["value","referenceDate"],qe={emptyValue:[null,null],getTodayValue:(e,t,n)=>[In(e,t,n),In(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=ge(e,ai);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const c=n??na(r);return[a?t[0]:c,o?t[1]:c]},cleanValue:(e,t)=>t.map(n=>ra(e,n)),areValuesEqual:(e,t,n)=>Mn(e,t[0],n[0])&&Mn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function oi(e){return gt("MuiDateRangePickerToolbar",e)}ft("MuiDateRangePickerToolbar",["root","container"]);const ii=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],si=e=>{const{classes:t}=e;return Je({root:["root"],container:["container"]},oi,t)},li=ve(aa,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ci=ve("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),di=f.forwardRef(function(t,n){const r=tt(),a=Oe({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,c],rangePosition:i,onRangePositionChange:p,toolbarFormat:y,className:g}=a,v=ge(a,ii),h=Bt(),m=o?r.formatByString(o,y||r.formats.shortDate):h.start,C=c?r.formatByString(c,y||r.formats.shortDate):h.end,S=a,P=si(S);return L.jsx(li,b({},v,{toolbarTitle:h.dateRangePickerToolbarTitle,isLandscape:!1,className:Ze(g,P.root),ownerState:S,ref:n,children:L.jsxs(ci,{className:P.container,children:[L.jsx(_n,{variant:o!==null?"h5":"h6",value:m,selected:i==="start",onClick:()=>p("start")}),L.jsxs(Ee,{variant:"h5",children:[" ","–"," "]}),L.jsx(_n,{variant:c!==null?"h5":"h6",value:C,selected:i==="end",onClick:()=>p("end")})]})}))});function br(e,t){const n=tt(),r=Qn(),a=Oe({props:e,name:t}),o=f.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:b({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return b({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Et(n,a.minDate,r.minDate),maxDate:Et(n,a.maxDate,r.maxDate),slots:b({toolbar:di},a.slots)})}const yr=[];let Ne=0;for(;Ne<64;)yr[Ne]=0|Math.sin(++Ne%Math.PI)*4294967296;function ui(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"",c=o.length;const i=[n=1732584193,r=4023233417,~n,~r];for(e=--c/4+2|15,t[--e]=c*8;~c;)t[c>>2]|=o.charCodeAt(c)<<8*c--;for(Ne=o=0;Ne<e;Ne+=16){for(c=i;o<64;c=[a=c[3],n+((a=c[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][c=o>>4]+yr[o]+~~t[Ne|[o,5*o+1,3*o+5,7*o][c]&15])<<(c=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*c+o++%4])|a>>>-c),n,r])n=c[1]|0,r=c[2];for(o=4;o;)i[--o]+=c[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e}const Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vr=e=>{let t="",n,r,a,o,c,i,p,y=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");y<e.length;)o=Pt.indexOf(e.charAt(y++)),c=Pt.indexOf(e.charAt(y++)),i=Pt.indexOf(e.charAt(y++)),p=Pt.indexOf(e.charAt(y++)),n=o<<2|c>>4,r=(c&15)<<4|i>>2,a=(i&3)<<6|p,t=t+String.fromCharCode(n),i!=64&&(t=t+String.fromCharCode(r)),p!=64&&(t=t+String.fromCharCode(a));return t},pi=["pro","premium"],fi=["perpetual","annual","subscription"];function nt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function gi(){nt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function hi(){nt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function mi(){nt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function bi({plan:e,packageName:t}){nt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function yi({packageName:e}){nt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function vi({plan:e,licenseKey:t,expiryTimestamp:n}){nt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function xi({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}tn.__MUI_LICENSE_INFO__=tn.__MUI_LICENSE_INFO__||{key:void 0};class jt{static getLicenseInfo(){return tn.__MUI_LICENSE_INFO__}static getLicenseKey(){return jt.getLicenseInfo().key}static setLicenseKey(t){const n=jt.getLicenseInfo();n.key=t}}let K=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function Di(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const Ci=/^.*EXPIRY=([0-9]+),.*$/,Pi=["x-data-grid-pro","x-date-pickers-pro"],wi=e=>{let t;try{t=parseInt(e.match(Ci)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},ki=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},Ri=e=>{const t=vr(e);return t.includes("KEYVERSION=1")?wi(t):t.includes("KV=2")?ki(t):null};function Ii({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:K.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==ui(a))return{status:K.Invalid};const o=Ri(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:K.Invalid};if(o.licensingModel==null||!fi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:K.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:K.Invalid};o.licensingModel;{const c=parseInt(vr(e),10);if(Number.isNaN(c))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<c)return{status:K.ExpiredVersion}}return o.scope==null||!pi.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:K.Invalid}):Di(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!Pi.includes(n)?{status:K.NotAvailableInInitialProPlan}:{status:K.Valid}:{status:K.OutOfScope}}const Mi=f.createContext({key:void 0}),wt={};function Kt(e,t){const{key:n}=f.useContext(Mi);return f.useMemo(()=>{const r=n??jt.getLicenseKey();if(wt[e]&&wt[e].key===r)return wt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Ii({releaseInfo:t,licenseKey:r,packageName:e}),c=`@mui/${e}`;return o.status===K.Valid||(o.status===K.Invalid?gi():o.status===K.NotAvailableInInitialProPlan?mi():o.status===K.OutOfScope?hi():o.status===K.NotFound?bi({plan:a,packageName:c}):o.status===K.ExpiredAnnualGrace?vi(b({plan:a},o.meta)):o.status===K.ExpiredAnnual?xi(b({plan:a},o.meta)):o.status===K.ExpiredVersion&&yi({packageName:c})),wt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Si(e){switch(e){case K.ExpiredAnnualGrace:case K.ExpiredAnnual:return"MUI X Expired license key";case K.ExpiredVersion:return"MUI X Expired package version";case K.Invalid:return"MUI X Invalid license key";case K.OutOfScope:return"MUI X License key plan mismatch";case K.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case K.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Fi(e){const{packageName:t,releaseInfo:n}=e,r=Kt(t,n);return r.status===K.Valid?null:L.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Si(r.status)})}const Yt=()=>"MTcyMzc1NTYwMDAwMA==",Ti=e=>gt("MuiDateRangeCalendar",e),Kn=ft("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),bt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Jt=(e,t,n)=>bt(e,n)&&e.isWithinRange(t,n),It=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[1]);function un({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[c,i]=t;if(o&&n&&(c&&r==="start"&&(n=Sn(e,n,c)),i&&r==="end"&&(n=Sn(e,n,i))),r==="start"){const y=a?{nextSelection:"start",newRange:[i,n]}:{nextSelection:"end",newRange:[n,null]};return i&&e.isAfter(n,i)?y:{nextSelection:"end",newRange:[n,i]}}const p=a?{nextSelection:"end",newRange:[n,c]}:{nextSelection:"end",newRange:[n,null]};return c&&e.isBeforeDay(n,c)?p:{nextSelection:"start",newRange:[c,n]}}function Ei(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=un(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function Oi(e){return gt("MuiDateRangePickerDay",e)}const G=ft("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),Ai=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],_i=Yt(),ji=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:c,isPreviewing:i,isStartOfPreviewing:p,isEndOfPreviewing:y,isFirstVisibleCell:g,isLastVisibleCell:v,isHiddenDayFiller:h,selected:m,classes:C}=e;return Je({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",c&&"endOfMonth",g&&"firstVisibleCell",v&&"lastVisibleCell",h&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",i&&"rangeIntervalDayPreview",(p||a)&&"rangeIntervalDayPreviewStart",(y||c)&&"rangeIntervalDayPreviewEnd"],day:["day",!m&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!m&&t&&"dayInsideRangeInterval"]},Oi,C)},Mt={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},St={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},Li=ve("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${G.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${G.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${G.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${G.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${G.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${G.startOfMonth}`]:t.startOfMonth},{[`&.${G.endOfMonth}`]:t.endOfMonth},{[`&.${G.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${G.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${G.rangeIntervalDayPreview}`]:b({},St,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${G.rangeIntervalDayPreview}`]:b({},Mt,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ur(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":St,"&:last-of-type":Mt}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:b({},St,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:b({},Mt,{paddingRight:0})}]})),$i=ve("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${G.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${G.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${G.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:b({borderLeftColor:(e.vars||e).palette.divider},St)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:b({borderRightColor:(e.vars||e).palette.divider},Mt)}]})),Ni=ve(oa,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${G.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${G.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${G.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),zi=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:c,isHighlighting:i,isPreviewing:p,selected:y=!1,isVisuallySelected:g,sx:v,draggable:h,isFirstVisibleCell:m,isLastVisibleCell:C}=r,S=ge(r,Ai);Kt("x-date-pickers-pro",_i);const P=tt(),k=P.isSameDay(o,P.endOfMonth(o)),R=P.isSameDay(o,P.startOfMonth(o)),d=b({},r,{selected:y,isStartOfMonth:R,isEndOfMonth:k,draggable:h,isFirstVisibleCell:m,isLastVisibleCell:C,isHiddenDayFiller:c&&!S.showDaysOutsideCurrentMonth}),u=ji(d);return L.jsx(Li,{className:Ze(u.root,a),ownerState:d,sx:v,children:L.jsx($i,{className:u.rangeIntervalPreview,ownerState:d,children:L.jsx(Ni,b({},S,{ref:n,disableMargin:!0,day:o,selected:g,outsideCurrentMonth:c,className:u.day,ownerState:d,draggable:h,isFirstVisibleCell:m,isLastVisibleCell:C}))})})}),Hi=f.memo(zi),Ye=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Vi=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),xr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?xr(e.children[0]):null),en=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=xr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Wi=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:c,dateRange:i,timezone:p})=>{const y=f.useRef(null);f.useEffect(()=>{y.current=document.createElement("img"),y.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const g=u=>{if(u==null)return!1;const w=!c&&!!i[0]&&!!i[1],x=It(e,u,i),I=ct(e,u,i);return w&&(x||I)},v=re(u=>{const w=Ye(u.target,e,p);if(!g(w))return;u.stopPropagation(),y.current&&u.dataTransfer.setDragImage(y.current,0,0),t(w),u.dataTransfer.effectAllowed="move",n(!0);const x=u.target.dataset;x.timestamp&&u.dataTransfer.setData("draggingDate",x.timestamp),x.position&&a(x.position)}),h=re(u=>{const w=en(u);if(!w)return;const x=Ye(w,e,p);g(x)&&t(x)}),m=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="move",t(Ye(u.target,e,p)))}),C=re(u=>{const w=en(u);if(!w)return;const x=Ye(w,e,p);if(x&&t(x),!(w===u.changedTouches[0].target)||!g(x))return;n(!0);const A=u.target.dataset;A.position&&a(A.position)}),S=re(u=>{r&&(u.preventDefault(),u.stopPropagation())}),P=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="move")}),k=re(u=>{if(!r)return;t(null),n(!1);const w=en(u,!0);if(!w)return;w.focus();const x=Ye(w,e,p);x&&o(x)}),R=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),n(!1),t(null))}),d=re(u=>{if(!r||(u.preventDefault(),u.stopPropagation(),n(!1),t(null),u.currentTarget.focus(),Vi(u)))return;const w=Ye(u.target,e,p);w&&o(w)});return{onDragStart:v,onDragEnter:m,onDragLeave:S,onDragOver:P,onDragEnd:R,onDrop:d,onTouchStart:h,onTouchMove:C,onTouchEnd:k}},Bi=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[c,i]=f.useState(!1),[p,y]=f.useState(null),g=re(m=>{t.isEqual(m,p)||y(m)}),v=f.useMemo(()=>{const[m,C]=a;if(p){if(m&&t.isBefore(p,m))return"start";if(C&&t.isAfter(p,C))return"end"}return null},[a,p,t]),h=Wi({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:i,isDragging:c,setRangeDragDay:g,disableDragEditing:e,dateRange:a,timezone:o});return f.useMemo(()=>b({isDragging:c,rangeDragDay:p,draggingDatePosition:v},e?{}:h),[c,p,v,e,h])},Dn=(e,t)=>{const[n,r]=Kr({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=c=>{if((t==null?void 0:t.current)==null)return;const i=t.current.getSections(),p=c==="start"?0:i.length/2;t.current.setSelectedSections(p)},o=re(c=>{var i;r(c),(i=e.onRangePositionChange)==null||i.call(e,c),a(c)});return{rangePosition:n,onRangePositionChange:o}},Ui=40,Ki=["calendars","month","monthIndex","labelId"],Yi=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Xi=ve(ia)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),qi=f.forwardRef(function(t,n){const r=tt(),a=Bt(),{calendars:o,month:c,monthIndex:i,labelId:p}=t,y=ge(t,Ki),{format:g,slots:v,slotProps:h,currentMonth:m,onMonthChange:C,disableFuture:S,disablePast:P,minDate:k,maxDate:R,timezone:d}=y,u=ge(y,Yi),w=sa(m,{disableFuture:S,maxDate:R,timezone:d}),x=la(m,{disablePast:P,minDate:k,timezone:d});if(o===1)return L.jsx(ca,b({},y,{labelId:p,ref:n}));const I=()=>C(r.addMonths(m,1),"left"),O=()=>C(r.addMonths(m,-1),"right");return L.jsx(Xi,b({},u,{ref:n,onGoToPrevious:O,onGoToNext:I,isPreviousHidden:i!==0,isPreviousDisabled:x,previousLabel:a.previousMonth,isNextHidden:i!==o-1,isNextDisabled:w,nextLabel:a.nextMonth,slots:v,slotProps:h,labelId:p,children:r.formatByString(c,g??`${r.formats.month} ${r.formats.year}`)}))}),Gi=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],Qi=["isDragging","rangeDragDay","draggingDatePosition"],Zi=Yt(),Ji=ve("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),es=ve("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),ts=(Ui+ha*2)*6,ns=ve(da)(({theme:e})=>({minWidth:312,minHeight:ts,[`&.${Kn.dayDragging}`]:{[`& .${G.day}`]:{cursor:"grabbing"},[`& .${G.root}:not(.${G.rangeIntervalDayHighlightStart}):not(.${G.rangeIntervalDayHighlightEnd}) .${G.day}:not(.${G.notSelectedDate})`]:{opacity:.6}},[`&:not(.${Kn.dayDragging}) .${G.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function rs(e,t){const n=tt(),r=Qn(),a=ma(),o=Oe({props:e,name:t});return b({},o,{renderLoading:o.renderLoading??(()=>L.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Et(n,o.minDate,r.minDate),maxDate:Et(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const as=e=>{const{classes:t,isDragging:n}=e;return Je({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Ti,t)},os=f.forwardRef(function(t,n){const r=rs(t,"MuiDateRangeCalendar"),a=pn(ua,{defaultMatches:!1}),{value:o,defaultValue:c,referenceDate:i,onChange:p,className:y,disableFuture:g,disablePast:v,minDate:h,maxDate:m,shouldDisableDate:C,reduceAnimations:S,onMonthChange:P,rangePosition:k,defaultRangePosition:R,onRangePositionChange:d,calendars:u,currentMonthCalendarPosition:w=1,slots:x,slotProps:I,loading:O,renderLoading:A,disableHighlightToday:H,readOnly:W,disabled:q,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:z,disableAutoMonthSwitching:U,autoFocus:$,fixedWeekNumber:V,disableDragEditing:te,displayWeekNumber:N,timezone:ue,availableRangePositions:Y,views:pe,view:he,openTo:oe,onViewChange:Re}=r,_=ge(r,Gi),{value:T,handleValueChange:ee,timezone:ae}=Zn({name:"DateRangeCalendar",timezone:ue,value:o,defaultValue:c,onChange:p,valueManager:qe}),{setValueAndGoToNextView:me,view:ie}=pa({view:he,views:pe,openTo:oe,onChange:ee,onViewChange:Re,autoFocus:$}),E=tt(),rt=fa(ae),yt=qn(),{rangePosition:fe,onRangePositionChange:at}=Dn({rangePosition:k,defaultRangePosition:R,onRangePositionChange:d}),Me=re(j=>{fe!==j&&at(j)}),He=re((j,X,xe=!1)=>{const{nextSelection:Pe,newRange:Ke}=un({newDate:j,utils:E,range:T,rangePosition:fe,allowRangeFlip:xe,shouldMergeDateAndTime:!0}),je=Y.includes(Pe);je&&at(Pe);const Fe=fe==="end"&&bt(E,Ke);me(Ke,Fe||!je?"finish":"partial",ie)}),Ve=re(j=>{He(j,void 0,!0)}),Ae=te||q||W,be=f.useMemo(()=>[T[0]==null||!E.isValid(T[0])?T[0]:E.startOfDay(T[0]),T[1]==null||!E.isValid(T[1])?T[1]:E.endOfDay(T[1])],[T,E]),vt=Bi({disableDragEditing:Ae,onDrop:Ve,onDatePositionChange:Me,utils:E,dateRange:be,timezone:ae}),{isDragging:Se,rangeDragDay:D,draggingDatePosition:M}=vt,J=ge(vt,Qi),ne=b({},r,{isDragging:Se}),se=as(ne),De=f.useMemo(()=>{if(!be[0]||!be[1]||!D)return[null,null];const j=un({utils:E,range:be,newDate:D,rangePosition:fe,allowRangeFlip:!0}).newRange;return j[0]!==null&&j[1]!==null?[E.startOfDay(j[0]),E.endOfDay(j[1])]:j},[fe,D,E,be]),Ie=f.useMemo(()=>{if(C)return j=>C(j,M||fe)},[C,fe,M]),{calendarState:Ce,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:We,onMonthSwitchingAnimationEnd:st}=ga({value:T[0]||T[1],referenceDate:i,disableFuture:g,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:m,minDate:h,onMonthChange:P,reduceAnimations:S,shouldDisableDate:Ie,timezone:ae}),Be=(x==null?void 0:x.calendarHeader)??qi,lt=$e({elementType:Be,externalSlotProps:I==null?void 0:I.calendarHeader,additionalProps:{calendars:u,views:["day"],view:"day",currentMonth:Ce.currentMonth,onMonthChange:(j,X)=>We({newMonth:j,direction:X}),minDate:h,maxDate:m,disabled:q,disablePast:v,disableFuture:g,reduceAnimations:S,timezone:ae,slots:x,slotProps:I},ownerState:r}),_e=f.useRef(null);f.useEffect(()=>{var je,Fe;const j=fe==="start"?T[0]:T[1];if(!j||!E.isValid(j))return;const X=fe==="start"?(je=_e.current)==null?void 0:je[0]:(Fe=_e.current)==null?void 0:Fe[1];if(_e.current=T,U&&X&&E.isEqual(X,j))return;const xe=u-1,Pe=E.getMonth(Ce.currentMonth),Ke=E.getMonth(j);if(!E.isSameYear(Ce.currentMonth,j)||Ke<Pe||Ke>Pe+xe){const xt=fe==="start"?j:E.addMonths(j,-xe);it(xt)}},[fe,T]);const Xt={disablePast:v,disableFuture:g,maxDate:m,minDate:h},Rr={disableHighlightToday:H,readOnly:W,disabled:q},[Ir,qt]=f.useState(null),Mr=f.useMemo(()=>({onMouseLeave:()=>qt(null)}),[]),Gt=Ei({utils:E,range:be,newDate:Ir,rangePosition:fe}),Sr=re((j,X)=>{Jt(E,X,be)?qt(null):qt(X)}),Fr=b({day:Hi},x),Tr=b({},I,{day:j=>{const{day:X}=j,xe=It(E,X,be),Pe=ct(E,X,be),je=!Ae&&be[0]&&be[1]&&(xe||Pe);let Fe;xe?Fe="start":Pe&&(Fe="end");const xt=Se?It(E,X,De):xe,Ar=Se?ct(E,X,De):Pe;return b({isPreviewing:a?Jt(E,X,Gt):!1,isStartOfPreviewing:a?It(E,X,Gt):!1,isEndOfPreviewing:a?ct(E,X,Gt):!1,isHighlighting:Jt(E,X,Se?De:be),isStartOfHighlighting:xt,isEndOfHighlighting:Se?ct(E,X,De):Pe,onMouseEnter:a?Sr:void 0,isVisuallySelected:j.selected||Se&&(xt||Ar),"data-position":Fe},J,{draggable:je?!0:void 0},Xe(I==null?void 0:I.day,j)??{})}}),Er=f.useMemo(()=>Array.from({length:u}).map((j,X)=>X),[u]),Ue=f.useMemo(()=>{const j=E.addMonths(Ce.currentMonth,1-w);return Array.from({length:u}).map((X,xe)=>E.addMonths(j,xe))},[E,Ce.currentMonth,u,w]),Or=f.useMemo(()=>$?T[0]!=null?Ue.find(j=>E.isSameMonth(j,T[0])):T[1]!=null?Ue.find(j=>E.isSameMonth(j,T[1])):Ue.find(j=>E.isSameMonth(j,rt))??Ue[0]:null,[E,T,Ue,$,rt]);return L.jsxs(Ji,b({ref:n,className:Ze(y,se.root),ownerState:ne},_,{children:[L.jsx(Fi,{packageName:"x-date-pickers-pro",releaseInfo:Zi}),Er.map(j=>{const X=Ue[j],xe=`${yt}-grid-${j}-label`;return L.jsxs(es,{className:se.monthContainer,children:[L.jsx(Be,b({},lt,{month:X,monthIndex:j,labelId:xe})),L.jsx(ns,b({className:se.dayCalendar},Ce,Xt,Rr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:S,selectedDays:T,onSelectedDaysChange:He,currentMonth:X,TransitionProps:Mr,shouldDisableDate:Ie,showDaysOutsideCurrentMonth:u===1&&B,dayOfWeekFormatter:z,loading:O,renderLoading:A,slots:Fr,slotProps:Tr,autoFocus:X===Or,fixedWeekNumber:V,displayWeekNumber:N,timezone:ae,gridLabelId:xe}))]},j)})]}))}),Dr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:i,minDate:p,maxDate:y,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:m,defaultRangePosition:C,onRangePositionChange:S,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:d,loading:u,renderLoading:w,disableHighlightToday:x,readOnly:I,disabled:O,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:q,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,views:N,view:ue,onViewChange:Y})=>L.jsx(os,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:i,minDate:p,maxDate:y,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:m,defaultRangePosition:C,onRangePositionChange:S,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:d,loading:u,renderLoading:w,disableHighlightToday:x,readOnly:I,disabled:O,showDaysOutsideCurrentMonth:A,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:q,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,view:ue,views:N,onViewChange:Y}),is=["shouldDisableDate"],Lt=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,c=ge(e,is),i=[Fn({adapter:n,value:r,props:b({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"start"))})}),Fn({adapter:n,value:a,props:b({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"end"))})})];return i[0]||i[1]?i:r===null||a===null?[null,null]:bt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},Yn=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),ss=e=>{const t=f.useRef(null),n=Tt(e.unstableEndFieldRef,t),[r,a]=f.useState(e.selectedSections??null),[o,c]=f.useState(null),i=()=>t.current&&t.current.isFieldFocused()?"end":"start",p=re(v=>{var h;a(v),i()==="start"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),y=re(v=>{var h;c(v),i()==="end"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),g=i();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:g==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:p},end:{unstableFieldRef:n,selectedSections:g==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:y}}},ls=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=ba(e),c=ya(),{value:i,defaultValue:p,format:y,formatDensity:g,shouldRespectLeadingZeros:v,onChange:h,disabled:m,readOnly:C,selectedSections:S,onSelectedSectionsChange:P,timezone:k,enableAccessibleFieldDOMStructure:R,autoFocus:d}=o,{value:u,handleValueChange:w,timezone:x}=Zn({name:"useMultiInputDateRangeField",timezone:k,value:i,defaultValue:p,onChange:h,valueManager:qe}),I=$=>(V,te)=>{const N=$===0?[V,u[1]]:[u[0],V],ue=b({},te,{validationError:Lt({adapter:c,value:N,props:b({},o,{timezone:x})})});w(N,ue)},O=re(I(0)),A=re(I(1)),H=va(b({},o,{value:u,timezone:x}),Lt,qe.isSameError,qe.defaultErrorState),W=ss({selectedSections:S,onSelectedSectionsChange:P,unstableStartFieldRef:n,unstableEndFieldRef:a}),q=b({error:!!H[0]},t,W.start,{disabled:m,readOnly:C,format:y,formatDensity:g,shouldRespectLeadingZeros:v,timezone:x,value:i===void 0?void 0:i[0],defaultValue:p===void 0?void 0:p[0],onChange:O,enableAccessibleFieldDOMStructure:R,autoFocus:d}),B=b({error:!!H[1]},r,W.end,{format:y,formatDensity:g,shouldRespectLeadingZeros:v,disabled:m,readOnly:C,timezone:x,value:i===void 0?void 0:i[1],defaultValue:p===void 0?void 0:p[1],onChange:A,enableAccessibleFieldDOMStructure:R}),z=Tn(q),U=Tn(B);return{startDate:Yn(z,["clearable","onClear"]),endDate:Yn(U,["clearable","onClear"])}},cs=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ft("MuiMultiInputDateRangeField",["root","separator"]);const ds=e=>gt("MuiMultiInputDateRangeField",e),us=e=>{const{classes:t}=e;return Je({root:["root"],separator:["separator"]},ds,t)},ps=ve(f.forwardRef((e,t)=>L.jsx(Yr,b({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fs=ve(Ee,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),Cr=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=xa(r),{slots:c,slotProps:i,unstableStartFieldRef:p,unstableEndFieldRef:y,className:g}=o,v=ge(o,cs),h=r,m=us(h),C=(c==null?void 0:c.root)??ps,S=$e({elementType:C,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:h,className:Ze(g,m.root)}),P=(c==null?void 0:c.textField)??(t.enableAccessibleFieldDOMStructure?Da:ye),k=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:b({},h,{position:"start"})}),R=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:b({},h,{position:"end"})}),d=(c==null?void 0:c.separator)??fs,u=$e({elementType:d,externalSlotProps:i==null?void 0:i.separator,additionalProps:{children:` ${a.dateSeparator??"–"} `},ownerState:h,className:m.separator}),w=ls({sharedProps:a,startTextFieldProps:k,endTextFieldProps:R,unstableStartFieldRef:p,unstableEndFieldRef:y}),x=En(w.startDate),I=En(w.endDate);return L.jsxs(C,b({},S,{children:[L.jsx(P,b({fullWidth:!0},x)),L.jsx(d,b({},u)),L.jsx(P,b({fullWidth:!0},I))]}))}),gs=["clearable","onClear"],hs=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:c,rangePosition:i,onRangePositionChange:p,localeText:y,pickerSlotProps:g,pickerSlots:v,fieldProps:h,anchorRef:m,currentView:C,initialView:S,onViewChange:P,startFieldRef:k,endFieldRef:R})=>{const d=Bt(),u=Tt(h.unstableStartFieldRef,k),w=Tt(h.unstableEndFieldRef,R),x=f.useRef(i);f.useEffect(()=>{var V;if(!t)return;const $=i==="start"?k:R;if((V=$.current)==null||V.focusField(),!$.current||!C){x.current=i;return}$.current.setSelectedSections(x.current===i?C:0),x.current=i},[i,t,C,k,R]);const I=$=>{$.stopPropagation(),p("start"),!r&&!o&&n.onOpen($)},O=$=>{$.stopPropagation(),p("end"),!r&&!o&&n.onOpen($)},A=()=>{t&&(p("start"),x.current!=="start"&&S&&(P==null||P(S)))},H=()=>{t&&(p("end"),x.current!=="end"&&S&&(P==null||P(S)))},W=b({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},h.slots),q=b({},h.slotProps,{textField:$=>{const V=Xe(g==null?void 0:g.textField,$);let te,N;return $.position==="start"?(te=b({label:(y==null?void 0:y.start)??d.start,onKeyDown:nn(I),onFocus:A,focused:t?i==="start":void 0},!r&&!h.disabled&&{onClick:I},e==="mobile"&&{readOnly:!0}),m&&(N=b({},V==null?void 0:V.InputProps,{ref:m}))):(te=b({label:(y==null?void 0:y.end)??d.end,onKeyDown:nn(O),onFocus:H,focused:t?i==="end":void 0},!r&&!h.disabled&&{onClick:O},e==="mobile"&&{readOnly:!0}),N=V==null?void 0:V.InputProps),b({},a!=null&&{id:`${a}-${$.position}`},te,Xe(g==null?void 0:g.textField,$),{InputProps:N})},root:$=>b({},{onBlur:c},Xe(g==null?void 0:g.fieldRoot,$)),separator:g==null?void 0:g.fieldSeparator}),B=h,z=ge(B,gs);return b({},z,{unstableStartFieldRef:u,unstableEndFieldRef:w,slots:W,slotProps:q})},ms=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:c,onBlur:i,rangePosition:p,onRangePositionChange:y,startFieldRef:g,endFieldRef:v,pickerSlots:h,pickerSlotProps:m,fieldProps:C,anchorRef:S,currentView:P})=>{const k=Tt(C.unstableFieldRef,g,v);f.useEffect(()=>{var O;if(!(!t||!g.current)&&!g.current.isFieldFocused()&&P){const A=g.current.getSections().map(W=>W.type),H=p==="start"?A.indexOf(P):A.lastIndexOf(P);(O=g.current)==null||O.focusField(H)}},[p,t,P,g]);const R=()=>{var W,q;if(!((W=g.current)!=null&&W.isFieldFocused()))return;const O=g.current.getSections(),A=(q=g.current)==null?void 0:q.getActiveSectionIndex(),H=A==null||A<O.length/2?"start":"end";H!=null&&H!==p&&y(H)},d=re(O=>{var A;setTimeout(R),(A=C.onSelectedSectionsChange)==null||A.call(C,O)}),u=O=>{O.stopPropagation(),!r&&!o&&n.onOpen(O)},w=b({},C.slots,{textField:h==null?void 0:h.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon}),x=b({},C.slotProps,{textField:m==null?void 0:m.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon});return b({},C,{slots:w,slotProps:x,label:c,unstableFieldRef:k,onKeyDown:nn(u,C.onKeyDown),onSelectedSectionsChange:d,onBlur:i,InputProps:b({ref:S},C==null?void 0:C.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!C.disabled&&{onClick:u})},Pr=e=>e.fieldType==="multi-input"?hs(e):ms(e),bs=["props"],ys=Yt(),vs=e=>{let{props:t}=e,n=ge(e,bs);Kt("x-date-pickers-pro",ys);const{slots:r,slotProps:a,className:o,sx:c,format:i,formatDensity:p,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:m,inputRef:C,name:S,readOnly:P,disabled:k,autoFocus:R,disableOpenPicker:d,localeText:u,reduceAnimations:w}=t,x=f.useRef(null),I=f.useRef(null),O=f.useRef(null),A=f.useRef(null),H=f.useRef(null),W=f.useRef(t.openTo??null),q=r.field.fieldType??"multi-input",{rangePosition:B,onRangePositionChange:z}=Dn(t,q==="single-input"?A:void 0),{open:U,actions:$,layoutProps:V,renderCurrentView:te,shouldRestoreFocus:N,fieldProps:ue}=Jn(b({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:B==="start"?A:H,additionalViewProps:{rangePosition:B,onRangePositionChange:z}}));f.useEffect(()=>{V.view&&(W.current=V.view)},[]);const Y=()=>{Ca(()=>{var ee,ae;(ee=x.current)!=null&&ee.contains(On(document))||(ae=O.current)!=null&&ae.contains(On(document))||$.onDismiss()})},pe=r.field,he=$e({elementType:pe,externalSlotProps:a==null?void 0:a.field,additionalProps:b({},ue,{readOnly:P,disabled:k,className:o,sx:c,format:i,formatDensity:p,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:v,timezone:h,autoFocus:R&&!t.open,ref:x},q==="single-input"?{inputRef:C,name:S}:{}),ownerState:t}),oe=Pr({wrapperVariant:"desktop",fieldType:q,open:U,actions:$,readOnly:P,disableOpenPicker:d,label:m,localeText:u,onBlur:Y,rangePosition:B,onRangePositionChange:z,pickerSlotProps:a,pickerSlots:r,fieldProps:he,anchorRef:I,startFieldRef:A,endFieldRef:H,currentView:V.view!==t.openTo?V.view:void 0,initialView:W.current??void 0,onViewChange:V.onViewChange}),Re=b({},a,{tabs:b({},a==null?void 0:a.tabs,{rangePosition:B,onRangePositionChange:z}),toolbar:b({},a==null?void 0:a.toolbar,{rangePosition:B,onRangePositionChange:z})}),_=(r==null?void 0:r.layout)??er;return{renderPicker:()=>L.jsxs(fn,{localeText:u,children:[L.jsx(pe,b({},oe)),L.jsx(Pa,b({role:"tooltip",placement:"bottom-start",containerRef:O,anchorEl:I.current,onBlur:Y},$,{open:U,slots:r,slotProps:a,shouldRestoreFocus:N,reduceAnimations:w,children:L.jsx(_,b({},V,a==null?void 0:a.layout,{slots:r,slotProps:Re,children:te()}))}))]})}},wr=f.forwardRef(function(t,n){var i;const r=br(t,"MuiDesktopDateRangePicker"),a=b({day:Dr},r.viewRenderers),o=b({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:b({field:Cr},r.slots),slotProps:b({},r.slotProps,{field:p=>{var y;return b({},Xe((y=r.slotProps)==null?void 0:y.field,p),tr(r),{ref:n})},toolbar:b({hidden:!0},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:c}=vs({props:o,valueManager:qe,valueType:"date",validator:Lt});return c()});wr.propTypes={autoFocus:l.bool,calendars:l.oneOf([1,2,3]),className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Gn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const xs=["props"],Ds=Yt(),Cs=e=>{var _;let{props:t}=e,n=ge(e,xs);Kt("x-date-pickers-pro",Ds);const{slots:r,slotProps:a,className:o,sx:c,format:i,formatDensity:p,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:m,inputRef:C,name:S,readOnly:P,disabled:k,disableOpenPicker:R,localeText:d}=t,u=f.useRef(null),w=f.useRef(null),x=r.field.fieldType??"multi-input",{rangePosition:I,onRangePositionChange:O}=Dn(t,x==="single-input"?u:void 0),A=qn(),H=Bt(),{open:W,actions:q,layoutProps:B,renderCurrentView:z,fieldProps:U}=Jn(b({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:I==="start"?u:w,additionalViewProps:{rangePosition:I,onRangePositionChange:O}})),$=r.field,V=$e({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:b({},U,{readOnly:P??!0,disabled:k,className:o,sx:c,format:i,formatDensity:p,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:v,timezone:h},x==="single-input"?{inputRef:C,name:S}:{}),ownerState:t}),te=((_=a==null?void 0:a.toolbar)==null?void 0:_.hidden)??!1,N=Pr({wrapperVariant:"mobile",fieldType:x,open:W,actions:q,readOnly:P,labelId:A,disableOpenPicker:R,label:m,localeText:d,rangePosition:I,onRangePositionChange:O,pickerSlots:r,pickerSlotProps:a,fieldProps:V,startFieldRef:u,endFieldRef:w}),ue=b({},a,{tabs:b({},a==null?void 0:a.tabs,{rangePosition:I,onRangePositionChange:O}),toolbar:b({},a==null?void 0:a.toolbar,{titleId:A,rangePosition:I,onRangePositionChange:O})}),Y=(r==null?void 0:r.layout)??er,pe=b({},H,d);let he=n.valueType==="date-time"?`${A}-start-toolbar ${A}-end-toolbar`:A;if(te){const T=[];x==="multi-input"?(pe.start&&T.push(`${A}-start-label`),pe.end&&T.push(`${A}-end-label`)):m!=null&&T.push(`${A}-label`),he=T.length>0?T.join(" "):void 0}const oe=b({},a,{mobilePaper:b({"aria-labelledby":he},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>L.jsxs(fn,{localeText:d,children:[L.jsx($,b({},N)),L.jsx(wa,b({},q,{open:W,slots:r,slotProps:oe,children:L.jsx(Y,b({},B,oe==null?void 0:oe.layout,{slots:r,slotProps:ue,children:z()}))}))]})}},kr=f.forwardRef(function(t,n){var i;const r=br(t,"MuiMobileDateRangePicker"),a=b({day:Dr},r.viewRenderers),o=b({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:b({field:Cr},r.slots),slotProps:b({},r.slotProps,{field:p=>{var y;return b({},Xe((y=r.slotProps)==null?void 0:y.field,p),tr(r),{ref:n})},toolbar:b({hidden:!1},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:c}=Cs({props:o,valueManager:qe,valueType:"date",validator:Lt});return c()});kr.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Gn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const Ps=["desktopModeMediaQuery"],ws=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=ge(r,Ps);return pn(a,{defaultMatches:!0})?L.jsx(wr,b({ref:n},o)):L.jsx(kr,b({ref:n},o))});Sa.extend(ka);const ks=Ft.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:c})=>{const i=et(),[p,y]=f.useState([]),[g,v]=f.useState(!1),[h,m]=f.useState(0),[C,S]=f.useState(0),[P,k]=f.useState([]),[R,d]=f.useState(),[u,w]=f.useState(null),[x,I]=f.useState(null),[O,A]=f.useState(""),H=pn(i.breakpoints.down("md")),[W,q]=f.useState(30),[B,z]=f.useState(1),U=async(_,T,ee)=>{var ae,me;try{const ie=await Xn.get(route("dailyWorks.paginate"),{params:{page:_,perPage:T,search:O,status:ee.status!=="all"?ee.status:"",inCharge:ee.incharge!=="all"?ee.incharge:"",startDate:(ae=ee.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=ee.endDate)==null?void 0:me.format("YYYY-MM-DD")}});y(ie.data.data),m(ie.data.total),S(ie.data.last_page),v(!1)}catch(ie){console.log(ie),Te.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}),v(!1)}},$=()=>{const _=new Promise(async(T,ee)=>{var ae,me;try{const ie=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:u,page:B,perPage:W,search:O,status:Y.status!=="all"?Y.status:"",inCharge:Y.incharge!=="all"?Y.incharge:"",startDate:(ae=Y.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=Y.endDate)==null?void 0:me.format("YYYY-MM-DD")})}),E=await ie.json();ie.ok?(y(E.data),m(E.total),T("Daily work deleted successfully")):ee(E.error||"Failed to delete task")}catch(ie){console.error("Error deleting task:",ie),ee("An error occurred while deleting the task")}finally{te()}});Te.promise(_,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:T}){return s(le,{children:T})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:T}){return s(le,{children:T})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}})},V=f.useCallback((_,T)=>{w(_),I(T)},[]),te=f.useCallback(()=>{I(null),w(null)},[]),N=f.useCallback(_=>{I(_)},[]),ue=f.useCallback(()=>{I(null)},[]),[Y,pe]=f.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),he=f.useCallback((_,T)=>{if(_==="dates"){const[ee,ae]=T;pe(me=>({...me,startDate:ee,endDate:ae}))}else pe(ee=>({...ee,[_]:T}))},[]),oe=_=>{const T=_.target.value.toLowerCase();A(T)};f.useEffect(()=>{v(!0),U(B,W,Y)},[B,W,Y,O]);const Re=_=>{z(_)};return F(le,{children:[s(jr,{title:t}),x==="editDailyWork"&&s(io,{open:x==="editDailyWork",currentRow:R,setData:y,closeModal:ue}),x==="deleteDailyWork"&&s(so,{open:x==="deleteDailyWork",handleClose:te,handleDelete:$,setData:y}),x==="importDailyWorks"&&s(ri,{open:x==="importDailyWorks",closeModal:ue,setData:y,setTotalRows:m}),x==="exportDailyWorks"&&s(lo,{open:x==="exportDailyWorks",closeModal:ue,data:p,users:a}),s(ce,{sx:{display:"flex",justifyContent:"center",p:2},children:s(Xr,{in:!0,children:F(Lr,{children:[s(qr,{title:t,sx:{padding:"24px"},action:F(ce,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&s(ke,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:s(Ra,{})}),e.roles.includes("Administrator")&&s(le,{children:H?F(le,{children:[s(ke,{title:"Import Daily Works",color:"warning",onClick:()=>N("importDailyWorks"),children:s(an,{})}),s(ke,{title:"Export Daily Works",color:"success",onClick:()=>N("exportDailyWorks"),children:s(rn,{})})]}):F(le,{children:[s(dt,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:s(an,{}),onClick:()=>N("importDailyWorks"),children:"Import"}),s(dt,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:s(rn,{}),onClick:()=>N("exportDailyWorks"),children:"Export"})]})})]})}),s(Rn,{children:s(ce,{children:F(de,{container:!0,spacing:2,children:[s(de,{item:!0,xs:12,sm:6,md:3,children:s(fn,{dateAdapter:Ia,children:s(ce,{display:"flex",alignItems:"center",children:s(ws,{value:[Y.startDate,Y.endDate],onChange:_=>he("dates",_),localeText:{start:"Start date",end:"End date"},renderInput:(_,T)=>F(le,{children:[s(ye,{..._,fullWidth:!0,size:"small"}),s(ce,{sx:{mx:1},children:" to "}),s(ye,{...T,fullWidth:!0,size:"small"})]})})})})}),s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"status-label",children:"Status"}),F(ze,{variant:"outlined",labelId:"status-label",label:"Status",name:"status",value:Y.status,onChange:_=>he("status",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(Z,{value:"all",children:"All"}),s(Z,{value:"completed",children:"Completed"}),s(Z,{value:"new",children:"New"}),s(Z,{value:"resubmission",children:"Resubmission"}),s(Z,{value:"emergency",children:"Emergency"})]})]})}),e.roles.includes("Administrator")&&s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"incharge-label",children:"Incharge"}),F(ze,{variant:"outlined",labelId:"incharge-label",label:"Incharge",name:"incharge",value:Y.incharge,onChange:_=>he("incharge",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(Z,{value:"all",children:"All"}),n.allInCharges.map(_=>s(Z,{value:_.id,children:_.name},_.id))]})]})}),s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"report-label",children:"Report"}),s(ze,{variant:"outlined",labelId:"report-label",label:"Report",name:"report",value:Y.report,onChange:_=>he("report",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:s(Z,{value:"",disabled:!0,children:"Select Report"})})]})})]})})}),F(Rn,{children:[s(ye,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:O,onChange:oe,InputProps:{startAdornment:s(Gr,{position:"start",children:s(Ta,{})})}}),s(oo,{setData:y,filteredData:P,setFilteredData:k,reports:o,setCurrentRow:d,currentPage:B,setCurrentPage:z,setLoading:v,handleClickOpen:V,openModal:N,juniors:n.juniors,totalRows:h,lastPage:C,loading:g,allData:p,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:c}),h>=30&&s("div",{className:"py-2 px-2 flex justify-center items-center",children:s(Ea,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:B,total:C,onChange:Re})})]})]})})})]})});ks.layout=e=>s(Jr,{children:e});export{ks as default};
