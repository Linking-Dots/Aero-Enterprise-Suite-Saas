import{r as g,j as n,b as c,f as Q,F as $,e as Be,c as je,a as _e,J as Ve,Q as Ge}from"./app-vxJEuD-Q.js";import{u as te,F as Qe,T as P,B as _,G as $e}from"./logo-g9YP4PG9.js";import{P as Xe}from"./PageHeader-BeJuacUS.js";import{S as ze}from"./StatsCards-9Uz3XXED.js";import{u as he,a as ce,v as Je,w as Ue,x as se,y as Ke,c as q,F as de,h as Ze,I as et,k as O,l as tt,C as rt,O as me,P as fe,B as K,b as ge,G as at,f as nt,A as it}from"./App-BT8BxCJ3.js";import{F as j}from"./CheckCircleIcon-BV__7fPs.js";import{F as ot}from"./EllipsisVerticalIcon-DgccSi4E.js";import{F as st}from"./EyeIcon-_VFr6JC2.js";import{F as lt}from"./PencilIcon--2aHcfc6.js";import{F as ct}from"./TrashIcon-uQ6a2ypJ.js";import{F as dt}from"./AdjustmentsHorizontalIcon-B8D11j4z.js";import{i as ut}from"./chunk-6MDMHKHV-D9rXeZJI.js";import{b as ht}from"./chunk-57V4RE7B-CkhO8dxh.js";import{s as J,l as E}from"./chunk-2GIFKCNQ-CFraMr1A.js";import{p as mt}from"./chunk-O5I3QTYU-CIGLpq7d.js";import{a as ft,b as gt,c as bt,d as yt,e as pt,t as wt}from"./chunk-F3UDT23P-mOqhZ_sY.js";import{C as xt}from"./Clear-G6H8M5bx.js";import{G as Se}from"./GlassDialog-emp7_90C.js";import{D as Fe}from"./DialogTitle-BlXR1-7a.js";import{T as U,I as vt}from"./TextField-BU0hxfg8.js";import{S as kt,M as Dt}from"./Select-DowLc5Dk.js";import{F as Ct}from"./InformationCircleIcon-MBshrEH8.js";import{D as Ne,a as Oe}from"./DialogContent-B87ZKfwG.js";import{L as Mt}from"./LoadingButton-Dr6VK0mT.js";import{D as Pt}from"./DialogContentText-B4N7JZUV.js";import{B as be}from"./Button-BPfGwbjN.js";import{C as _t}from"./CircularProgress-Dh0N64S7.js";import{F as St}from"./ChartBarIcon-D199JcIs.js";import{F as Ft}from"./PlusIcon-C4bbiGhJ.js";import"./app-CX8GSXRI.js";import"./create-visual-element-BaeSogmb.js";import"./chunk-D5XJWRAV-D2I4RFfZ.js";import"./EnvelopeIcon-0Ed3Ojh4.js";import"./UserIcon-Cwmcvl4r.js";import"./ShieldCheckIcon-B4rgpKpm.js";import"./chunk-7F3ZLNJ6-C__I5l7e.js";import"./index-CokAva9Y.js";import"./chunk-MZRCPRP2-CFlyd_ao.js";import"./useHasTabbableChild-DmypSWSf.js";import"./Dialog-D_Q59pOx.js";import"./Popover-BocvnZh2.js";function Nt({title:t,titleId:e,...r},a){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?g.createElement("title",{id:e},t):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ye=g.forwardRef(Nt),We=6048e5,Ot=864e5,pe=Symbol.for("constructDateFrom");function I(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&pe in t?t[pe](e):t instanceof Date?new t.constructor(e):new Date(e)}function F(t,e){return I(e||t,t)}let Wt={};function re(){return Wt}function X(t,e){var d,u,m,b;const r=re(),a=(e==null?void 0:e.weekStartsOn)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((b=(m=r.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,i=F(t,e==null?void 0:e.in),l=i.getDay(),o=(l<a?7:0)+l-a;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Z(t,e){return X(t,{...e,weekStartsOn:1})}function Te(t,e){const r=F(t,e==null?void 0:e.in),a=r.getFullYear(),i=I(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Z(i),o=I(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const d=Z(o);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function we(t){const e=F(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ye(t,...e){const r=I.bind(null,e.find(a=>typeof a=="object"));return e.map(r)}function xe(t,e){const r=F(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function He(t,e,r){const[a,i]=Ye(r==null?void 0:r.in,t,e),l=xe(a),o=xe(i),d=+l-we(l),u=+o-we(o);return Math.round((d-u)/Ot)}function Tt(t,e){const r=Te(t,e),a=I(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Z(a)}function Yt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ht(t){return!(!Yt(t)&&typeof t!="number"||isNaN(+F(t)))}function ue(t,e,r){const[a,i]=Ye(r==null?void 0:r.in,t,e),l=ve(a,i),o=Math.abs(He(a,i));a.setDate(a.getDate()-l*o);const d=+(ve(a,i)===-l),u=l*(o-d);return u===0?0:u}function ve(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Et(t,e){const r=F(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const At={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rt=(t,e,r)=>{let a;const i=At[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function le(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const It={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bt={date:le({formats:It,defaultWidth:"full"}),time:le({formats:Lt,defaultWidth:"full"}),dateTime:le({formats:qt,defaultWidth:"full"})},jt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vt=(t,e,r,a)=>jt[t];function V(t){return(e,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,d=r!=null&&r.width?String(r.width):o;i=t.formattingValues[d]||t.formattingValues[o]}else{const o=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[o]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const Gt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ut=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kt={ordinalNumber:Ut,era:V({values:Gt,defaultWidth:"wide"}),quarter:V({values:Qt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:V({values:$t,defaultWidth:"wide"}),day:V({values:Xt,defaultWidth:"wide"}),dayPeriod:V({values:zt,defaultWidth:"wide",formattingValues:Jt,defaultFormattingWidth:"wide"})};function G(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const o=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(d)?er(d,f=>f.test(o)):Zt(d,f=>f.test(o));let m;m=t.valueCallback?t.valueCallback(u):u,m=r.valueCallback?r.valueCallback(m):m;const b=e.slice(o.length);return{value:m,rest:b}}}function Zt(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function er(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function tr(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let o=t.valueCallback?t.valueCallback(l[0]):l[0];o=r.valueCallback?r.valueCallback(o):o;const d=e.slice(i.length);return{value:o,rest:d}}}const rr=/^(\d+)(th|st|nd|rd)?/i,ar=/\d+/i,nr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ir={any:[/^b/i,/^(a|c)/i]},or={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sr={any:[/1/i,/2/i,/3/i,/4/i]},lr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ur={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hr={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fr={ordinalNumber:tr({matchPattern:rr,parsePattern:ar,valueCallback:t=>parseInt(t,10)}),era:G({matchPatterns:nr,defaultMatchWidth:"wide",parsePatterns:ir,defaultParseWidth:"any"}),quarter:G({matchPatterns:or,defaultMatchWidth:"wide",parsePatterns:sr,defaultParseWidth:"any",valueCallback:t=>t+1}),month:G({matchPatterns:lr,defaultMatchWidth:"wide",parsePatterns:cr,defaultParseWidth:"any"}),day:G({matchPatterns:dr,defaultMatchWidth:"wide",parsePatterns:ur,defaultParseWidth:"any"}),dayPeriod:G({matchPatterns:hr,defaultMatchWidth:"any",parsePatterns:mr,defaultParseWidth:"any"})},gr={code:"en-US",formatDistance:Rt,formatLong:Bt,formatRelative:Vt,localize:Kt,match:fr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function br(t,e){const r=F(t,e==null?void 0:e.in);return He(r,Et(r))+1}function yr(t,e){const r=F(t,e==null?void 0:e.in),a=+Z(r)-+Tt(r);return Math.round(a/We)+1}function Ee(t,e){var b,f,S,v;const r=F(t,e==null?void 0:e.in),a=r.getFullYear(),i=re(),l=(e==null?void 0:e.firstWeekContainsDate)??((f=(b=e==null?void 0:e.locale)==null?void 0:b.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(S=i.locale)==null?void 0:S.options)==null?void 0:v.firstWeekContainsDate)??1,o=I((e==null?void 0:e.in)||t,0);o.setFullYear(a+1,0,l),o.setHours(0,0,0,0);const d=X(o,e),u=I((e==null?void 0:e.in)||t,0);u.setFullYear(a,0,l),u.setHours(0,0,0,0);const m=X(u,e);return+r>=+d?a+1:+r>=+m?a:a-1}function pr(t,e){var d,u,m,b;const r=re(),a=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(m=r.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,i=Ee(t,e),l=I((e==null?void 0:e.in)||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),X(l,e)}function wr(t,e){const r=F(t,e==null?void 0:e.in),a=+X(r,e)-+pr(r,e);return Math.round(a/We)+1}function w(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const R={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return w(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):w(r+1,2)},d(t,e){return w(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return w(t.getHours()%12||12,e.length)},H(t,e){return w(t.getHours(),e.length)},m(t,e){return w(t.getMinutes(),e.length)},s(t,e){return w(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return w(i,e.length)}},B={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ke={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return R.y(t,e)},Y:function(t,e,r,a){const i=Ee(t,a),l=i>0?i:1-i;if(e==="YY"){const o=l%100;return w(o,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):w(l,e.length)},R:function(t,e){const r=Te(t);return w(r,e.length)},u:function(t,e){const r=t.getFullYear();return w(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return w(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return w(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return R.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return w(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=wr(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):w(i,e.length)},I:function(t,e,r){const a=yr(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):w(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):R.d(t,e)},D:function(t,e,r){const a=br(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):w(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return w(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return w(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return w(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=B.noon:a===0?i=B.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=B.evening:a>=12?i=B.afternoon:a>=4?i=B.morning:i=B.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return R.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):R.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):R.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):R.s(t,e)},S:function(t,e){return R.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return Ce(a);case"XXXX":case"XX":return L(a);case"XXXXX":case"XXX":default:return L(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return Ce(a);case"xxxx":case"xx":return L(a);case"xxxxx":case"xxx":default:return L(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+De(a,":");case"OOOO":default:return"GMT"+L(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+De(a,":");case"zzzz":default:return"GMT"+L(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return w(a,e.length)},T:function(t,e,r){return w(+t,e.length)}};function De(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+w(l,2)}function Ce(t,e){return t%60===0?(t>0?"-":"+")+w(Math.abs(t)/60,2):L(t,e)}function L(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=w(Math.trunc(a/60),2),l=w(a%60,2);return r+i+e+l}const Me=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ae=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xr=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return Me(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Me(a,e)).replace("{{time}}",Ae(i,e))},vr={p:Ae,P:xr},kr=/^D+$/,Dr=/^Y+$/,Cr=["D","DD","YY","YYYY"];function Mr(t){return kr.test(t)}function Pr(t){return Dr.test(t)}function _r(t,e,r){const a=Sr(t,e,r);if(console.warn(a),Cr.includes(t))throw new RangeError(a)}function Sr(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Or=/^'([^]*?)'?$/,Wr=/''/g,Tr=/[a-zA-Z]/;function ee(t,e,r){var b,f,S,v;const a=re(),i=a.locale??gr,l=a.firstWeekContainsDate??((f=(b=a.locale)==null?void 0:b.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((v=(S=a.locale)==null?void 0:S.options)==null?void 0:v.weekStartsOn)??0,d=F(t,r==null?void 0:r.in);if(!Ht(d))throw new RangeError("Invalid time value");let u=e.match(Nr).map(x=>{const k=x[0];if(k==="p"||k==="P"){const N=vr[k];return N(x,i.formatLong)}return x}).join("").match(Fr).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const k=x[0];if(k==="'")return{isToken:!1,value:Yr(x)};if(ke[k])return{isToken:!0,value:x};if(k.match(Tr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(u=i.localize.preprocessor(d,u));const m={firstWeekContainsDate:l,weekStartsOn:o,locale:i};return u.map(x=>{if(!x.isToken)return x.value;const k=x.value;(Pr(k)||Mr(k))&&_r(k,e,String(t));const N=ke[k[0]];return N(d,k,i.localize,m)}).join("")}function Yr(t){const e=t.match(Or);return e?e[1].replace(Wr,"'"):t}function Hr(t,e){return+F(t)>+F(e)}function Er(t,e){return+F(t)<+F(e)}const Ar=({holidaysData:t,onEdit:e,onDelete:r,onFilteredDataChange:a,isLoading:i=!1})=>{const l=te(),o=he(l.breakpoints.down("sm")),[d,u]=g.useState(""),[m,b]=g.useState([]),[f,S]=g.useState([]),[v,x]=g.useState([new Date().getFullYear().toString()]),[k,N]=g.useState(1),[h,W]=g.useState(10),[p,T]=g.useState(!1),M={public:{label:"Public",color:"danger",icon:"🏛️"},religious:{label:"Religious",color:"secondary",icon:"🕌"},national:{label:"National",color:"primary",icon:"🇧🇩"},company:{label:"Company",color:"warning",icon:"🏢"},optional:{label:"Optional",color:"default",icon:"📅"}},Y=g.useCallback(s=>{const y=new Date,D=new Date(s.from_date),A=new Date(s.to_date);return Er(y,D)?{status:"upcoming",label:"Upcoming",color:"primary",icon:ce}:Hr(y,A)?{status:"past",label:"Past",color:"default",icon:j}:{status:"ongoing",label:"Ongoing",color:"success",icon:j}},[]),C=g.useMemo(()=>{let s=t;return d&&(s=s.filter(y=>{var D,A;return((D=y.title)==null?void 0:D.toLowerCase().includes(d.toLowerCase()))||((A=y.description)==null?void 0:A.toLowerCase().includes(d.toLowerCase()))})),Array.isArray(m)&&m.length>0&&(s=s.filter(y=>m.includes(y.type))),Array.isArray(f)&&f.length>0&&(s=s.filter(y=>{const D=Y(y);return f.includes(D.status)})),Array.isArray(v)&&v.length>0&&(s=s.filter(y=>{const D=new Date(y.from_date).getFullYear().toString();return v.includes(D)})),s},[t,d,m,f,v,Y]);g.useEffect(()=>{a&&a(C)},[C,a]);const H=Math.ceil(C.length/h),ae=g.useMemo(()=>{const s=(k-1)*h,y=s+h;return C.slice(s,y)},[k,C,h]),ne=[{name:"Holiday",uid:"title",sortable:!0},{name:"Duration",uid:"duration",sortable:!0},{name:"Type",uid:"type",sortable:!0},{name:"Status",uid:"status",sortable:!0},{name:"Actions",uid:"actions"}],Re=g.useCallback((s,y)=>{const D=s[y];switch(y){case"title":const A=ue(new Date(s.to_date),new Date(s.from_date))+1;return c("div",{className:"flex flex-col",children:[n("p",{className:"text-bold text-sm capitalize text-foreground",children:s.title}),c("div",{className:"flex items-center gap-2 text-tiny text-default-400",children:[n(de,{className:"w-3 h-3"}),c("span",{children:[ee(new Date(s.from_date),"MMM dd, yyyy"),A>1&&c($,{children:[" - ",ee(new Date(s.to_date),"MMM dd, yyyy")]})]})]}),s.description&&n("p",{className:"text-tiny text-default-500 mt-1 line-clamp-2",children:s.description})]});case"duration":const z=ue(new Date(s.to_date),new Date(s.from_date))+1;return n("div",{className:"flex flex-col items-center",children:c("span",{className:"text-bold text-sm text-foreground",children:[z," ",z===1?"day":"days"]})});case"type":const ie=M[s.type]||M.company;return n(q,{className:"capitalize",color:ie.color,size:"sm",variant:"flat",startContent:n("span",{className:"text-xs",children:ie.icon}),children:ie.label});case"status":const oe=Y(s),qe=oe.icon;return n(q,{className:"capitalize",color:oe.color,size:"sm",variant:"flat",startContent:n(qe,{className:"w-3 h-3"}),children:oe.label});case"actions":return n("div",{className:"relative flex justify-end items-center gap-2",children:c(Ke,{children:[n(Je,{children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",children:n(ot,{className:"w-4 h-4"})})}),c(Ue,{children:[n(se,{startContent:n(st,{className:"w-4 h-4"}),children:"View Details"},"view"),n(se,{startContent:n(lt,{className:"w-4 h-4"}),onPress:()=>e(s),children:"Edit Holiday"},"edit"),n(se,{className:"text-danger",color:"danger",startContent:n(ct,{className:"w-4 h-4"}),onPress:()=>r(s.id),children:"Delete Holiday"},"delete")]})]})});default:return D}},[Y,e,r]),Ie=g.useMemo(()=>c("div",{className:"flex flex-col gap-4",children:[c("div",{className:"flex flex-col sm:flex-row gap-4",children:[n("div",{className:"flex-1",children:n(ut,{isClearable:!0,label:"Search Holidays",variant:"bordered",placeholder:"Search by title or description...",startContent:n(Ze,{className:"w-4 h-4"}),value:d,onClear:()=>u(""),onValueChange:u,classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:o?"sm":"md"})}),n("div",{className:"flex gap-2 items-end",children:n(ht,{variant:"bordered",className:"bg-white/5",children:c(Q,{isIconOnly:o,color:p?"primary":"default",onPress:()=>T(!p),className:p?"bg-purple-500/20":"bg-white/5",children:[n(dt,{className:"w-4 h-4"}),!o&&n("span",{className:"ml-1",children:"Filters"})]})})})]}),p&&n(Qe,{in:!0,timeout:300,children:c("div",{className:"p-4 bg-white/5 backdrop-blur-md rounded-lg border border-white/10",children:[c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n(J,{label:"Holiday Type",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(m),onSelectionChange:s=>b(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:Object.entries(M).map(([s,y])=>n(E,{value:s,textValue:y.label,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:y.icon}),n("span",{children:y.label})]})},s))}),c(J,{label:"Holiday Status",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(f),onSelectionChange:s=>S(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:[n(E,{value:"upcoming",textValue:"Upcoming",children:c("div",{className:"flex items-center gap-2",children:[n(ce,{className:"w-3 h-3"}),n("span",{children:"Upcoming"})]})},"upcoming"),n(E,{value:"ongoing",textValue:"Ongoing",children:c("div",{className:"flex items-center gap-2",children:[n(j,{className:"w-3 h-3"}),n("span",{children:"Ongoing"})]})},"ongoing"),n(E,{value:"past",textValue:"Past",children:c("div",{className:"flex items-center gap-2",children:[n(j,{className:"w-3 h-3"}),n("span",{children:"Past"})]})},"past")]}),n(J,{label:"Year",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(v),onSelectionChange:s=>x(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:Array.from({length:new Date().getFullYear()-2019+3},(s,y)=>{const D=(2020+y).toString();return n(E,{value:D,textValue:D,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:"📅"}),n("span",{children:D})]})},D)})})]}),n("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:c(J,{label:"Rows per page",variant:"bordered",selectedKeys:new Set([h.toString()]),onSelectionChange:s=>W(Number(Array.from(s)[0])),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:[n(E,{value:"5",textValue:"5",children:"5"},"5"),n(E,{value:"10",textValue:"10",children:"10"},"10"),n(E,{value:"15",textValue:"15",children:"15"},"15"),n(E,{value:"25",textValue:"25",children:"25"},"25")]})}),(d||Array.isArray(m)&&m.length>0||Array.isArray(f)&&f.length>0||Array.isArray(v)&&v.length>0)&&n("div",{className:"mt-4 pt-4 border-t border-white/10",children:c("div",{className:"flex flex-wrap gap-2",children:[d&&c(q,{size:"sm",variant:"flat",color:"primary",onClose:()=>u(""),children:["Search: ",d]}),Array.isArray(m)&&m.map(s=>{var y,D;return c(q,{size:"sm",variant:"flat",color:"secondary",onClose:()=>b(A=>A.filter(z=>z!==s)),children:[(y=M[s])==null?void 0:y.icon," ",(D=M[s])==null?void 0:D.label]},s)}),Array.isArray(f)&&f.map(s=>c(q,{size:"sm",variant:"flat",color:"warning",onClose:()=>S(y=>y.filter(D=>D!==s)),children:[s==="upcoming"&&"🕐",s==="ongoing"&&"✅",s==="past"&&"📋",s.charAt(0).toUpperCase()+s.slice(1)]},s)),Array.isArray(v)&&v.map(s=>c(q,{size:"sm",variant:"flat",color:"secondary",onClose:()=>x(y=>y.filter(D=>D!==s)),children:["📅 ",s]},s))]})})]})}),n("div",{className:"flex justify-between items-center",children:c("span",{className:"text-default-400 text-small",children:["Total ",C.length," holidays",Array.isArray(m)&&m.length>0||Array.isArray(f)&&f.length>0||d?` (filtered from ${t.length})`:""]})})]}),[d,m,f,C.length,t.length,h,p,o]),Le=g.useMemo(()=>c("div",{className:"py-2 px-2 flex justify-between items-center",children:[n("span",{className:"w-[30%] text-small text-default-400",children:`${(k-1)*h+1}-${Math.min(k*h,C.length)} of ${C.length}`}),n(mt,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:k,total:H,onChange:N}),c("div",{className:"hidden sm:flex w-[30%] justify-end gap-2",children:[n(Q,{isDisabled:H===1,size:"sm",variant:"flat",onPress:()=>N(1),children:"First"}),n(Q,{isDisabled:H===1,size:"sm",variant:"flat",onPress:()=>N(H),children:"Last"})]})]}),[k,H,C.length,h]);return t.length===0?n(je,{className:"bg-white/5 backdrop-blur-md border-white/10",children:c(Be,{className:"text-center py-12",children:[n(de,{className:"w-16 h-16 mx-auto mb-4 text-default-300"}),n(P,{variant:"h6",className:"mb-2",children:"No Holidays Found"}),n(P,{variant:"body2",color:"textSecondary",children:"No company holidays have been configured yet."})]})}):n("div",{className:"space-y-4",children:c(wt,{"aria-label":"Holiday management table",isHeaderSticky:!0,bottomContent:Le,bottomContentPlacement:"outside",classNames:{wrapper:"max-h-[382px] bg-white/5 backdrop-blur-md border-white/10"},selectedKeys:[],selectionMode:"none",sortDescriptor:{},topContent:Ie,topContentPlacement:"outside",children:[n(ft,{columns:ne,children:s=>n(gt,{align:s.uid==="actions"?"center":"start",allowsSorting:s.sortable,children:s.name},s.uid)}),n(bt,{emptyContent:"No holidays found",items:ae,isLoading:i,loadingContent:n("div",{children:"Loading holidays..."}),children:s=>n(yt,{children:y=>n(pt,{children:Re(s,y)})},s.id)})]})})},Pe=({open:t,closeModal:e,holidaysData:r,setHolidaysData:a,currentHoliday:i})=>{const l=te();he(l.breakpoints.down("sm"));const[o,d]=g.useState({title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),[u,m]=g.useState({}),[b,f]=g.useState(!1),S=[{key:"public",label:"Public Holiday",icon:"🏛️",description:"Government declared public holiday"},{key:"religious",label:"Religious Holiday",icon:"🕌",description:"Religious observance"},{key:"national",label:"National Holiday",icon:"🇧🇩",description:"National celebration or commemoration"},{key:"company",label:"Company Holiday",icon:"🏢",description:"Company-specific holiday"},{key:"optional",label:"Optional Holiday",icon:"📅",description:"Optional observance"}];g.useEffect(()=>{d(i?{title:i.title||"",description:i.description||"",from_date:i.from_date||"",to_date:i.to_date||"",type:i.type||"company",is_recurring:i.is_recurring||!1,is_active:i.is_active!==void 0?i.is_active:!0}:{title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),m({})},[i,t]);const v=g.useMemo(()=>{if(o.from_date&&o.to_date){const h=new Date(o.from_date),W=new Date(o.to_date);return ue(W,h)+1}return 1},[o.from_date,o.to_date]),x=(h,W)=>{d(p=>({...p,[h]:W})),u[h]&&m(p=>({...p,[h]:void 0})),h==="from_date"&&!o.to_date&&d(p=>({...p,to_date:W}))},k=async h=>{var W,p,T;h.preventDefault(),f(!0),m({});try{const M={title:o.title,description:o.description,fromDate:o.from_date,toDate:o.to_date,type:o.type,is_recurring:o.is_recurring,is_active:o.is_active};i&&(M.id=i.id);const Y=await _e.post(route("holidays-add"),M);Y.status===200&&(a(Y.data.holidays),K.success(Y.data.message||"Holiday saved successfully!"),e())}catch(M){((W=M.response)==null?void 0:W.status)===422?(m(M.response.data.errors||{}),K.error("Please check the form for errors")):K.error(((T=(p=M.response)==null?void 0:p.data)==null?void 0:T.message)||"Failed to save holiday")}finally{f(!1)}},N=S.find(h=>h.key===o.type);return c(Se,{open:t,onClose:e,fullWidth:!0,maxWidth:"md",children:[c(Fe,{sx:{display:"flex",alignItems:"center"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(de,{className:"w-6 h-6 text-primary"}),n(P,{variant:"h6",children:i?"Edit Holiday":"Add New Holiday"})]}),n(et,{onClick:e,sx:{position:"absolute",top:8,right:16},children:n(xt,{})})]}),c("form",{onSubmit:k,children:[n(Ne,{sx:{maxHeight:"70vh",overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"rgba(255,255,255,0.1)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:"rgba(255,255,255,0.3)",borderRadius:"3px","&:hover":{background:"rgba(255,255,255,0.5)"}}},children:c(O,{container:!0,spacing:3,children:[n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Basic Information"})}),n(O,{item:!0,xs:12,children:n(U,{label:"Holiday Title",placeholder:"Enter holiday name",fullWidth:!0,value:o.title,onChange:h=>x("title",h.target.value),error:!!u.title,helperText:u.title,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,children:n(U,{label:"Description",placeholder:"Optional description or notes",fullWidth:!0,multiline:!0,rows:3,value:o.description,onChange:h=>x("description",h.target.value),error:!!u.description,helperText:u.description,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Holiday Type"})}),n(O,{item:!0,xs:12,md:6,children:c(tt,{fullWidth:!0,children:[n(vt,{children:"Type"}),n(kt,{value:o.type,onChange:h=>x("type",h.target.value),label:"Type",error:!!u.type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:l.glassCard.background,border:l.glassCard.border,borderRadius:2,boxShadow:l.glassCard.boxShadow}}},children:S.map(h=>n(Dt,{value:h.key,children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n("span",{children:h.icon}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:h.label}),n(P,{variant:"caption",color:"text.secondary",children:h.description})]})]})},h.key))}),u.type&&n(P,{variant:"caption",color:"error",sx:{mt:.5},children:u.type})]})}),N&&n(O,{item:!0,xs:12,md:6,children:n(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)"},children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n("span",{style:{fontSize:"1.5rem"},children:N.icon}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:N.label}),n(P,{variant:"caption",color:"text.secondary",children:N.description})]})]})})}),n(O,{item:!0,xs:12,children:c(_,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[n(P,{variant:"subtitle1",sx:{fontWeight:600},children:"Date Range"}),v>1&&n(rt,{label:`${v} days`,size:"small",color:"primary",variant:"outlined"})]})}),n(O,{item:!0,xs:12,md:6,children:n(U,{type:"date",label:"From Date",fullWidth:!0,value:o.from_date,onChange:h=>x("from_date",h.target.value),error:!!u.fromDate,helperText:u.fromDate,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,md:6,children:n(U,{type:"date",label:"To Date",fullWidth:!0,value:o.to_date,onChange:h=>x("to_date",h.target.value),error:!!u.toDate,helperText:u.toDate,InputLabelProps:{shrink:!0}})}),o.from_date&&o.to_date&&n(O,{item:!0,xs:12,children:n(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)"},children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(Ct,{className:"w-4 h-4 text-primary"}),c(P,{variant:"body2",children:["Holiday period: ",ee(new Date(o.from_date),"MMM dd, yyyy"),v>1&&c($,{children:[" to ",ee(new Date(o.to_date),"MMM dd, yyyy")]})," (",v," ",v===1?"day":"days",")"]})]})})}),n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Settings"})}),n(O,{item:!0,xs:12,md:6,children:c(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(ce,{className:"w-5 h-5 text-default-400"}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:"Recurring Holiday"}),n(P,{variant:"caption",color:"text.secondary",children:"Repeat this holiday annually"})]})]}),n(me,{control:n(fe,{checked:o.is_recurring,onChange:h=>x("is_recurring",h.target.checked),color:"primary"}),label:""})]})}),n(O,{item:!0,xs:12,md:6,children:c(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(ye,{className:"w-5 h-5 text-default-400"}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:"Active Holiday"}),n(P,{variant:"caption",color:"text.secondary",children:"Include in holiday calculations"})]})]}),n(me,{control:n(fe,{checked:o.is_active,onChange:h=>x("is_active",h.target.checked),color:"success"}),label:""})]})})]})}),c(Oe,{sx:{padding:"16px 24px",justifyContent:"flex-end",gap:1},children:[n(Q,{color:"danger",variant:"light",onPress:e,disabled:b,children:"Cancel"}),n(Mt,{type:"submit",variant:"contained",loading:b,startIcon:!b&&n(ye,{className:"w-4 h-4"}),sx:{borderRadius:"8px"},children:b?"Saving...":i?"Update Holiday":"Create Holiday"})]})]})]})},Rr=({open:t,closeModal:e,holidayIdToDelete:r,setHolidaysData:a})=>{const i=te(),l=()=>{const o=new Promise(async(d,u)=>{var m,b;try{const f=await _e.delete(route("holiday-delete"),{params:{id:r,route:route().current()}});f.status===200&&(a(f.data.holidays),d("Holiday deleted successfully"))}catch(f){console.error("Error deleting holiday:",f),u(((b=(m=f.response)==null?void 0:m.data)==null?void 0:b.error)||"Failed to delete holiday")}finally{e()}});K.promise(o,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[n(_t,{}),n("span",{style:{marginLeft:"8px"},children:"Deleting holiday..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:d}){return n($,{children:d})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:d}){return n($,{children:d})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}})};return c(Se,{open:t,onClose:e,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n(Fe,{id:"alert-dialog-title",children:"Confirm Deletion"}),n(Ne,{children:n(Pt,{id:"alert-dialog-description",children:"Are you sure you want to delete this holiday? This action cannot be undone."})}),c(Oe,{children:[n(be,{variant:"outlined",onClick:e,sx:{color:i.palette.text.secondary,borderColor:"rgba(255, 255, 255, 0.2)","&:hover":{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Cancel"}),n(be,{onClick:l,color:"error",autoFocus:!0,children:"Delete"})]})]})},Ir=({title:t,stats:e})=>{const{auth:r,holidays:a}=Ve().props,i=te();he(i.breakpoints.down("sm"));const l=g.useMemo(()=>{const p=new Date().getFullYear();return a.filter(T=>new Date(T.from_date).getFullYear()===p)},[a]),[o,d]=g.useState({type:null,holidayId:null,currentHoliday:null}),[u,m]=g.useState(a),[b,f]=g.useState(l),S=g.useCallback((p,T=null,M=null)=>{d({type:p,holidayId:T,currentHoliday:M})},[]),v=g.useCallback(()=>{d({type:null,holidayId:null,currentHoliday:null})},[]),x=g.useCallback(p=>{m(p)},[]),k=g.useCallback(p=>{f(p)},[]);g.useEffect(()=>{const p=new Date().getFullYear(),T=u.filter(M=>new Date(M.from_date).getFullYear()===p);f(T)},[u]);const N=g.useMemo(()=>{const p=new Date().getFullYear(),T=b.filter(C=>new Date(C.from_date).getFullYear()===p),M=b.filter(C=>new Date(C.from_date)>new Date);b.filter(C=>{const H=new Date,ae=new Date(C.from_date),ne=new Date(C.to_date);return ae<=H&&ne>=H});const Y=b.reduce((C,H)=>C+(H.duration||1),0);return[{title:"Total Holidays",value:b.length,icon:n(St,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All filtered holidays"},{title:"This Year",value:T.length,icon:n(ge,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Current year holidays"},{title:"Upcoming",value:M.length,icon:n(j,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Future holidays"},{title:"Holiday Days",value:Y,icon:n(j,{className:"w-5 h-5"}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Total days off in filtered data"}]},[b]),h=[{label:"Add Holiday",icon:n(Ft,{className:"w-4 h-4"}),onPress:()=>S("add_holiday"),className:nt.primaryButton}],W=g.useMemo(()=>({open:!!o.type,closeModal:v,setHolidaysData:x,holidaysData:u,currentHoliday:o.currentHoliday}),[o.type,v,x,u,o.currentHoliday]);return c($,{children:[n(Ge,{title:t}),o.type==="add_holiday"&&n(Pe,{...W}),o.type==="edit_holiday"&&n(Pe,{...W}),o.type==="delete_holiday"&&n(Rr,{open:!0,holidayIdToDelete:o.holidayId,setHolidaysData:x,closeModal:v}),n(_,{sx:{display:"flex",justifyContent:"center",p:2},children:n(at,{in:!0,children:n($e,{children:n(Xe,{title:"Company Holidays",subtitle:"Manage company holidays and observances throughout the year",icon:n(ge,{className:"w-8 h-8"}),variant:"gradient",actionButtons:h,children:c("div",{className:"p-6",children:[n(ze,{stats:N,className:"mb-6"}),n(Ar,{holidaysData:u,onEdit:p=>S("edit_holiday",null,p),onDelete:p=>S("delete_holiday",p),onFilteredDataChange:k})]})})})})})]})};Ir.layout=t=>n(it,{children:t});export{Ir as default};
