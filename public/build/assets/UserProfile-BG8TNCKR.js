import{j as t,a as e,F as X,b as Pe,q as Ie,Y as Fe}from"./app-XDT0crAB.js";import{g as De,j as fe,r as f,u as Y,O as te,T as F,c as G,G as r,B as M,A as pe,b as I,F as O,m as q,S as J,M as j,W as ce,P as ae,Q as oe,p as ue,a as z,f as _e,q as Q,I as Be,X as ie,Y as Te,Z as Ce,$ as ke,a0 as Ne,a1 as ge,e as je,a2 as ee,a3 as N,a4 as x,a5 as Ee,a6 as be}from"./vendor-CrYfq8AM.js";import{C as xe,d as re}from"./Edit-YtIUpVWB.js";import{B as E,G as H,A as Ae}from"./App-DRAveRzv.js";import{d as me,G as ne}from"./GlassDialog-5W3KlEBR.js";import{L as V}from"./LoadingButton-Y-VpjT4P.js";import{A as ve}from"./Add-pfpLCbp3.js";const We=De([fe.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),fe.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),we=({user:s,allUsers:R,departments:b,designations:A,setUser:m,open:i,closeModal:h})=>{const[P,y]=f.useState({id:s.id,name:s.name||"",gender:s.gender||"",birthday:s.birthday||"",date_of_joining:s.date_of_joining||"",address:s.address||"",employee_id:s.employee_id||"",phone:s.phone||"",email:s.email||"",department:s.department||"",designation:s.designation||"",report_to:s.report_to||""}),[k,c]=f.useState({id:s.id}),[T,S]=f.useState(!1),[g,d]=f.useState({}),[n,D]=f.useState(!1),[p,a]=f.useState(!1),[o,l]=f.useState(null),[_,w]=f.useState(A),[B,L]=f.useState(R),u=Y(),$=C=>{const U=C.target.files[0];if(U){const W=URL.createObjectURL(U);l(W);const Z=new Promise(async(le,se)=>{try{const K=new FormData;if(K.append("id",s.id),U){const Se=U.type;if(["image/jpeg","image/jpg","image/png"].includes(Se))K.append("profile_image",U);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),se("Invalid file type");return}}const ye=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:K}),de=await ye.json();ye.ok?(m(de.user),D(!1),le([...de.messages])):(D(!1),d(de.errors),se(de.error||"Failed to update profile image."),console.error(de.errors))}catch(K){D(!1),console.log(K),se(K.message||"An unexpected error occurred.")}});E.promise(Z,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(ue,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile image..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:le}){return e(X,{children:le.map((se,K)=>e("div",{children:se},K))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:le}){return e(X,{children:le})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}},v=(C,U)=>{y(W=>{const Z={...W,[C]:U};return U===""&&delete Z[C],Z}),c(W=>{const Z={...W,[C]:U};return U===""&&delete Z[C],Z})};return f.useEffect(()=>{s.department!==P.department&&(P.designation=null,P.report_to=null),w(A.filter(W=>W.department_id===(k.department||P.department))),L(R.filter(W=>W.department===(k.department||P.department)));const C={...k};for(const W in C)W!=="id"&&C[W]===s[W]&&delete C[W];const U=Object.keys(C).length>1;S(U)},[P,k]),t(ne,{open:i,onClose:h,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Profile Information"}),e(G,{variant:"outlined",color:"primary",onClick:h,sx:{position:"absolute",top:8,right:16},children:e(me,{})})]}),t("form",{onSubmit:async C=>{var U;C.preventDefault(),D(!0);try{const W=await axios.post(route("profile.update"),{ruleSet:"profile",...P});W.status===200&&(m(W.data.user),E.success(((U=W.data.messages)==null?void 0:U.length)>0?W.data.messages.join(" "):"Profile information updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}),h())}catch(W){D(!1),W.response?(W.response.status===422?(d(W.response.data.errors||{}),E.error(W.response.data.error||"Failed to update profile information.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}})):E.error("An unexpected error occurred. Please try again later.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}),console.error(W.response.data)):W.request?(E.error("No response received from the server. Please check your internet connection.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}),console.error(W.request)):(E.error("An error occurred while setting up the request.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}),console.error("Error",W.message))}finally{D(!1)}},children:[e(ae,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:t(M,{position:"relative",display:"inline-block",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e(pe,{alt:k.name||P.name,src:o||s.profile_image,sx:{width:100,height:100}}),p&&e(X,{children:e(M,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(G,{color:"primary",component:"span",children:e(We,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:$}),e("label",{htmlFor:"upload-button",children:e(M,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Name",fullWidth:!0,value:k.name||P.name||"",onChange:C=>v("name",C.target.value),error:!!g.name,helperText:g.name})}),e(r,{item:!0,xs:12,md:6,children:t(O,{fullWidth:!0,children:[e(q,{id:"gender-label",children:"Gender"}),t(J,{labelId:"gender-label",value:k.gender||P.gender||"na",onChange:C=>v("gender",C.target.value),error:!!g.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{disabled:!0,value:"na",children:"Select Gender"}),e(j,{value:"Male",children:"Male"}),e(j,{value:"Female",children:"Female"})]}),e(ce,{children:g.gender})]})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Birth Date",type:"date",fullWidth:!0,value:k.birthday||P.birthday||"",onChange:C=>v("birthday",C.target.value),InputLabelProps:{shrink:!0},error:!!g.birthday,helperText:g.birthday})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Joining Date",type:"date",fullWidth:!0,value:k.date_of_joining||P.date_of_joining||"",onChange:C=>v("date_of_joining",C.target.value),InputLabelProps:{shrink:!0},error:!!g.date_of_joining,helperText:g.date_of_joining})}),e(r,{item:!0,xs:12,children:e(I,{label:"Address",fullWidth:!0,value:k.address||P.address,onChange:C=>v("address",C.target.value),error:!!g.address,helperText:g.address})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Employee ID",fullWidth:!0,value:k.employee_id||P.employee_id||"",onChange:C=>v("employee_id",C.target.value),error:!!g.employee_id,helperText:g.employee_id})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Phone Number",fullWidth:!0,value:k.phone||P.phone,onChange:C=>v("phone",C.target.value),error:!!g.phone,helperText:g.phone})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Email Adress",fullWidth:!0,value:k.email||P.email,onChange:C=>v("email",C.target.value),error:!!g.email,helperText:g.email})}),e(r,{item:!0,xs:12,md:6,children:t(O,{fullWidth:!0,children:[e(q,{id:"department",children:"Department"}),t(J,{labelId:"department",onChange:C=>v("department",C.target.value),error:!!g.department,id:`department-select-${s.id}`,value:k.department||P.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select Department"}),b.map(C=>e(j,{value:C.id,children:C.name},C.id))]}),e(ce,{children:g.department})]})}),e(r,{item:!0,xs:12,md:6,children:t(O,{fullWidth:!0,children:[e(q,{id:"designation",children:"Designation"}),t(J,{labelId:"designation",onChange:C=>v("designation",C.target.value),label:"Designation",error:!!g.designation,id:`designation-select-${s.id}`,value:k.designation||P.designation||"na",disabled:!s.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select Designation"}),_.map(C=>e(j,{value:C.id,children:C.title},C.id))]}),e(ce,{children:g.designation})]})}),e(r,{item:!0,xs:12,md:6,children:t(O,{fullWidth:!0,children:[e(q,{id:"report_to",children:"Reports To"}),t(J,{labelId:"report_to",value:k.report_to||P.report_to,onChange:C=>v("report_to",C.target.value),label:"Reports To",error:!!g.report_to,disabled:s.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",children:"--"}),B.map(C=>e(j,{value:C.id,children:C.name},C.id))]}),e(ce,{children:g.report_to})]})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!T,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:n,children:"Submit"})})]})]})},Re=({user:s,setUser:R,open:b,closeModal:A})=>{const[m,i]=f.useState({id:s.id,passport_no:s.passport_no||"",passport_exp_date:s.passport_exp_date||"",nationality:s.nationality||"",religion:s.religion||"",marital_status:s.marital_status||"",employment_of_spouse:s.employment_of_spouse||"",number_of_children:s.number_of_children||"",nid:s.nid||""}),[h,P]=f.useState({id:s.id}),[y,k]=f.useState(!1),[c,T]=f.useState({}),[S,g]=f.useState(!1),d=Y(),n=(p,a)=>{i(o=>{const l={...o,[p]:a};return a===""&&delete l[p],p==="marital_status"&&a==="Single"&&(l.employment_of_spouse="",l.number_of_children=""),l}),P(o=>{const l={...o,[p]:a};return a===""&&delete l[p],p==="marital_status"&&a==="Single"&&(l.employment_of_spouse=null,l.number_of_children=null),l})};return f.useEffect(()=>{for(const a in h)a!=="id"&&h[a]===s[a]&&delete h[a];const p=Object.keys(h).filter(a=>a!=="id").length>0;k(p)},[m,h,s]),t(ne,{open:b,onClose:A,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Personal Information"}),e(G,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(me,{})})]}),t("form",{onSubmit:async p=>{var a;p.preventDefault(),g(!0);try{const o=await axios.post(route("profile.update"),{ruleSet:"personal",...m});o.status===200&&(R(o.data.user),E.success(((a=o.data.messages)==null?void 0:a.length)>0?o.data.messages.join(" "):"Personal information updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),A())}catch(o){g(!1),o.response?(o.response.status===422?(T(o.response.data.errors||{}),E.error(o.response.data.error||"Failed to update personal information.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}})):E.error("An unexpected error occurred. Please try again later.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.response.data)):o.request?(E.error("No response received from the server. Please check your internet connection.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.request)):(E.error("An error occurred while setting up the request.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",o.message))}finally{g(!1)}},children:[e(ae,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Passport No",fullWidth:!0,value:h.passport_no||m.passport_no||"",onChange:p=>n("passport_no",p.target.value),error:!!c.passport_no,helperText:c.passport_no})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:h.passport_exp_date||m.passport_exp_date||"",onChange:p=>n("passport_exp_date",p.target.value),InputLabelProps:{shrink:!0},error:!!c.passport_exp_date,helperText:c.passport_exp_date})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"NID No",fullWidth:!0,value:h.nid||m.nid||"",onChange:p=>n("nid",p.target.value),error:!!c.nid,helperText:c.nid})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Nationality",fullWidth:!0,value:h.nationality||m.nationality||"",onChange:p=>n("nationality",p.target.value),error:!!c.nationality,helperText:c.nationality})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Religion",fullWidth:!0,value:h.religion||m.religion||"",onChange:p=>n("religion",p.target.value),error:!!c.religion,helperText:c.religion})}),e(r,{item:!0,xs:12,md:6,children:t(O,{fullWidth:!0,children:[e(q,{id:"marital-status-label",children:"Marital status"}),t(J,{labelId:"marital-status-label",value:h.marital_status||m.marital_status||"na",onChange:p=>n("marital_status",p.target.value),label:"Marital status",error:!!c.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",children:"-"}),e(j,{value:"Single",children:"Single"}),e(j,{value:"Married",children:"Married"})]}),e(ce,{children:c.marital_status})]})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Employment of spouse",fullWidth:!0,value:h.marital_status==="Single"?"":h.employment_of_spouse||m.employment_of_spouse,onChange:p=>n("employment_of_spouse",p.target.value),error:!!c.employment_of_spouse,helperText:c.employment_of_spouse,disabled:h.marital_status==="Single"||m.marital_status==="Single"})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"No. of children",fullWidth:!0,type:"number",value:h.marital_status==="Single"?"":h.number_of_children||m.number_of_children,onChange:p=>n("number_of_children",p.target.value),error:!!c.number_of_children,helperText:c.number_of_children,disabled:h.marital_status==="Single"||m.marital_status==="Single"})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!y,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},Le=({user:s,setUser:R,open:b,closeModal:A})=>{const[m,i]=f.useState({id:s.id,emergency_contact_primary_name:s.emergency_contact_primary_name||"",emergency_contact_primary_relationship:s.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:s.emergency_contact_primary_phone||"",emergency_contact_secondary_name:s.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:s.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:s.emergency_contact_secondary_phone||""}),[h,P]=f.useState({id:s.id}),[y,k]=f.useState(!1),[c,T]=f.useState({}),[S,g]=f.useState(!1),d=Y(),n=(p,a)=>{i(o=>{const l={...o,[p]:a};return a===""&&delete l[p],l}),P(o=>{const l={...o,[p]:a};return a===""&&delete l[p],l})};return f.useEffect(()=>{for(const a in h)a!=="id"&&h[a]===s[a]&&delete h[a];const p=Object.keys(h).filter(a=>a!=="id").length>0;k(p)},[m,h,s]),t(ne,{open:b,onClose:A,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Personal Information"}),e(G,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(me,{})})]}),t("form",{onSubmit:async p=>{var a;p.preventDefault(),g(!0);try{const o=await axios.post(route("profile.update"),{ruleSet:"emergency",...m});o.status===200&&(R(o.data.user),E.success(((a=o.data.messages)==null?void 0:a.length)>0?o.data.messages.join(" "):"Emergency contact updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),A())}catch(o){g(!1),o.response?(o.response.status===422?(T(o.response.data.errors||{}),E.error(o.response.data.error||"Failed to update emergency contact.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}})):E.error("An unexpected error occurred. Please try again later.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.response.data)):o.request?(E.error("No response received from the server. Please check your internet connection.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.request)):(E.error("An error occurred while setting up the request.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",o.message))}finally{g(!1)}},children:[e(ae,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(H,{children:t(z,{children:[e(F,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Name",required:!0,fullWidth:!0,value:h.emergency_contact_primary_name||m.emergency_contact_primary_name||"",onChange:p=>n("emergency_contact_primary_name",p.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Relationship",required:!0,fullWidth:!0,value:h.emergency_contact_primary_relationship||m.emergency_contact_primary_relationship||"",onChange:p=>n("emergency_contact_primary_relationship",p.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Phone",required:!0,fullWidth:!0,value:h.emergency_contact_primary_phone||m.emergency_contact_primary_phone||"",onChange:p=>n("emergency_contact_primary_phone",p.target.value),error:!!c.bank_name,helperText:c.bank_name})})]})]})})}),e(r,{item:!0,xs:12,children:e(H,{children:t(z,{children:[e(F,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Name",fullWidth:!0,value:h.emergency_contact_secondary_name||m.emergency_contact_secondary_name||"",onChange:p=>n("emergency_contact_secondary_name",p.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Relationship",fullWidth:!0,value:h.emergency_contact_secondary_relationship||m.emergency_contact_secondary_relationship||"",onChange:p=>n("emergency_contact_secondary_relationship",p.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Phone",fullWidth:!0,value:h.emergency_contact_secondary_phone||m.emergency_contact_secondary_phone||"",onChange:p=>n("emergency_contact_secondary_phone",p.target.value),error:!!c.bank_name,helperText:c.bank_name})})]})]})})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!y,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},$e=({user:s,setUser:R,open:b,closeModal:A})=>{const[m,i]=f.useState({id:s.id,bank_name:s.bank_name||"",bank_account_no:s.bank_account_no||"",ifsc_code:s.ifsc_code||"",pan_no:s.pan_no||""}),[h,P]=f.useState({id:s.id}),[y,k]=f.useState(!1),[c,T]=f.useState({}),[S,g]=f.useState(!1),d=Y(),n=(p,a)=>{i(o=>{const l={...o,[p]:a};return a===""&&delete l[p],l}),P(o=>{const l={...o,[p]:a};return a===""&&delete l[p],l})};return f.useEffect(()=>{for(const a in h)a!=="id"&&h[a]===s[a]&&delete h[a];const p=Object.keys(h).filter(a=>a!=="id").length>0;k(p)},[m,h,s]),t(ne,{open:b,onClose:A,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Bank Information"}),e(G,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(me,{})})]}),t("form",{onSubmit:async p=>{var a;p.preventDefault(),g(!0);try{const o=await axios.post(route("profile.update"),{ruleSet:"bank",...m});o.status===200&&(R(o.data.user),E.success(((a=o.data.messages)==null?void 0:a.length)>0?o.data.messages.join(" "):"Bank information updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),A())}catch(o){g(!1),o.response?(o.response.status===422?(T(o.response.data.errors||{}),E.error(o.response.data.error||"Failed to update bank information.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}})):E.error("An unexpected error occurred. Please try again later.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.response.data)):o.request?(E.error("No response received from the server. Please check your internet connection.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(o.request)):(E.error("An error occurred while setting up the request.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",o.message))}finally{g(!1)}},children:[e(ae,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(I,{label:"Bank Name",fullWidth:!0,value:h.bank_name||m.bank_name||"",onChange:p=>n("bank_name",p.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(r,{item:!0,xs:12,children:e(I,{size:"small",label:"Bank Account No.",fullWidth:!0,value:h.bank_account_no||m.bank_account_no||"",onChange:p=>n("bank_account_no",p.target.value),error:!!c.bank_account_no,helperText:c.bank_account_no})}),e(r,{item:!0,xs:12,children:e(I,{label:"IFSC Code",fullWidth:!0,value:h.ifsc_code||m.ifsc_code||"",onChange:p=>n("ifsc_code",p.target.value),error:!!c.ifsc_code,helperText:c.ifsc_code})}),e(r,{item:!0,xs:12,children:e(I,{label:"PAN No.",fullWidth:!0,value:h.pan_no||m.pan_no||"",onChange:p=>n("pan_no",p.target.value),error:!!c.pan_no,helperText:c.pan_no})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!y,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},Ge=({user:s,open:R,closeModal:b,handleDelete:A,setUser:m})=>{const[i,h]=f.useState({id:s.id,family_member_name:s.family_member_name||"",family_member_relationship:s.family_member_relationship||"",family_member_dob:s.family_member_dob||"",family_member_phone:s.family_member_phone||""}),[P,y]=f.useState({id:s.id}),[k,c]=f.useState(!1),[T,S]=f.useState({}),[g,d]=f.useState(!1),n=Y(),D=(a,o)=>{h(l=>{const _={...l,[a]:o};return o===""&&delete _[a],_}),y(l=>{const _={...l,[a]:o};return o===""&&delete _[a],_})};return f.useEffect(()=>{for(const o in P)o!=="id"&&P[o]===s[o]&&delete P[o];const a=Object.keys(P).filter(o=>o!=="id").length>0;c(a)},[i,P,s]),t(ne,{open:R,onClose:b,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Family Member"}),e(G,{variant:"outlined",color:"primary",onClick:b,sx:{position:"absolute",top:8,right:16},children:e(me,{})})]}),t("form",{onSubmit:async a=>{var o;a.preventDefault(),d(!0);try{const l=await axios.post(route("profile.update"),{ruleSet:"family",...i});l.status===200&&(m(l.data.user),E.success(((o=l.data.messages)==null?void 0:o.length)>0?l.data.messages.join(" "):"Family information updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),b())}catch(l){d(!1),l.response?(l.response.status===422?(S(l.response.data.errors||{}),E.error(l.response.data.error||"Failed to update family information.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}})):E.error("An unexpected error occurred. Please try again later.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(l.response.data)):l.request?(E.error("No response received from the server. Please check your internet connection.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(l.request)):(E.error("An error occurred while setting up the request.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",l.message))}finally{d(!1)}},children:[e(ae,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Name",fullWidth:!0,value:P.family_member_name||i.family_member_name||"",onChange:a=>D("family_member_name",a.target.value),error:!!T.family_member_name,helperText:T.family_member_name})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Relationship",fullWidth:!0,value:P.family_member_relationship||i.family_member_relationship||"",onChange:a=>D("family_member_relationship",a.target.value),error:!!T.family_member_relationship,helperText:T.family_member_relationship})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Date of Birth",fullWidth:!0,type:"date",value:P.family_member_dob||i.family_member_dob||"",onChange:a=>D("family_member_dob",a.target.value),InputLabelProps:{shrink:!0},error:!!T.family_member_dob,helperText:T.family_member_dob})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Phone",fullWidth:!0,value:P.family_member_phone||i.family_member_phone||"",onChange:a=>D("family_member_phone",a.target.value),error:!!T.family_member_phone,helperText:T.family_member_phone})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!k,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:g,children:"Submit"})})]})]})},Me=({user:s,open:R,closeModal:b,setUser:A})=>{const[m,i]=f.useState({id:s.id}),[h,P]=f.useState(!1),[y,k]=f.useState(s.educations&&s.educations.length>0?s.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[c,T]=f.useState({}),[S,g]=f.useState(!1),d=Y(),n=(o,l,_)=>{console.log(_);const w=[...y];w[o]={...w[o],[l]:_},k(w);const B=w.filter((u,$)=>{const v=s.educations[$]||{},he=!v.id||u.institution!==v.institution||u.subject!==v.subject||u.degree!==v.degree||u.starting_date!==v.starting_date||u.complete_date!==v.complete_date||u.grade!==v.grade,C=v.id&&u.institution===v.institution&&u.subject===v.subject&&u.degree===v.degree&&u.starting_date===v.starting_date&&u.complete_date===v.complete_date&&u.grade===v.grade;return he&&!C});i(u=>({...u,educations:[...B]}));const L=B.length>0;P(L)},D=async o=>{const l=y[o],_=y.filter((w,B)=>B!==o);if(k(_.length>0?_:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),l.id){const w=new Promise(async(B,L)=>{try{const u=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:l.id,user_id:s.id})}),$=await u.json();u.ok?(i(v=>({...v,educations:$.educations})),A(v=>({...v,educations:$.educations})),B($.message||"Education record deleted successfully.")):(T($.errors),console.log($.errors),L($.error||"Failed to delete education record."))}catch(u){L(u)}});E.promise(w,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(ue,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:B}){return e(X,{children:B})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:B}){return e(X,{children:B})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}})}},p=async o=>{o.preventDefault(),g(!0);const l=new Promise(async(_,w)=>{try{const B=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:y.map(u=>({...u,user_id:s.id}))})}),L=await B.json();B.ok?(A(u=>({...u,educations:L.educations})),g(!1),b(),_([...L.messages])):(g(!1),T(L.errors),console.log(L.errors),w(L.error||"Failed to update education records."))}catch(B){g(!1),w(B.message||"An unexpected error occurred while updating education records.")}});E.promise(l,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(ue,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:_}){return e(X,{children:_.map((w,B)=>e("div",{children:w},B))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:_}){return e(X,{children:_})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}})},a=async()=>{k([...y,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return t(ne,{open:R,onClose:b,maxWidth:"md",fullWidth:!0,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Education Information"}),e(G,{onClick:b,sx:{position:"absolute",top:8,right:16},children:e(xe,{})})]}),t("form",{onSubmit:p,children:[e(ae,{children:t(M,{children:[e(r,{container:!0,spacing:2,children:y.map((o,l)=>e(r,{item:!0,xs:12,children:e(H,{children:t(z,{children:[t(F,{variant:"h6",gutterBottom:!0,children:["Education #"+(l+1),e(G,{onClick:()=>D(l),sx:{position:"absolute",top:8,right:16},children:e(xe,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Institution",fullWidth:!0,value:o.institution||"",onChange:_=>n(l,"institution",_.target.value),error:!!c[`educations.${l}.institution`],helperText:c[`educations.${l}.institution`]?c[`educations.${l}.institution`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Degree",fullWidth:!0,value:o.degree||"",onChange:_=>n(l,"degree",_.target.value),error:!!c[`educations.${l}.degree`],helperText:c[`educations.${l}.degree`]?c[`educations.${l}.degree`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Subject",fullWidth:!0,value:o.subject||"",onChange:_=>n(l,"subject",_.target.value),error:!!c[`educations.${l}.subject`],helperText:c[`educations.${l}.subject`]?c[`educations.${l}.subject`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.starting_date||"",onChange:_=>n(l,"starting_date",_.target.value),error:!!c[`educations.${l}.starting_date`],helperText:c[`educations.${l}.starting_date`]?c[`educations.${l}.starting_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.complete_date||"",onChange:_=>n(l,"complete_date",_.target.value),error:!!c[`educations.${l}.complete_date`],helperText:c[`educations.${l}.complete_date`]?c[`educations.${l}.complete_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Grade",fullWidth:!0,value:o.grade||"",onChange:_=>n(l,"grade",_.target.value),error:!!c[`educations.${l}.grade`],helperText:c[`educations.${l}.grade`]?c[`educations.${l}.grade`][0]:""})})]})]})})},l))}),e(M,{mt:2,children:t(_e,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(ve,{})," Add More"]})})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},Ue=({user:s,open:R,closeModal:b,setUser:A})=>{const[m,i]=f.useState({id:s.id}),[h,P]=f.useState(!1),[y,k]=f.useState(s.experiences.length>0?s.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[c,T]=f.useState({}),[S,g]=f.useState(!1),d=Y(),n=(o,l,_)=>{const w=[...y];w[o]={...w[o],[l]:_},k(w);const B=w.filter((u,$)=>{const v=s.experiences[$]||{},he=!v.id||u.company_name!==v.company_name||u.location!==v.location||u.job_position!==v.job_position||u.period_from!==v.period_from||u.period_to!==v.period_to||u.description!==v.description,C=v.id&&u.company_name===v.company_name&&u.location===v.location&&u.job_position===v.job_position&&u.period_from===v.period_from&&u.period_to===v.period_to&&u.description===v.description;return he&&!C});i(u=>({...u,experiences:[...B]}));const L=B.length>0;P(L)},D=async o=>{const l=y[o],_=y.filter((w,B)=>B!==o);if(k(_.length>0?_:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),l.id){const w=new Promise(async(B,L)=>{try{const u=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:l.id,user_id:s.id})}),$=await u.json();u.ok?(i(v=>({...v,experiences:$.experiences})),A(v=>({...v,experiences:$.experiences})),B($.message||"Experience record deleted successfully."),b()):(T([...$.errors]),L($.error||"Failed to delete experience record."))}catch(u){L(u)}});E.promise(w,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(ue,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:B}){return e(X,{children:B})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:B}){return e(X,{children:B})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}})}},p=async o=>{o.preventDefault(),g(!0);const l=new Promise(async(_,w)=>{try{const B=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:y.map(u=>({...u,user_id:s.id}))})}),L=await B.json();B.ok?(A(u=>({...u,experiences:L.experiences})),g(!1),b(),_([...L.messages])):(g(!1),T(L.errors),console.log(L.errors),w(L.error||"Failed to update experience records."))}catch(B){g(!1),w(B.message||"An unexpected error occurred while updating experience records.")}});E.promise(l,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(ue,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:_}){return e(X,{children:_.map((w,B)=>e("div",{children:w},B))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:_}){return e(X,{children:_})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}})},a=async()=>{k([...y,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return t(ne,{open:R,onClose:b,maxWidth:"md",fullWidth:!0,children:[t(te,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Experience Information"}),e(G,{onClick:b,sx:{position:"absolute",top:8,right:16},children:e(xe,{})})]}),t("form",{onSubmit:p,children:[e(ae,{children:t(M,{children:[e(r,{container:!0,spacing:2,children:y.map((o,l)=>e(r,{item:!0,xs:12,children:e(H,{children:t(z,{children:[t(F,{variant:"h6",gutterBottom:!0,children:["Experience #"+(l+1),e(G,{onClick:()=>D(l),sx:{position:"absolute",top:8,right:16},children:e(xe,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Company",fullWidth:!0,value:o.company_name||"",onChange:_=>n(l,"company_name",_.target.value),error:!!c[`experiences.${l}.company_name`],helperText:c[`experiences.${l}.company_name`]?c[`experiences.${l}.company_name`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Location",fullWidth:!0,value:o.location||"",onChange:_=>n(l,"location",_.target.value),error:!!c[`experiences.${l}.location`],helperText:c[`experiences.${l}.location`]?c[`experiences.${l}.location`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Role",fullWidth:!0,value:o.job_position||"",onChange:_=>n(l,"job_position",_.target.value),error:!!c[`experiences.${l}.job_position`],helperText:c[`experiences.${l}.job_position`]?c[`experiences.${l}.job_position`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.period_from||"",onChange:_=>n(l,"period_from",_.target.value),error:!!c[`experiences.${l}.period_from`],helperText:c[`experiences.${l}.period_from`]?c[`experiences.${l}.period_from`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(I,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.period_to||"",onChange:_=>n(l,"period_to",_.target.value),error:!!c[`experiences.${l}.period_to`],helperText:c[`experiences.${l}.period_to`]?c[`experiences.${l}.period_to`][0]:""})}),e(r,{item:!0,xs:12,children:e(I,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:o.description||"",onChange:_=>n(l,"description",_.target.value),error:!!c[`experiences.${l}.description`],helperText:c[`experiences.${l}.description`]?c[`experiences.${l}.description`][0]:""})})]})]})})},l))}),t(_e,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(ve,{})," Add More"]})]})}),e(oe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},Oe=({user:s,setUser:R})=>{const[b,A]=f.useState({id:s.id,salary_basis:s.salary_basis||"",salary_amount:s.salary_amount||"",payment_type:s.payment_type||"",pf_contribution:s.pf_contribution??!1,pf_no:s.pf_no||"",employee_pf_rate:s.employee_pf_rate||0,additional_pf_rate:s.additional_pf_rate||0,total_pf_rate:s.total_pf_rate||0,esi_contribution:s.esi_contribution??!1,esi_no:s.esi_no||"",employee_esi_rate:s.employee_esi_rate||0,additional_esi_rate:s.additional_esi_rate||0,total_esi_rate:s.total_esi_rate||0}),[m,i]=f.useState({id:s.id}),[h,P]=f.useState(!1),[y,k]=f.useState({}),[c,T]=f.useState(!1),S=Y(),g=(n,D)=>{A(p=>{const a={...p,[n]:D};return D===""&&delete a[n],n==="pf_contribution"&&D===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(n==="employee_pf_rate"||n==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),n==="esi_contribution"&&D===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(n==="employee_esi_rate"||n==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a}),i(p=>{const a={...p,[n]:D};return D===""&&delete a[n],n==="pf_contribution"&&D===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(n==="employee_pf_rate"||n==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),n==="esi_contribution"&&D===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(n==="employee_esi_rate"||n==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a})};return f.useEffect(()=>{for(const D in m)D!=="id"&&m[D]===s[D]&&delete m[D];const n=Object.keys(m).filter(D=>D!=="id").length>0;P(n),console.log(b),console.log(m)},[b,m,s]),e(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:e(r,{item:!0,xs:12,md:12,sx:{display:"flex",flexDirection:"column"},children:t(H,{children:[e(Q,{title:"Salary & Statutory Information"}),t("form",{onSubmit:async n=>{var D,p,a;n.preventDefault(),T(!0);try{const o=await axios.post(route("profile.update"),{ruleSet:"salary",...b});o.status===200?(R(o.data.user),T(!1),E.success(((D=o.data.messages)==null?void 0:D.length)>0?o.data.messages.join(" "):"Salary information updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}})):(T(!1),k(o.data.errors),E.error(o.data.error||"Failed to update salary information.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}}))}catch(o){T(!1),E.error(((a=(p=o.response)==null?void 0:p.data)==null?void 0:a.message)||"An unexpected error occurred.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}}),console.log(o)}},children:[t(z,{children:[e(F,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"salary-basis-label",children:"Salary basis"}),t(J,{labelId:"salary-basis-label",value:m.salary_basis||b.salary_basis||"na",onChange:n=>g("salary_basis",n.target.value),error:!!y.salary_basis,helperText:y.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select salary basis type"}),e(j,{value:"Hourly",children:"Hourly"}),e(j,{value:"Daily",children:"Daily"}),e(j,{value:"Weekly",children:"Weekly"}),e(j,{value:"Monthly",children:"Monthly"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(I,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:m.salary_amount||b.salary_amount||"",onChange:n=>g("salary_amount",n.target.value),InputProps:{startAdornment:e(Be,{position:"start",children:"$"})},error:!!y.salary_amount,helperText:y.salary_amount})}),e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"payment-type-label",children:"Payment type"}),t(J,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${s.id}`,value:m.payment_type||b.payment_type||"na",onChange:n=>g("payment_type",n.target.value),error:!!y.payment_type,helperText:y.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select payment type"}),e(j,{value:"Bank transfer",children:"Bank transfer"}),e(j,{value:"Check",children:"Check"}),e(j,{value:"Cash",children:"Cash"})]})]})})]}),e(ie,{sx:{my:3}}),e(F,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"pf-contribution-label",children:"PF contribution"}),t(J,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${s.id}`,value:m.pf_contribution!==void 0?m.pf_contribution:b.pf_contribution!==void 0?b.pf_contribution:"na",onChange:n=>g("pf_contribution",n.target.value),error:!!y.pf_contribution,helperText:y.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select PF contribution"}),e(j,{value:1,children:"Yes"}),e(j,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(I,{disabled:!(m.pf_contribution||b.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:m.pf_no||b.pf_no,onChange:n=>g("pf_no",n.target.value),error:!!y.pf_no,helperText:y.pf_no})}),e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"employee-pf-rate-label",children:"Employee PF rate"}),t(J,{disabled:!(m.pf_contribution||b.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:m.employee_pf_rate||b.employee_pf_rate||"na",onChange:n=>g("employee_pf_rate",n.target.value),error:!!y.employee_pf_rate,helperText:y.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(n=>t(j,{value:n,children:[n,"%"]},n))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"additional-rate-label",children:"Additional rate"}),t(J,{disabled:!(m.pf_contribution||b.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${s.id}`,value:m.additional_pf_rate||b.additional_pf_rate||"na",onChange:n=>g("additional_pf_rate",n.target.value),error:!!y.additional_pf_rate,helperText:y.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(n=>t(j,{value:n,children:[n,"%"]},n))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(I,{disabled:!(m.pf_contribution||b.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:m.total_pf_rate||b.total_pf_rate?`${m.total_pf_rate||b.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!y.total_pf_rate,helperText:y.total_pf_rate})})]}),e(ie,{sx:{my:3}}),e(F,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"ESI contribution"}),t(J,{labelId:"esi-contribution-label",label:"ESI contribution",value:m.esi_contribution!==void 0?m.esi_contribution:b.esi_contribution!==void 0?b.esi_contribution:"na",onChange:n=>g("esi_contribution",n.target.value),error:!!y.esi_contribution,helperText:y.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(j,{value:1,children:"Yes"}),e(j,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(I,{disabled:!(m.esi_contribution||b.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:m.esi_no||b.esi_no,onChange:n=>g("esi_no",n.target.value),error:!!y.esi_no,helperText:y.esi_no})}),e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"Employee ESI rate"}),t(J,{disabled:!(m.esi_contribution||b.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:m.employee_esi_rate||b.employee_esi_rate||"na",onChange:n=>g("employee_esi_rate",n.target.value),error:!!y.employee_esi_rate,helperText:y.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(n=>t(j,{value:n,children:[n,"%"]},n))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(O,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"Additional rate"}),t(J,{disabled:!(m.esi_contribution||b.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:m.additional_esi_rate||b.additional_esi_rate||"na",onChange:n=>g("additional_esi_rate",n.target.value),error:!!y.additional_esi_rate,helperText:y.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(j,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(n=>t(j,{value:n,children:[n,"%"]},n))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(I,{disabled:!(m.esi_contribution||b.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:m.total_esi_rate||b.total_esi_rate?`${m.total_esi_rate||b.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!y.total_esi_rate,helperText:y.total_esi_rate})})]})]}),e(Te,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(V,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:c,children:"Submit"})})]})]})})})},qe=({project:s})=>{const R=Y();return e(H,{children:t(M,{sx:{p:2},children:[e(F,{variant:"h6",gutterBottom:!0,children:e(Pe,{style:{display:"flex",alignItems:"center",color:R.palette.text.primary,textDecoration:"none"},href:"/",as:"a",children:s.title})}),t(F,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[e("b",{children:s.openTasks})," open tasks, ",e("b",{children:s.completedTasks})," tasks completed"]}),e(F,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:s.description}),t(M,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Deadline:"}),e(F,{variant:"body2",color:"textSecondary",children:s.deadline})]}),t(M,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Project Leaders:"}),e(M,{display:"flex",children:e(Ce,{max:4,total:5,children:s.leaders.map((b,A)=>e(ke,{title:b.name,arrow:!0,children:e(pe,{src:b.avatar,alt:b.name})},A))})})]}),t(M,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Project Members:"}),e(M,{display:"flex",children:e(Ce,{max:4,total:24,children:s.team.map((b,A)=>e(ke,{title:b.name,arrow:!0,children:e(pe,{src:b.avatar,alt:b.name})},A))})})]}),t(F,{variant:"body2",gutterBottom:!0,children:["Progress ",t("span",{style:{float:"right"},children:[s.progress,"%"]})]}),e(Ne,{variant:"determinate",value:s.progress})]})})},Je=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],Ze=({title:s,allUsers:R,report_to:b,departments:A,designations:m})=>{var d,n,D,p;const[i,h]=f.useState(Ie().props.user),[P,y]=ge.useState(0);ge.useState(null);const[k,c]=f.useState(null),T=a=>{c(a)},S=()=>{c(null)},g=(a,o)=>{y(o)};return t(Ae,{children:[e(Fe,{title:i.name}),k==="profile"&&e(we,{user:i,allUsers:R,departments:A,designations:m,open:k==="profile",setUser:h,closeModal:S}),k==="personal"&&e(Re,{user:i,open:k==="personal",setUser:h,closeModal:S}),k==="emergency"&&e(Le,{user:i,open:k==="emergency",setUser:h,closeModal:S}),k==="bank"&&e($e,{user:i,open:k==="bank",setUser:h,closeModal:S}),k==="family"&&e(Ge,{user:i,open:k==="family",setUser:h,closeModal:S}),k==="education"&&e(Me,{user:i,open:k==="education",setUser:h,closeModal:S}),k==="experience"&&e(Ue,{user:i,open:k==="experience",setUser:h,closeModal:S}),e(M,{sx:{display:"flex",justifyContent:"center",p:2},children:e(je,{in:!0,children:t(H,{children:[e(Q,{sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("profile"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:t(r,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e(r,{item:!0,xs:12,md:5,children:t(r,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e(r,{item:!0,children:e(M,{sx:{display:"flex",alignItems:"center",mb:2},children:e(pe,{src:i.profile_image,alt:i.name,sx:{width:100,height:100,mr:2}})})}),e(r,{item:!0,xs:12,md:!0,children:t(M,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e(F,{variant:"h5",children:i.name}),e(F,{variant:"subtitle1",color:"textSecondary",children:((d=A.find(a=>a.id===i.department))==null?void 0:d.name)||"N/A"}),e(F,{variant:"body2",color:"textSecondary",children:((n=m.find(a=>a.id===i.designation))==null?void 0:n.title)||"N/A"}),t(F,{variant:"body2",color:"textSecondary",children:["Employee ID : ",i.employee_id||"N/A"]}),t(F,{variant:"body2",color:"textSecondary",children:["Date of Join : ",i.date_of_joining||"N/A"]}),e(_e,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e(ie,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e(r,{item:!0,xs:12,md:6,children:t(ee,{children:[e(N,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.phone||"N/A"})})]})}),e(N,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Email:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.email||"N/A"})})]})}),e(N,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Birthday:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.birthday||"N/A"})})]})}),e(N,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Address:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.address||"N/A"})})]})}),e(N,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Gender:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.gender||"N/A"})})]})}),e(N,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Reports to:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:R.find(a=>a.id===i.report_to)?t(M,{sx:{display:"flex",alignItems:"center"},children:[e(pe,{src:`/assets/images/users/${(D=R.find(a=>a.id===i.report_to))==null?void 0:D.user_name}.jpg`,alt:b.name,sx:{width:24,height:24,mr:1}}),e(F,{color:"primary",children:(p=R.find(a=>a.id===i.report_to))==null?void 0:p.name})]}):"N/A"})})]})})]})})]})}),e(z,{sx:{paddingBottom:"0px !important"},children:t(Ee,{value:P,onChange:g,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e(be,{label:"Profile"}),e(be,{label:"Projects"}),e(be,{label:"Salary & Statutory"}),e(be,{label:"Assets"})]})})]})})}),t(M,{sx:{p:2},children:[P===0&&t(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(H,{sx:{mb:2,flex:1},children:[e(Q,{title:"Personal Information",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("personal"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.passport_no||i.passport_exp_date||i.nationality||i.religion||i.marital_status||i.employment_of_spouse||i.number_of_children?t(ee,{children:[i.passport_no&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.passport_no||"N/A"})})]})}),i.passport_exp_date&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport Exp Date.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.passport_exp_date||"N/A"})})]})}),i.nid&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ NID No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.nid||"N/A"})})]})}),i.nationality&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Nationality:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.nationality||"N/A"})})]})}),i.religion&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Religion:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.religion||"N/A"})})]})}),i.marital_status&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Marital Status:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.marital_status||"N/A"})})]})}),i.employment_of_spouse&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Employment of Spouse:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.employment_of_spouse||"N/A"})})]})}),i.number_of_children&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ No. of Children:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.number_of_children||"N/A"})})]})})]}):e(F,{children:"No personal information available"})})]})}),e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(H,{sx:{mb:2,flex:1},children:[e(Q,{title:"Emergency Contact",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("emergency"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.emergency_contact_primary_name||i.emergency_contact_secondary_name?t(ee,{children:[i.emergency_contact_primary_name&&t(X,{children:[e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_name||"N/A"})})]})}),e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_relationship||"N/A"})})]})}),e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_primary_phone||"N/A"})})]})})]}),i.emergency_contact_secondary_name&&t(X,{children:[e(ie,{sx:{my:2}}),e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_name||"N/A"})})]})}),e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_relationship||"N/A"})})]})}),e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e(F,{children:"No emergency contact information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(H,{variant:"outlined",sx:{mb:2},children:[e(Q,{title:"Bank Information",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("bank"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.bank_name||i.bank_account_no||i.ifsc_code||i.pan_no?t(ee,{children:[i.bank_name&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.bank_name})})]})}),i.bank_account_no&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Account No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.bank_account_no})})]})}),i.ifsc_code&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ IFSC Code:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.ifsc_code})})]})}),i.pan_no&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ PAN No:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.pan_no})})]})})]}):e(F,{children:"No bank information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(H,{variant:"outlined",children:[e(Q,{title:"Family Information",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("family"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.family_member_name||i.family_member_relationship||i.family_member_dob||i.family_member_phone?t(ee,{children:[i.family_member_name&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_name})})]})}),i.family_member_relationship&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_relationship})})]})}),i.family_member_dob&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Date of Birth:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_dob})})]})}),i.family_member_phone&&e(N,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:i.family_member_phone})})]})})]}):e(F,{children:"No family member information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(H,{variant:"outlined",sx:{mb:2},children:[e(Q,{title:"Education Information",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("education"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.educations&&i.educations.length>0?e(ee,{children:i.educations.map((a,o)=>t(ge.Fragment,{children:[e(N,{disableGutters:!0,children:t(F,{variant:"h6",children:["â€¢ ",a.institution]})}),e(N,{disableGutters:!0,children:e(F,{variant:"body1",children:a.degree||"N/A"})}),e(N,{disableGutters:!0,children:t(F,{variant:"body2",children:[a.starting_date?new Date(a.starting_date).getFullYear():"N/A"," -",a.complete_date?new Date(a.complete_date).getFullYear():"N/A"]})}),o<i.educations.length-1&&e(ie,{sx:{my:1}})]},a.id))}):e(F,{children:"No education information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(H,{variant:"outlined",children:[e(Q,{title:"Experience",sx:{padding:"24px"},action:e(G,{variant:"outlined",color:"primary",onClick:()=>T("experience"),sx:{position:"absolute",top:16,right:16},children:e(re,{})})}),e(z,{children:i.experiences&&i.experiences.length>0?e(ee,{children:i.experiences.map((a,o)=>t(ge.Fragment,{children:[e(N,{disableGutters:!0,children:t(F,{variant:"h6",children:["â€¢ ",a.job_position," at ",a.company_name]})}),e(N,{disableGutters:!0,children:t(F,{variant:"body1",children:[a.period_from?new Date(a.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",a.period_to?new Date(a.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e(N,{disableGutters:!0,children:e(F,{variant:"body2",children:a.location})}),a.description&&e(N,{disableGutters:!0,children:e(F,{variant:"body2",children:a.description})}),o<i.experiences.length-1&&e(ie,{sx:{my:1}})]},o))}):e(F,{children:"No experience information"})})]})})]}),P===1&&e(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:Je.map((a,o)=>e(r,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e(qe,{project:a})},a.id||o))}),P===2&&e(Oe,{user:i,setUser:h})]})]})};export{Ze as default};
