import{r as p,R as F,aj as $t,ak as bt,w as S}from"./vendor-C0ytmRDo.js";import{T as gt,U as ht,V as Le,k as wt,W as Et,X as Tt,L as yt,m as Pt,Y as je,Z as xt,K as Lt,o as Ct,a0 as Ht,N as Y,a1 as Be,M as St,a2 as Ot,f as Mt,a3 as Dt,a4 as It,a5 as Rt,a6 as kt,a7 as At,a8 as Ft}from"./App-6TEFvUFw.js";import{$ as Wt}from"./chunk-KBN3H6OQ-7PTkvS_5.js";import{w as Nt}from"./useFormValidationState-Bi91Ga1n.js";const zt=1500,Ke=500;let z={},jt=0,ee=!1,I=null,j=null;function Bt(e={}){let{delay:t=zt,closeDelay:o=Ke}=e,{isOpen:n,open:r,close:a}=gt(e),i=p.useMemo(()=>`${++jt}`,[]),l=p.useRef(),f=()=>{z[i]=m},c=()=>{for(let s in z)s!==i&&(z[s](!0),delete z[s])},u=()=>{clearTimeout(l.current),l.current=null,c(),f(),ee=!0,r(),I&&(clearTimeout(I),I=null),j&&(clearTimeout(j),j=null)},m=s=>{s||o<=0?(clearTimeout(l.current),l.current=null,a()):l.current||(l.current=setTimeout(()=>{l.current=null,a()},o)),I&&(clearTimeout(I),I=null),ee&&(j&&clearTimeout(j),j=setTimeout(()=>{delete z[i],j=null,ee=!1},Math.max(Ke,o)))},v=()=>{c(),f(),!n&&!I&&!ee?I=setTimeout(()=>{I=null,ee=!0,u()},t):n||u()};return p.useEffect(()=>()=>{clearTimeout(l.current),z[i]&&delete z[i]},[i]),{isOpen:n,open:s=>{!s&&t>0&&!l.current?v():u()},close:m}}const K=typeof document<"u"?F.useLayoutEffect:()=>{};function Ce(e){const t=p.useRef(null);return K(()=>{t.current=e},[e]),p.useCallback((...o)=>{const n=t.current;return n==null?void 0:n(...o)},[])}let Kt=!!(typeof window<"u"&&window.document&&window.document.createElement),me=new Map;function Ut(e){let[t,o]=p.useState(e),n=p.useRef(null),r=ht(t),a=p.useCallback(i=>{n.current=i},[]);return Kt&&me.set(r,a),K(()=>{let i=r;return()=>{me.delete(i)}},[r]),p.useEffect(()=>{let i=n.current;i&&(n.current=null,o(i))}),r}function Vt(e,t){if(e===t)return e;let o=me.get(e);if(o)return o(t),t;let n=me.get(t);return n?(n(e),e):t}function ve(...e){return(...t)=>{for(let o of e)typeof o=="function"&&o(...t)}}const ne=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},He=e=>e&&"window"in e&&e.window===e?e:ne(e).defaultView||window;function B(...e){let t={...e[0]};for(let o=1;o<e.length;o++){let n=e[o];for(let r in n){let a=t[r],i=n[r];typeof a=="function"&&typeof i=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=ve(a,i):(r==="className"||r==="UNSAFE_className")&&typeof a=="string"&&typeof i=="string"?t[r]=$t(a,i):r==="id"&&a&&i?t.id=Vt(a,i):t[r]=i!==void 0?i:a}}return t}const Yt=new Set(["id"]),Xt=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Gt=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Zt=/^(data-.*)$/;function qt(e,t={}){let{labelable:o,isLink:n,propNames:r}=t,a={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Yt.has(i)||o&&Xt.has(i)||n&&Gt.has(i)||r!=null&&r.has(i)||Zt.test(i))&&(a[i]=e[i]);return a}function Ie(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(o=>e.test(o.brand)))||e.test(window.navigator.userAgent)}function Re(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function ot(){return Re(/^Mac/i)}function Jt(){return Re(/^iPhone/i)}function Qt(){return Re(/^iPad/i)||ot()&&navigator.maxTouchPoints>1}function _t(){return Jt()||Qt()}function eo(){return Ie(/AppleWebKit/i)&&!to()}function to(){return Ie(/Chrome/i)}function oo(){return Ie(/Android/i)}function no(){return typeof window.ResizeObserver<"u"}function ro(e){const{ref:t,onResize:o}=e;p.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(no()){const r=new window.ResizeObserver(a=>{a.length&&o()});return r.observe(n),()=>{n&&r.unobserve(n)}}else return window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}},[o,t])}function Ue(e,t){let o=window.getComputedStyle(e),n=/(auto|scroll)/.test(o.overflow+o.overflowX+o.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function nt(e,t){let o=e;for(Ue(o,t)&&(o=o.parentElement);o&&!Ue(o,t);)o=o.parentElement;return o||document.scrollingElement||document.documentElement}function lo(e){return e.mozInputSource===0&&e.isTrusted?!0:oo()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class io{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,o){this.nativeEvent=o,this.target=o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget,this.bubbles=o.bubbles,this.cancelable=o.cancelable,this.defaultPrevented=o.defaultPrevented,this.eventPhase=o.eventPhase,this.isTrusted=o.isTrusted,this.timeStamp=o.timeStamp,this.type=t}}function ao(e){let t=p.useRef({isFocused:!1,observer:null});K(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let o=Ce(n=>{e==null||e(n)});return p.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=n.target,a=i=>{t.current.isFocused=!1,r.disabled&&o(new io("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[o])}let q=null,so=new Set,oe=new Map,U=!1,Se=!1;function ke(e,t){for(let o of so)o(e,t)}function co(e){return!(e.metaKey||!ot()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function $e(e){U=!0,co(e)&&(q="keyboard",ke("keyboard",e))}function M(e){q="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(U=!0,ke("pointer",e))}function rt(e){lo(e)&&(U=!0,q="virtual")}function lt(e){e.target===window||e.target===document||(!U&&!Se&&(q="virtual",ke("virtual",e)),U=!1,Se=!1)}function it(){U=!1,Se=!0}function Ve(e){if(typeof window>"u"||oe.get(He(e)))return;const t=He(e),o=ne(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){U=!0,n.apply(this,arguments)},o.addEventListener("keydown",$e,!0),o.addEventListener("keyup",$e,!0),o.addEventListener("click",rt,!0),t.addEventListener("focus",lt,!0),t.addEventListener("blur",it,!1),typeof PointerEvent<"u"?(o.addEventListener("pointerdown",M,!0),o.addEventListener("pointermove",M,!0),o.addEventListener("pointerup",M,!0)):(o.addEventListener("mousedown",M,!0),o.addEventListener("mousemove",M,!0),o.addEventListener("mouseup",M,!0)),t.addEventListener("beforeunload",()=>{at(e)},{once:!0}),oe.set(t,{focus:n})}const at=(e,t)=>{const o=He(e),n=ne(e);t&&n.removeEventListener("DOMContentLoaded",t),oe.has(o)&&(o.HTMLElement.prototype.focus=oe.get(o).focus,n.removeEventListener("keydown",$e,!0),n.removeEventListener("keyup",$e,!0),n.removeEventListener("click",rt,!0),o.removeEventListener("focus",lt,!0),o.removeEventListener("blur",it,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",M,!0),n.removeEventListener("pointermove",M,!0),n.removeEventListener("pointerup",M,!0)):(n.removeEventListener("mousedown",M,!0),n.removeEventListener("mousemove",M,!0),n.removeEventListener("mouseup",M,!0)),oe.delete(o))};function uo(e){const t=ne(e);let o;return t.readyState!=="loading"?Ve(e):(o=()=>{Ve(e)},t.addEventListener("DOMContentLoaded",o)),()=>at(e,o)}typeof document<"u"&&uo();function fo(){return q!=="pointer"}function po(){return q}function mo(e){let{isDisabled:t,onBlurWithin:o,onFocusWithin:n,onFocusWithinChange:r}=e,a=p.useRef({isFocusWithin:!1}),i=p.useCallback(c=>{a.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(a.current.isFocusWithin=!1,o&&o(c),r&&r(!1))},[o,r,a]),l=ao(i),f=p.useCallback(c=>{!a.current.isFocusWithin&&document.activeElement===c.target&&(n&&n(c),r&&r(!0),a.current.isFocusWithin=!0,l(c))},[n,r,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:i}}}let be=!1,Te=0;function Oe(){be=!0,setTimeout(()=>{be=!1},50)}function Ye(e){e.pointerType==="touch"&&Oe()}function vo(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ye):document.addEventListener("touchend",Oe),Te++,()=>{Te--,!(Te>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ye):document.removeEventListener("touchend",Oe))}}function st(e){let{onHoverStart:t,onHoverChange:o,onHoverEnd:n,isDisabled:r}=e,[a,i]=p.useState(!1),l=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(vo,[]);let{hoverProps:f,triggerHoverEnd:c}=p.useMemo(()=>{let u=(s,d)=>{if(l.pointerType=d,r||d==="touch"||l.isHovered||!s.currentTarget.contains(s.target))return;l.isHovered=!0;let b=s.currentTarget;l.target=b,t&&t({type:"hoverstart",target:b,pointerType:d}),o&&o(!0),i(!0)},m=(s,d)=>{if(l.pointerType="",l.target=null,d==="touch"||!l.isHovered)return;l.isHovered=!1;let b=s.currentTarget;n&&n({type:"hoverend",target:b,pointerType:d}),o&&o(!1),i(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=s=>{be&&s.pointerType==="mouse"||u(s,s.pointerType)},v.onPointerLeave=s=>{!r&&s.currentTarget.contains(s.target)&&m(s,s.pointerType)}):(v.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=s=>{!l.ignoreEmulatedMouseEvents&&!be&&u(s,"mouse"),l.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=s=>{!r&&s.currentTarget.contains(s.target)&&m(s,"mouse")}),{hoverProps:v,triggerHoverEnd:m}},[t,o,n,r,l]);return p.useEffect(()=>{r&&c({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:f,isHovered:a}}function $o(e){let{ref:t,onInteractOutside:o,isDisabled:n,onInteractOutsideStart:r}=e,a=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=Ce(f=>{o&&de(f,t)&&(r&&r(f),a.current.isPointerDown=!0)}),l=Ce(f=>{o&&o(f)});p.useEffect(()=>{let f=a.current;if(n)return;const c=t.current,u=ne(c);if(typeof PointerEvent<"u"){let m=v=>{f.isPointerDown&&de(v,t)&&l(v),f.isPointerDown=!1};return u.addEventListener("pointerdown",i,!0),u.addEventListener("pointerup",m,!0),()=>{u.removeEventListener("pointerdown",i,!0),u.removeEventListener("pointerup",m,!0)}}else{let m=s=>{f.ignoreEmulatedMouseEvents?f.ignoreEmulatedMouseEvents=!1:f.isPointerDown&&de(s,t)&&l(s),f.isPointerDown=!1},v=s=>{f.ignoreEmulatedMouseEvents=!0,f.isPointerDown&&de(s,t)&&l(s),f.isPointerDown=!1};return u.addEventListener("mousedown",i,!0),u.addEventListener("mouseup",m,!0),u.addEventListener("touchstart",i,!0),u.addEventListener("touchend",v,!0),()=>{u.removeEventListener("mousedown",i,!0),u.removeEventListener("mouseup",m,!0),u.removeEventListener("touchstart",i,!0),u.removeEventListener("touchend",v,!0)}}},[t,n,i,l])}function de(e,t){if(e.button>0)return!1;if(e.target){const o=e.target.ownerDocument;if(!o||!o.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function bo(e,t){let o=qt(e,{labelable:!0}),{hoverProps:n}=st({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:B(o,n,{role:"tooltip"})}}function go(e,t,o){let{isDisabled:n,trigger:r}=e,a=Ut(),i=p.useRef(!1),l=p.useRef(!1),f=()=>{(i.current||l.current)&&t.open(l.current)},c=g=>{!i.current&&!l.current&&t.close(g)};p.useEffect(()=>{let g=h=>{o&&o.current&&h.key==="Escape"&&(h.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[o,t]);let u=()=>{r!=="focus"&&(po()==="pointer"?i.current=!0:i.current=!1,f())},m=()=>{r!=="focus"&&(l.current=!1,i.current=!1,c())},v=()=>{l.current=!1,i.current=!1,c(!0)},s=()=>{fo()&&(l.current=!0,f())},d=()=>{l.current=!1,i.current=!1,c(!0)},{hoverProps:b}=st({isDisabled:n,onHoverStart:u,onHoverEnd:m}),{focusableProps:$}=Wt({isDisabled:n,onFocus:s,onBlur:d},o);return{triggerProps:{"aria-describedby":t.isOpen?a:void 0,...B($,b,{onPointerDown:v,onKeyDown:v})},tooltipProps:{id:a}}}const X={top:"top",bottom:"top",left:"left",right:"left"},ge={top:"bottom",bottom:"top",left:"right",right:"left"},ho={top:"left",left:"top"},Me={top:"height",left:"width"},ct={width:"totalWidth",height:"totalHeight"},fe={};let L=typeof document<"u"&&window.visualViewport;function Xe(e){let t=0,o=0,n=0,r=0,a=0,i=0,l={},f=(L==null?void 0:L.scale)>1;if(e.tagName==="BODY"){let m=document.documentElement;n=m.clientWidth,r=m.clientHeight;var c;t=(c=L==null?void 0:L.width)!==null&&c!==void 0?c:n;var u;o=(u=L==null?void 0:L.height)!==null&&u!==void 0?u:r,l.top=m.scrollTop||e.scrollTop,l.left=m.scrollLeft||e.scrollLeft,L&&(a=L.offsetTop,i=L.offsetLeft)}else({width:t,height:o,top:a,left:i}=Z(e)),l.top=e.scrollTop,l.left=e.scrollLeft,n=t,r=o;return eo()&&(e.tagName==="BODY"||e.tagName==="HTML")&&f&&(l.top=0,l.left=0,a=L.pageTop,i=L.pageLeft),{width:t,height:o,totalWidth:n,totalHeight:r,scroll:l,top:a,left:i}}function wo(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Ge(e,t,o,n,r,a,i){let l=r.scroll[e],f=n[Me[e]],c=n.scroll[X[e]]+a,u=f+n.scroll[X[e]]-a,m=t-l+i[e]-n[X[e]],v=t-l+o+i[e]-n[X[e]];return m<c?c-m:v>u?Math.max(u-v,c-m):0}function Eo(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Ze(e){if(fe[e])return fe[e];let[t,o]=e.split(" "),n=X[t]||"right",r=ho[n];X[o]||(o="center");let a=Me[n],i=Me[r];return fe[e]={placement:t,crossPlacement:o,axis:n,crossAxis:r,size:a,crossSize:i},fe[e]}function ye(e,t,o,n,r,a,i,l,f,c){let{placement:u,crossPlacement:m,axis:v,crossAxis:s,size:d,crossSize:b}=n,$={};$[s]=e[s],m==="center"?$[s]+=(e[b]-o[b])/2:m!==s&&($[s]+=e[b]-o[b]),$[s]+=a;const g=e[s]-o[b]+f+c,h=e[s]+e[b]-f-c;if($[s]=Le($[s],g,h),u===v){const T=l?i[d]:t[ct[d]];$[ge[v]]=Math.floor(T-e[v]+r)}else $[v]=Math.floor(e[v]+e[d]+r);return $}function To(e,t,o,n,r,a,i,l){const f=n?o.height:t[ct.height];let c=e.top!=null?o.top+e.top:o.top+(f-e.bottom-i),u=l!=="top"?Math.max(0,t.height+t.top+t.scroll.top-c-(r.top+r.bottom+a)):Math.max(0,c+i-(t.top+t.scroll.top)-(r.top+r.bottom+a));return Math.min(t.height-a*2,u)}function qe(e,t,o,n,r,a){let{placement:i,axis:l,size:f}=a;return i===l?Math.max(0,o[l]-e[l]-e.scroll[l]+t[l]-n[l]-n[ge[l]]-r):Math.max(0,e[f]+e[l]+e.scroll[l]-t[l]-o[l]-o[f]-n[l]-n[ge[l]]-r)}function yo(e,t,o,n,r,a,i,l,f,c,u,m,v,s,d,b){let $=Ze(e),{size:g,crossAxis:h,crossSize:T,placement:y,crossPlacement:C}=$,w=ye(t,l,o,$,u,m,c,v,d,b),k=u,P=qe(l,c,t,r,a+u,$);if(i&&n[g]>P){let Q=Ze(`${ge[y]} ${C}`),_=ye(t,l,o,Q,u,m,c,v,d,b);qe(l,c,t,r,a+u,Q)>P&&($=Q,w=_,k=u)}let x="bottom";$.axis==="top"?$.placement==="top"?x="top":$.placement==="bottom"&&(x="bottom"):$.crossAxis==="top"&&($.crossPlacement==="top"?x="bottom":$.crossPlacement==="bottom"&&(x="top"));let O=Ge(h,w[h],o[T],l,f,a,c);w[h]+=O;let H=To(w,l,c,v,r,a,o.height,x);s&&s<H&&(H=s),o.height=Math.min(o.height,H),w=ye(t,l,o,$,k,m,c,v,d,b),O=Ge(h,w[h],o[T],l,f,a,c),w[h]+=O;let A={},he=t[h]+.5*t[T]-w[h];const re=d/2+b,we=o[T]-d/2-b,W=t[h]-w[h]+d/2,Ee=t[h]+t[T]-w[h]-d/2,J=Le(he,W,Ee);return A[h]=Le(J,re,we),{position:w,maxHeight:H,arrowOffsetLeft:A.left,arrowOffsetTop:A.top,placement:$.placement}}function Po(e){let{placement:t,targetNode:o,overlayNode:n,scrollNode:r,padding:a,shouldFlip:i,boundaryElement:l,offset:f,crossOffset:c,maxHeight:u,arrowSize:m=0,arrowBoundaryOffset:v=0}=e,s=n instanceof HTMLElement?xo(n):document.documentElement,d=s===document.documentElement;const b=window.getComputedStyle(s).position;let $=!!b&&b!=="static",g=d?Z(o):Je(o,s);if(!d){let{marginTop:P,marginLeft:x}=window.getComputedStyle(o);g.top+=parseInt(P,10)||0,g.left+=parseInt(x,10)||0}let h=Z(n),T=Eo(n);h.width+=T.left+T.right,h.height+=T.top+T.bottom;let y=wo(r),C=Xe(l),w=Xe(s),k=l.tagName==="BODY"?Z(s):Je(s,l);return s.tagName==="HTML"&&l.tagName==="BODY"&&(w.scroll.top=0,w.scroll.left=0),yo(t,g,h,y,T,a,i,C,w,k,f,c,$,u,m,v)}function Z(e){let{top:t,left:o,width:n,height:r}=e.getBoundingClientRect(),{scrollTop:a,scrollLeft:i,clientTop:l,clientLeft:f}=document.documentElement;return{top:t+a-l,left:o+i-f,width:n,height:r}}function Je(e,t){let o=window.getComputedStyle(e),n;if(o.position==="fixed"){let{top:r,left:a,width:i,height:l}=e.getBoundingClientRect();n={top:r,left:a,width:i,height:l}}else{n=Z(e);let r=Z(t),a=window.getComputedStyle(t);r.top+=(parseInt(a.borderTopWidth,10)||0)-t.scrollTop,r.left+=(parseInt(a.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=r.top,n.left-=r.left}return n.top-=parseInt(o.marginTop,10)||0,n.left-=parseInt(o.marginLeft,10)||0,n}function xo(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!Qe(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!Qe(t);)t=t.parentElement;return t||document.documentElement}function Qe(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Lo=new WeakMap;function Co(e){let{triggerRef:t,isOpen:o,onClose:n}=e;p.useEffect(()=>{if(!o||n===null)return;let r=a=>{let i=a.target;if(!t.current||i instanceof Node&&!i.contains(t.current))return;let l=n||Lo.get(t.current);l&&l()};return window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("scroll",r,!0)}},[o,n,t])}let E=typeof document<"u"&&window.visualViewport;function Ho(e){let{direction:t}=wt(),{arrowSize:o=0,targetRef:n,overlayRef:r,scrollRef:a=r,placement:i="bottom",containerPadding:l=12,shouldFlip:f=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:u=0,crossOffset:m=0,shouldUpdatePosition:v=!0,isOpen:s=!0,onClose:d,maxHeight:b,arrowBoundaryOffset:$=0}=e,[g,h]=p.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),T=[v,i,r.current,n.current,a.current,l,f,c,u,m,s,t,b,$,o],y=p.useRef(E==null?void 0:E.scale);p.useEffect(()=>{s&&(y.current=E==null?void 0:E.scale)},[s]);let C=p.useCallback(()=>{if(v===!1||!s||!r.current||!n.current||!a.current||!c||(E==null?void 0:E.scale)!==y.current)return;let P=r.current;if(!b&&r.current){var x;P.style.top="0px",P.style.bottom="";var O;P.style.maxHeight=((O=(x=window.visualViewport)===null||x===void 0?void 0:x.height)!==null&&O!==void 0?O:window.innerHeight)+"px"}let H=Po({placement:Oo(i,t),overlayNode:r.current,targetNode:n.current,scrollNode:a.current,padding:l,shouldFlip:f,boundaryElement:c,offset:u,crossOffset:m,maxHeight:b,arrowSize:o,arrowBoundaryOffset:$});P.style.top="",P.style.bottom="",Object.keys(H.position).forEach(A=>P.style[A]=H.position[A]+"px"),P.style.maxHeight=H.maxHeight!=null?H.maxHeight+"px":void 0,h(H)},T);K(C,T),So(C),ro({ref:r,onResize:C});let w=p.useRef(!1);K(()=>{let P,x=()=>{w.current=!0,clearTimeout(P),P=setTimeout(()=>{w.current=!1},500),C()},O=()=>{w.current&&x()};return E==null||E.addEventListener("resize",x),E==null||E.addEventListener("scroll",O),()=>{E==null||E.removeEventListener("resize",x),E==null||E.removeEventListener("scroll",O)}},[C]);let k=p.useCallback(()=>{w.current||d()},[d,w]);return Co({triggerRef:n,isOpen:s,onClose:d&&k}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...g.position,maxHeight:g.maxHeight}},placement:g.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:g.arrowOffsetLeft,top:g.arrowOffsetTop}},updatePosition:C}}function So(e){K(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function Oo(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const R=[];function Mo(e,t){let{onClose:o,shouldCloseOnBlur:n,isOpen:r,isDismissable:a=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:l}=e;p.useEffect(()=>(r&&R.push(t),()=>{let d=R.indexOf(t);d>=0&&R.splice(d,1)}),[r,t]);let f=()=>{R[R.length-1]===t&&o&&o()},c=d=>{(!l||l(d.target))&&R[R.length-1]===t&&(d.stopPropagation(),d.preventDefault())},u=d=>{(!l||l(d.target))&&(R[R.length-1]===t&&(d.stopPropagation(),d.preventDefault()),f())},m=d=>{d.key==="Escape"&&!i&&!d.nativeEvent.isComposing&&(d.stopPropagation(),d.preventDefault(),f())};$o({ref:t,onInteractOutside:a&&r?u:null,onInteractOutsideStart:c});let{focusWithinProps:v}=mo({isDisabled:!n,onBlurWithin:d=>{!d.relatedTarget||Et(d.relatedTarget)||(!l||l(d.relatedTarget))&&o()}}),s=d=>{d.target===d.currentTarget&&d.preventDefault()};return{overlayProps:{onKeyDown:m,...v},underlayProps:{onPointerDown:s}}}const Pe=typeof document<"u"&&window.visualViewport,Do=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let pe=0,xe;function Io(e={}){let{isDisabled:t}=e;K(()=>{if(!t)return pe++,pe===1&&(_t()?xe=ko():xe=Ro()),()=>{pe--,pe===0&&xe()}},[t])}function Ro(){return ve(G(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),G(document.documentElement,"overflow","hidden"))}function ko(){let e,t,o=c=>{e=nt(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=G(e,"overscrollBehavior","contain"))},n=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},r=c=>{let u=c.target;et(u)&&u!==document.activeElement&&(c.preventDefault(),l(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""})),t&&t()},a=c=>{let u=c.target;et(u)&&(l(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",Pe&&(Pe.height<window.innerHeight?requestAnimationFrame(()=>{_e(u)}):Pe.addEventListener("resize",()=>_e(u),{once:!0}))}))},i=null,l=()=>{if(i)return;let c=()=>{window.scrollTo(0,0)},u=window.pageXOffset,m=window.pageYOffset;i=ve(te(window,"scroll",c),G(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),G(document.documentElement,"overflow","hidden"),G(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(u,m)}),window.scrollTo(0,0)},f=ve(te(document,"touchstart",o,{passive:!1,capture:!0}),te(document,"touchmove",n,{passive:!1,capture:!0}),te(document,"touchend",r,{passive:!1,capture:!0}),te(document,"focus",a,!0));return()=>{t==null||t(),i==null||i(),f()}}function G(e,t,o){let n=e.style[t];return e.style[t]=o,()=>{e.style[t]=n}}function te(e,t,o,n){return e.addEventListener(t,o,n),()=>{e.removeEventListener(t,o,n)}}function _e(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let o=nt(e);if(o!==document.documentElement&&o!==document.body&&o!==e){let n=o.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>n+e.clientHeight&&(o.scrollTop+=r-n)}e=o.parentElement}}function et(e){return e instanceof HTMLInputElement&&!Do.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const De=F.createContext(null);function Ao(e){let{children:t}=e,o=p.useContext(De),[n,r]=p.useState(0),a=p.useMemo(()=>({parent:o,modalCount:n,addModal(){r(i=>i+1),o&&o.addModal()},removeModal(){r(i=>i-1),o&&o.removeModal()}}),[o,n]);return F.createElement(De.Provider,{value:a},t)}function Fo(){let e=p.useContext(De);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function Wo(e){let{modalProviderProps:t}=Fo();return F.createElement("div",{"data-overlay-container":!0,...e,...t})}function No(e){return F.createElement(Ao,null,F.createElement(Wo,e))}function tt(e){let t=Tt(),{portalContainer:o=t?null:document.body,...n}=e;if(F.useEffect(()=>{if(o!=null&&o.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[o]),!o)return null;let r=F.createElement(No,n);return bt.createPortal(r,o)}function zo(e){var t,o;const n=yt(),[r,a]=Pt(e,je.variantKeys),{ref:i,as:l,isOpen:f,content:c,children:u,defaultOpen:m,onOpenChange:v,isDisabled:s,trigger:d,shouldFlip:b=!0,containerPadding:$=12,placement:g="top",delay:h=0,closeDelay:T=500,showArrow:y=!1,offset:C=7,crossOffset:w=0,isDismissable:k,shouldCloseOnBlur:P=!0,portalContainer:x,isKeyboardDismissDisabled:O=!1,updatePositionDeps:H=[],shouldCloseOnInteractOutside:A,className:he,onClose:re,motionProps:we,classNames:W,shouldBlockScroll:Ee=!0,...J}=r,Q=l||"div",_=(o=(t=e==null?void 0:e.disableAnimation)!=null?t:n==null?void 0:n.disableAnimation)!=null?o:!1,V=Bt({delay:h,closeDelay:T,isDisabled:s,defaultOpen:m,isOpen:f,onOpenChange:N=>{v==null||v(N),N||re==null||re()}}),le=p.useRef(null),ie=p.useRef(null),ae=p.useId(),D=V.isOpen&&!s;p.useImperativeHandle(i,()=>xt(ie)),Io({isDisabled:!(Ee&&D)});const{triggerProps:Ae,tooltipProps:dt}=go({isDisabled:s,trigger:d},V,le),{tooltipProps:Fe}=bo({isOpen:D,...B(r,dt)},V),{overlayProps:We,placement:se,updatePosition:ft}=Ho({isOpen:D,targetRef:le,placement:Ot(g),overlayRef:ie,offset:y?C+3:C,crossOffset:w,shouldFlip:b,containerPadding:$});Lt(()=>{H.length&&ft()},H);const{overlayProps:Ne}=Mo({isOpen:D,onClose:V.close,isDismissable:k,shouldCloseOnBlur:P,isKeyboardDismissDisabled:O,shouldCloseOnInteractOutside:A},ie),ce=p.useMemo(()=>{var N,ue,ze;return je({...a,disableAnimation:_,radius:(N=e==null?void 0:e.radius)!=null?N:"md",size:(ue=e==null?void 0:e.size)!=null?ue:"md",shadow:(ze=e==null?void 0:e.shadow)!=null?ze:"sm"})},[Ct(a),_,e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),pt=p.useCallback((N={},ue=null)=>({...B(Ae,N),ref:Ht(ue,le),"aria-describedby":D?ae:void 0}),[Ae,D,ae,V]),mt=p.useCallback(()=>({ref:ie,"data-slot":"base","data-open":Y(D),"data-arrow":Y(y),"data-disabled":Y(s),"data-placement":Be(se,g),...B(Fe,Ne,J),style:B(We.style,J.style,r.style),className:ce.base({class:W==null?void 0:W.base}),id:ae}),[ce,D,y,s,se,g,Fe,Ne,J,We,r,ae]),vt=p.useCallback(()=>({"data-slot":"content","data-open":Y(D),"data-arrow":Y(y),"data-disabled":Y(s),"data-placement":Be(se,g),className:ce.content({class:St(W==null?void 0:W.content,he)})}),[ce,D,y,s,se,g,W]);return{Component:Q,content:c,children:u,isOpen:D,triggerRef:le,showArrow:y,portalContainer:x,placement:g,disableAnimation:_,isDisabled:s,motionProps:we,getTooltipContentProps:vt,getTriggerProps:pt,getTooltipProps:mt}}var ut=Mt((e,t)=>{const{Component:o,children:n,content:r,isOpen:a,portalContainer:i,placement:l,disableAnimation:f,motionProps:c,getTriggerProps:u,getTooltipProps:m,getTooltipContentProps:v}=zo({...e,ref:t});let s;try{if(p.Children.count(n)!==1)throw new Error;if(!p.isValidElement(n))s=S.jsx("p",{...u(),children:n});else{const y=n;s=p.cloneElement(y,u(y.props,y.ref))}}catch{s=S.jsx("span",{}),Nt("Tooltip must have only one child node. Please, check your code.")}const{ref:d,id:b,style:$,...g}=m(),h=S.jsx("div",{ref:d,id:b,style:$,children:S.jsx(Dt,{features:It,children:S.jsx(Rt.div,{animate:"enter",exit:"exit",initial:"exit",variants:kt.scaleSpring,...B(c,g),style:{...At(l)},children:S.jsx(o,{...v(),children:r})})})});return S.jsxs(S.Fragment,{children:[s,f&&a?S.jsx(tt,{portalContainer:i,children:S.jsx("div",{ref:d,id:b,style:$,...g,children:S.jsx(o,{...v(),children:r})})}):S.jsx(Ft,{children:a?S.jsx(tt,{portalContainer:i,children:h}):null})]})});ut.displayName="NextUI.Tooltip";var Vo=ut;export{Vo as t};
