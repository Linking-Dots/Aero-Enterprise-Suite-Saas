import{a9 as Re,r as f,y as Fe,k as Ie,u as De,l as We,m as Be,i as ie,K as Le,$ as ye,z as je,A as Me,B as Ge,ac as Ue,C as Se,b as r,j as e,F as z,h as _e,e as Oe,c as ze,J as qe,R as ge,Q as Je}from"./app-CFP6hyYs.js";import{E as ae}from"./Edit-CUnlRUh9.js";import{bb as Ve,bc as He,u as ee,T as W,I as U,f as a,B as X,Q as q,n as L,e as K,m as te,as as Ke,ap as Xe,aq as Ye,ar as Ze,F as Qe,bd as er,d as rr,au as ar,V as tr,c as nr,at as ir,S as or,W as Ne,be as lr,bf as sr,bg as dr,bh as cr,G as pr,A as ur}from"./App-D6An07Kr.js";import{C as be}from"./Clear-B5Cn131E.js";import{G as oe}from"./GlassDialog-BpMvQG8W.js";import{D as le}from"./DialogTitle-CuQhO8kb.js";import{A as ve}from"./Avatar-CIDkXf5a.js";import{P as mr}from"./PhotoCamera-BaYWHwrM.js";import{T as B,F as me}from"./TextField-BXsOYBjR.js";import{I as J}from"./InputLabel-iYTjAW9D.js";import{S as V}from"./Select-Du8X2Jnk.js";import{M as A}from"./MenuItem-CGyUvAUg.js";import{b as se,c as de}from"./DialogContent-BtQ3vICj.js";import{L as re}from"./LoadingButton-11nymGf5.js";import{C as he}from"./CircularProgress-CFRIP969.js";import{C as H}from"./CardContent-BA1RRosM.js";import{C as fe}from"./Clear-5gemzr05.js";import{B as Ce}from"./Button-MN0ZW-Kq.js";import{A as Te}from"./Add-DyZQ5rWw.js";import{C as Q}from"./CardHeader-KMGBGer1.js";import{I as hr}from"./InputAdornment-B-UXkLB0.js";import{D as ce}from"./Divider-BZcpBGrc.js";import{C as br}from"./CardActions-B06JB2sn.js";import{c as gr}from"./chunk-MZRCPRP2-DWGhMUGC.js";import{F as xr,a as fr}from"./PencilIcon-BF3p_yc2.js";import{u as _r}from"./index-ouqr88SY.js";import{$ as yr}from"./NumberFormatter-DNR9MAW-.js";import{F as we}from"./ExclamationTriangleIcon-CRuJlVxF.js";import{F as vr}from"./TrophyIcon-DFXO0gP9.js";import{c as Cr}from"./chunk-D5XJWRAV-uH3KDZFl.js";import{F as kr}from"./XCircleIcon--Ts0rzjR.js";import{F as Sr}from"./CheckCircleIcon-AZmqMBxU.js";import{F as Nr}from"./EyeIcon-DgjWumnb.js";import{F as wr}from"./TrashIcon-BZfJHKgb.js";import{a as ne}from"./List-D9MzT9Av.js";import{L as E,a as S}from"./ListItemText-Dn-QRtmp.js";import{T as Pr,a as xe}from"./Tabs-90w37j5_.js";import"./app-CA3O2NZp.js";import"./useSlot-CUo2w1xl.js";import"./Popover-D8TPN1sn.js";import"./listItemTextClasses-BZGV-Gs5.js";import"./dividerClasses-BZroorQj.js";import"./KeyboardArrowRight-nHGE5iic.js";function Fr(t={}){let{locale:F}=Re();return f.useMemo(()=>new yr(F,t),[F,t])}var Pe=Fe({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden rtl:rotate-180",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient-default bg-stripe-size"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}},{color:"primary",isStriped:!0,class:{indicator:"bg-stripe-gradient-primary bg-stripe-size"}},{color:"secondary",isStriped:!0,class:{indicator:"bg-stripe-gradient-secondary bg-stripe-size"}},{color:"success",isStriped:!0,class:{indicator:"bg-stripe-gradient-success bg-stripe-size"}},{color:"warning",isStriped:!0,class:{indicator:"bg-stripe-gradient-warning bg-stripe-size"}},{color:"danger",isStriped:!0,class:{indicator:"bg-stripe-gradient-danger bg-stripe-size"}}]},{twMerge:!0});Fe({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});var $e=Ie((t,F)=>{var x;const{as:N,className:p,children:i,...b}=t,v=N||"div",_=De(F),{slots:w,classNames:c}=We(),C=Be(c==null?void 0:c.footer,p);return ie.jsx(v,{ref:_,className:(x=w.footer)==null?void 0:x.call(w,{class:C}),...b,children:i})});$e.displayName="HeroUI.CardFooter";var Ir=$e;function Dr(t){let{value:F=0,minValue:x=0,maxValue:N=100,valueLabel:p,isIndeterminate:i,formatOptions:b={style:"percent"}}=t,v=Le(t,{labelable:!0}),{labelProps:_,fieldProps:w}=Ve({...t,labelElementType:"span"});F=He(F,x,N);let c=(F-x)/(N-x),C=Fr(b);if(!i&&!p){let P=b.style==="percent"?c:F;p=C.format(P)}return{progressBarProps:ye(v,{...w,"aria-valuenow":i?void 0:F,"aria-valuemin":x,"aria-valuemax":N,"aria-valuetext":i?void 0:p,role:"progressbar"}),labelProps:_}}function Br(t){var F,x;const N=je(),[p,i]=Me(t,Pe.variantKeys),{ref:b,as:v,id:_,className:w,classNames:c,label:C,valueLabel:P,value:h=0,minValue:d=0,maxValue:o=100,showValueLabel:T=!1,formatOptions:u={style:"percent"},...s}=p,l=v||"div",n=De(b),g=Be(c==null?void 0:c.base,w),[,$]=_r({rerender:!0,delay:100}),I=t.isIndeterminate,j=(x=(F=t.disableAnimation)!=null?F:N==null?void 0:N.disableAnimation)!=null?x:!1,{progressBarProps:m,labelProps:M}=Dr({id:_,label:C,value:h,minValue:d,maxValue:o,valueLabel:P,formatOptions:u,isIndeterminate:I,"aria-labelledby":t["aria-labelledby"],"aria-label":t["aria-label"]}),y=f.useMemo(()=>Pe({...i,disableAnimation:j}),[Ge(i),j]),Y=j?!0:$,k=f.useMemo(()=>I||!Y?void 0:Ue((h-d)/(o-d)*100),[Y,I,h,d,o]),G=f.useCallback((O={})=>({ref:n,"data-indeterminate":Se(I),"data-disabled":Se(t.isDisabled),className:y.base({class:g}),...ye(m,s,O)}),[n,y,I,t.isDisabled,g,m,s]),R=f.useCallback((O={})=>({className:y.label({class:c==null?void 0:c.label}),...ye(M,O)}),[y,c,M]);return{Component:l,domRef:n,slots:y,classNames:c,label:C,percentage:k,showValueLabel:T,getProgressBarProps:G,getLabelProps:R}}var Ee=Ie((t,F)=>{const{Component:x,slots:N,classNames:p,label:i,percentage:b,showValueLabel:v,getProgressBarProps:_,getLabelProps:w}=Br({...t,ref:F}),c=_(),C=i||v;return ie.jsxs(x,{...c,children:[C?ie.jsxs("div",{className:N.labelWrapper({class:p==null?void 0:p.labelWrapper}),children:[i&&ie.jsx("span",{...w(),children:i}),v&&ie.jsx("span",{className:N.value({class:p==null?void 0:p.value}),children:c["aria-valuetext"]})]}):null,ie.jsx("div",{className:N.track({class:p==null?void 0:p.track}),children:ie.jsx("div",{className:N.indicator({class:p==null?void 0:p.indicator}),style:{transform:`translateX(-${100-(b||0)}%)`}})})]})});Ee.displayName="HeroUI.Progress";var Tr=Ee;function $r({title:t,titleId:F,...x},N){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:N,"aria-labelledby":F},x),t?f.createElement("title",{id:F},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Er=f.forwardRef($r);function Ar({title:t,titleId:F,...x},N){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:N,"aria-labelledby":F},x),t?f.createElement("title",{id:F},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Rr=f.forwardRef(Ar),Wr=({user:t,allUsers:F,departments:x,designations:N,setUser:p,open:i,closeModal:b})=>{const[v,_]=f.useState({id:t.id,name:t.name||"",gender:t.gender||"",birthday:t.birthday||"",date_of_joining:t.date_of_joining||"",address:t.address||"",employee_id:t.employee_id||"",phone:t.phone||"",email:t.email||"",department:t.department||"",designation:t.designation||"",report_to:t.report_to||""}),[w,c]=f.useState({id:t.id}),[C,P]=f.useState(!1),[h,d]=f.useState({}),[o,T]=f.useState(!1),[u,s]=f.useState(!1),[l,n]=f.useState(null),[g,$]=f.useState(N),[I,j]=f.useState(F),m=ee(),M=k=>{const G=k.target.files[0];if(G){const R=URL.createObjectURL(G);n(R);const O=new Promise(async(D,pe)=>{try{const Z=new FormData;if(Z.append("id",t.id),G){const Ae=G.type;if(["image/jpeg","image/jpg","image/png"].includes(Ae))Z.append("profile_image",G);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),pe("Invalid file type");return}}const ke=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:Z}),ue=await ke.json();ke.ok?(p(ue.user),T(!1),D([...ue.messages])):(T(!1),d(ue.errors),pe(ue.error||"Failed to update profile image."),console.error(ue.errors))}catch(Z){T(!1),console.error(Z),pe(Z.message||"An unexpected error occurred.")}});L.promise(O,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(he,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile image..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:D}){return e(z,{children:D.map((pe,Z)=>e("div",{children:pe},Z))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:D}){return e(z,{children:D})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}})}},y=(k,G)=>{_(R=>{const O={...R,[k]:G};return G===""&&delete O[k],O}),c(R=>{const O={...R,[k]:G};return G===""&&delete O[k],O})};return f.useEffect(()=>{t.department!==v.department&&(v.designation=null,v.report_to=null),$(N.filter(R=>R.department_id===(w.department||v.department))),j(F.filter(R=>R.department===(w.department||v.department)));const k={...w};for(const R in k)R!=="id"&&k[R]===t[R]&&delete k[R];const G=Object.keys(k).length>1;P(G)},[v,w]),r(oe,{open:i,onClose:b,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Profile Information"}),e(U,{variant:"outlined",color:"primary",onClick:b,sx:{position:"absolute",top:8,right:16},children:e(be,{})})]}),r("form",{onSubmit:async k=>{var G;k.preventDefault(),T(!0);try{const R=await axios.post(route("profile.update"),{ruleSet:"profile",...v});R.status===200&&(p(R.data.user),L.success(((G=R.data.messages)==null?void 0:G.length)>0?R.data.messages.join(" "):"Profile information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}),b())}catch(R){T(!1),R.response?(R.response.status===422?(d(R.response.data.errors||{}),L.error(R.response.data.error||"Failed to update profile information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}})):L.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}),console.error(R.response.data)):R.request?(L.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}),console.error(R.request)):(L.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}),console.error("Error",R.message))}finally{T(!1)}},children:[e(se,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:r(X,{position:"relative",display:"inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[e(ve,{alt:w.name||v.name,src:l||t.profile_image,sx:{width:100,height:100}}),u&&e(z,{children:e(X,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(U,{color:"primary",component:"span",children:e(mr,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:M}),e("label",{htmlFor:"upload-button",children:e(X,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Name",fullWidth:!0,value:w.name||v.name||"",onChange:k=>y("name",k.target.value),error:!!h.name,helperText:h.name})}),e(a,{item:!0,xs:12,md:6,children:r(q,{fullWidth:!0,children:[e(J,{id:"gender-label",children:"Gender"}),r(V,{labelId:"gender-label",value:w.gender||v.gender||"na",onChange:k=>y("gender",k.target.value),error:!!h.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{disabled:!0,value:"na",children:"Select Gender"}),e(A,{value:"Male",children:"Male"}),e(A,{value:"Female",children:"Female"})]}),e(me,{children:h.gender})]})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Birth Date",type:"date",fullWidth:!0,value:w.birthday||v.birthday||"",onChange:k=>y("birthday",k.target.value),InputLabelProps:{shrink:!0},error:!!h.birthday,helperText:h.birthday})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Joining Date",type:"date",fullWidth:!0,value:w.date_of_joining||v.date_of_joining||"",onChange:k=>y("date_of_joining",k.target.value),InputLabelProps:{shrink:!0},error:!!h.date_of_joining,helperText:h.date_of_joining})}),e(a,{item:!0,xs:12,children:e(B,{label:"Address",fullWidth:!0,value:w.address||v.address,onChange:k=>y("address",k.target.value),error:!!h.address,helperText:h.address})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Employee ID",fullWidth:!0,value:w.employee_id||v.employee_id||"",onChange:k=>y("employee_id",k.target.value),error:!!h.employee_id,helperText:h.employee_id})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Phone Number",fullWidth:!0,value:w.phone||v.phone,onChange:k=>y("phone",k.target.value),error:!!h.phone,helperText:h.phone})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Email Adress",fullWidth:!0,value:w.email||v.email,onChange:k=>y("email",k.target.value),error:!!h.email,helperText:h.email})}),e(a,{item:!0,xs:12,md:6,children:r(q,{fullWidth:!0,children:[e(J,{id:"department",children:"Department"}),r(V,{labelId:"department",onChange:k=>y("department",k.target.value),error:!!h.department,id:`department-select-${t.id}`,value:w.department||v.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select Department"}),x.map(k=>e(A,{value:k.id,children:k.name},k.id))]}),e(me,{children:h.department})]})}),e(a,{item:!0,xs:12,md:6,children:r(q,{fullWidth:!0,children:[e(J,{id:"designation",children:"Designation"}),r(V,{labelId:"designation",onChange:k=>y("designation",k.target.value),label:"Designation",error:!!h.designation,id:`designation-select-${t.id}`,value:w.designation||v.designation||"na",disabled:!t.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select Designation"}),g.map(k=>e(A,{value:k.id,children:k.title},k.id))]}),e(me,{children:h.designation})]})}),e(a,{item:!0,xs:12,md:6,children:r(q,{fullWidth:!0,children:[e(J,{id:"report_to",children:"Reports To"}),r(V,{labelId:"report_to",value:w.report_to||v.report_to,onChange:k=>y("report_to",k.target.value),label:"Reports To",error:!!h.report_to,disabled:t.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",children:"--"}),I.map(k=>e(A,{value:k.id,children:k.name},k.id))]}),e(me,{children:h.report_to})]})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!C,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:o,children:"Submit"})})]})]})},Lr=({user:t,setUser:F,open:x,closeModal:N})=>{const[p,i]=f.useState({id:t.id,passport_no:t.passport_no||"",passport_exp_date:t.passport_exp_date||"",nationality:t.nationality||"",religion:t.religion||"",marital_status:t.marital_status||"",employment_of_spouse:t.employment_of_spouse||"",number_of_children:t.number_of_children||"",nid:t.nid||""}),[b,v]=f.useState({id:t.id}),[_,w]=f.useState(!1),[c,C]=f.useState({}),[P,h]=f.useState(!1),d=ee(),o=(u,s)=>{i(l=>{const n={...l,[u]:s};return s===""&&delete n[u],u==="marital_status"&&s==="Single"&&(n.employment_of_spouse="",n.number_of_children=""),n}),v(l=>{const n={...l,[u]:s};return s===""&&delete n[u],u==="marital_status"&&s==="Single"&&(n.employment_of_spouse=null,n.number_of_children=null),n})};return f.useEffect(()=>{for(const s in b)s!=="id"&&b[s]===t[s]&&delete b[s];const u=Object.keys(b).filter(s=>s!=="id").length>0;w(u)},[p,b,t]),r(oe,{open:x,onClose:N,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Personal Information"}),e(U,{variant:"outlined",color:"primary",onClick:N,sx:{position:"absolute",top:8,right:16},children:e(be,{})})]}),r("form",{onSubmit:async u=>{var s;u.preventDefault(),h(!0);try{const l=await axios.post(route("profile.update"),{ruleSet:"personal",...p});l.status===200&&(F(l.data.user),L.success(((s=l.data.messages)==null?void 0:s.length)>0?l.data.messages.join(" "):"Personal information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),N())}catch(l){h(!1),l.response?(l.response.status===422?(C(l.response.data.errors||{}),L.error(l.response.data.error||"Failed to update personal information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):L.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.response.data)):l.request?(L.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.request)):(L.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",l.message))}finally{h(!1)}},children:[e(se,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Passport No",fullWidth:!0,value:b.passport_no||p.passport_no||"",onChange:u=>o("passport_no",u.target.value),error:!!c.passport_no,helperText:c.passport_no})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:b.passport_exp_date||p.passport_exp_date||"",onChange:u=>o("passport_exp_date",u.target.value),InputLabelProps:{shrink:!0},error:!!c.passport_exp_date,helperText:c.passport_exp_date})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"NID No",fullWidth:!0,value:b.nid||p.nid||"",onChange:u=>o("nid",u.target.value),error:!!c.nid,helperText:c.nid})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Nationality",fullWidth:!0,value:b.nationality||p.nationality||"",onChange:u=>o("nationality",u.target.value),error:!!c.nationality,helperText:c.nationality})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Religion",fullWidth:!0,value:b.religion||p.religion||"",onChange:u=>o("religion",u.target.value),error:!!c.religion,helperText:c.religion})}),e(a,{item:!0,xs:12,md:6,children:r(q,{fullWidth:!0,children:[e(J,{id:"marital-status-label",children:"Marital status"}),r(V,{labelId:"marital-status-label",value:b.marital_status||p.marital_status||"na",onChange:u=>o("marital_status",u.target.value),label:"Marital status",error:!!c.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",children:"-"}),e(A,{value:"Single",children:"Single"}),e(A,{value:"Married",children:"Married"})]}),e(me,{children:c.marital_status})]})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Employment of spouse",fullWidth:!0,value:b.marital_status==="Single"?"":b.employment_of_spouse||p.employment_of_spouse,onChange:u=>o("employment_of_spouse",u.target.value),error:!!c.employment_of_spouse,helperText:c.employment_of_spouse,disabled:b.marital_status==="Single"||p.marital_status==="Single"})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"No. of children",fullWidth:!0,type:"number",value:b.marital_status==="Single"?"":b.number_of_children||p.number_of_children,onChange:u=>o("number_of_children",u.target.value),error:!!c.number_of_children,helperText:c.number_of_children,disabled:b.marital_status==="Single"||p.marital_status==="Single"})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!_,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},jr=({user:t,setUser:F,open:x,closeModal:N})=>{const[p,i]=f.useState({id:t.id,emergency_contact_primary_name:t.emergency_contact_primary_name||"",emergency_contact_primary_relationship:t.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:t.emergency_contact_primary_phone||"",emergency_contact_secondary_name:t.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:t.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:t.emergency_contact_secondary_phone||""}),[b,v]=f.useState({id:t.id}),[_,w]=f.useState(!1),[c,C]=f.useState({}),[P,h]=f.useState(!1),d=ee(),o=(u,s)=>{i(l=>{const n={...l,[u]:s};return s===""&&delete n[u],n}),v(l=>{const n={...l,[u]:s};return s===""&&delete n[u],n})};return f.useEffect(()=>{for(const s in b)s!=="id"&&b[s]===t[s]&&delete b[s];const u=Object.keys(b).filter(s=>s!=="id").length>0;w(u)},[p,b,t]),r(oe,{open:x,onClose:N,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Personal Information"}),e(U,{variant:"outlined",color:"primary",onClick:N,sx:{position:"absolute",top:8,right:16},children:e(be,{})})]}),r("form",{onSubmit:async u=>{var s;u.preventDefault(),h(!0);try{const l=await axios.post(route("profile.update"),{ruleSet:"emergency",...p});l.status===200&&(F(l.data.user),L.success(((s=l.data.messages)==null?void 0:s.length)>0?l.data.messages.join(" "):"Emergency contact updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),N())}catch(l){h(!1),l.response?(l.response.status===422?(C(l.response.data.errors||{}),L.error(l.response.data.error||"Failed to update emergency contact.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):L.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.response.data)):l.request?(L.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.request)):(L.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",l.message))}finally{h(!1)}},children:[e(se,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,children:e(K,{children:r(H,{children:[e(W,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Name",required:!0,fullWidth:!0,value:b.emergency_contact_primary_name||p.emergency_contact_primary_name||"",onChange:u=>o("emergency_contact_primary_name",u.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Relationship",required:!0,fullWidth:!0,value:b.emergency_contact_primary_relationship||p.emergency_contact_primary_relationship||"",onChange:u=>o("emergency_contact_primary_relationship",u.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Phone",required:!0,fullWidth:!0,value:b.emergency_contact_primary_phone||p.emergency_contact_primary_phone||"",onChange:u=>o("emergency_contact_primary_phone",u.target.value),error:!!c.bank_name,helperText:c.bank_name})})]})]})})}),e(a,{item:!0,xs:12,children:e(K,{children:r(H,{children:[e(W,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Name",fullWidth:!0,value:b.emergency_contact_secondary_name||p.emergency_contact_secondary_name||"",onChange:u=>o("emergency_contact_secondary_name",u.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Relationship",fullWidth:!0,value:b.emergency_contact_secondary_relationship||p.emergency_contact_secondary_relationship||"",onChange:u=>o("emergency_contact_secondary_relationship",u.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Phone",fullWidth:!0,value:b.emergency_contact_secondary_phone||p.emergency_contact_secondary_phone||"",onChange:u=>o("emergency_contact_secondary_phone",u.target.value),error:!!c.bank_name,helperText:c.bank_name})})]})]})})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!_,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Mr=({user:t,setUser:F,open:x,closeModal:N})=>{const[p,i]=f.useState({id:t.id,bank_name:t.bank_name||"",bank_account_no:t.bank_account_no||"",ifsc_code:t.ifsc_code||"",pan_no:t.pan_no||""}),[b,v]=f.useState({id:t.id}),[_,w]=f.useState(!1),[c,C]=f.useState({}),[P,h]=f.useState(!1),d=ee(),o=(u,s)=>{i(l=>{const n={...l,[u]:s};return s===""&&delete n[u],n}),v(l=>{const n={...l,[u]:s};return s===""&&delete n[u],n})};return f.useEffect(()=>{for(const s in b)s!=="id"&&b[s]===t[s]&&delete b[s];const u=Object.keys(b).filter(s=>s!=="id").length>0;w(u)},[p,b,t]),r(oe,{open:x,onClose:N,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Bank Information"}),e(U,{variant:"outlined",color:"primary",onClick:N,sx:{position:"absolute",top:8,right:16},children:e(be,{})})]}),r("form",{onSubmit:async u=>{var s;u.preventDefault(),h(!0);try{const l=await axios.post(route("profile.update"),{ruleSet:"bank",...p});l.status===200&&(F(l.data.user),C({}),L.success(((s=l.data.messages)==null?void 0:s.length)>0?l.data.messages.join(" "):"Bank information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),N())}catch(l){h(!1),l.response?(l.response.status===422?(C(l.response.data.errors||{}),L.error(l.response.data.error||"Failed to update bank information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):L.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.response.data)):l.request?(L.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(l.request)):(L.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",l.message))}finally{h(!1)}},children:[e(se,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,children:e(B,{label:"Bank Name",fullWidth:!0,value:b.bank_name||p.bank_name||"",onChange:u=>o("bank_name",u.target.value),error:!!c.bank_name,helperText:c.bank_name})}),e(a,{item:!0,xs:12,children:e(B,{size:"small",label:"Bank Account No.",fullWidth:!0,value:b.bank_account_no||p.bank_account_no||"",onChange:u=>o("bank_account_no",u.target.value),error:!!c.bank_account_no,helperText:c.bank_account_no})}),e(a,{item:!0,xs:12,children:e(B,{label:"IFSC Code",fullWidth:!0,value:b.ifsc_code||p.ifsc_code||"",onChange:u=>o("ifsc_code",u.target.value),error:!!c.ifsc_code,helperText:c.ifsc_code})}),e(a,{item:!0,xs:12,children:e(B,{label:"PAN No.",fullWidth:!0,value:b.pan_no||p.pan_no||"",onChange:u=>o("pan_no",u.target.value),error:!!c.pan_no,helperText:c.pan_no})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!_,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Gr=({user:t,open:F,closeModal:x,handleDelete:N,setUser:p})=>{const[i,b]=f.useState({id:t.id,family_member_name:t.family_member_name||"",family_member_relationship:t.family_member_relationship||"",family_member_dob:t.family_member_dob||"",family_member_phone:t.family_member_phone||""}),[v,_]=f.useState({id:t.id}),[w,c]=f.useState(!1),[C,P]=f.useState({}),[h,d]=f.useState(!1),o=ee(),T=(s,l)=>{b(n=>{const g={...n,[s]:l};return l===""&&delete g[s],g}),_(n=>{const g={...n,[s]:l};return l===""&&delete g[s],g})};return f.useEffect(()=>{for(const l in v)l!=="id"&&v[l]===t[l]&&delete v[l];const s=Object.keys(v).filter(l=>l!=="id").length>0;c(s)},[i,v,t]),r(oe,{open:F,onClose:x,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Family Member"}),e(U,{variant:"outlined",color:"primary",onClick:x,sx:{position:"absolute",top:8,right:16},children:e(be,{})})]}),r("form",{onSubmit:async s=>{var l;s.preventDefault(),d(!0);try{const n=await axios.post(route("profile.update"),{ruleSet:"family",...i});n.status===200&&(p(n.data.user),L.success(((l=n.data.messages)==null?void 0:l.length)>0?n.data.messages.join(" "):"Family information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),x())}catch(n){d(!1),n.response?(n.response.status===422?(P(n.response.data.errors||{}),L.error(n.response.data.error||"Failed to update family information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}})):L.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error(n.response.data)):n.request?(L.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error(n.request)):(L.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error("Error",n.message))}finally{d(!1)}},children:[e(se,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Name",fullWidth:!0,value:v.family_member_name||i.family_member_name||"",onChange:s=>T("family_member_name",s.target.value),error:!!C.family_member_name,helperText:C.family_member_name})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Relationship",fullWidth:!0,value:v.family_member_relationship||i.family_member_relationship||"",onChange:s=>T("family_member_relationship",s.target.value),error:!!C.family_member_relationship,helperText:C.family_member_relationship})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Date of Birth",fullWidth:!0,type:"date",value:v.family_member_dob||i.family_member_dob||"",onChange:s=>T("family_member_dob",s.target.value),InputLabelProps:{shrink:!0},error:!!C.family_member_dob,helperText:C.family_member_dob})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Phone",fullWidth:!0,value:v.family_member_phone||i.family_member_phone||"",onChange:s=>T("family_member_phone",s.target.value),error:!!C.family_member_phone,helperText:C.family_member_phone})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!w,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:h,children:"Submit"})})]})]})},Ur=({user:t,open:F,closeModal:x,setUser:N})=>{const[p,i]=f.useState({id:t.id}),[b,v]=f.useState(!1),[_,w]=f.useState(t.educations&&t.educations.length>0?t.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[c,C]=f.useState({}),[P,h]=f.useState(!1),d=ee(),o=(l,n,g)=>{const $=[..._];$[l]={...$[l],[n]:g},w($);const I=$.filter((m,M)=>{const y=t.educations[M]||{},Y=!y.id||m.institution!==y.institution||m.subject!==y.subject||m.degree!==y.degree||m.starting_date!==y.starting_date||m.complete_date!==y.complete_date||m.grade!==y.grade,k=y.id&&m.institution===y.institution&&m.subject===y.subject&&m.degree===y.degree&&m.starting_date===y.starting_date&&m.complete_date===y.complete_date&&m.grade===y.grade;return Y&&!k});i(m=>({...m,educations:[...I]}));const j=I.length>0;v(j)},T=async l=>{const n=_[l],g=_.filter(($,I)=>I!==l);if(w(g.length>0?g:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),n.id){const $=new Promise(async(I,j)=>{try{const m=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:t.id})}),M=await m.json();m.ok?(i(y=>({...y,educations:M.educations})),N(y=>({...y,educations:M.educations})),I(M.message||"Education record deleted successfully.")):(C(M.errors),console.error(M.errors),j(M.error||"Failed to delete education record."))}catch(m){j(m)}});L.promise($,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(he,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:I}){return e(z,{children:I})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:I}){return e(z,{children:I})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})}},u=async l=>{l.preventDefault(),h(!0);const n=new Promise(async(g,$)=>{try{const I=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:_.map(m=>({...m,user_id:t.id}))})}),j=await I.json();I.ok?(N(m=>({...m,educations:j.educations})),h(!1),x(),g([...j.messages])):(h(!1),C(j.errors),console.error(j.errors),$(j.error||"Failed to update education records."))}catch(I){h(!1),$(I.message||"An unexpected error occurred while updating education records.")}});L.promise(n,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(he,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:g}){return e(z,{children:g.map(($,I)=>e("div",{children:$},I))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:g}){return e(z,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})},s=async()=>{w([..._,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return r(oe,{open:F,onClose:x,maxWidth:"md",fullWidth:!0,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Education Information"}),e(U,{onClick:x,sx:{position:"absolute",top:8,right:16},children:e(fe,{})})]}),r("form",{onSubmit:u,children:[e(se,{children:r(X,{children:[e(a,{container:!0,spacing:2,children:_.map((l,n)=>e(a,{item:!0,xs:12,children:e(K,{children:r(H,{children:[r(W,{variant:"h6",gutterBottom:!0,children:["Education #"+(n+1),e(U,{onClick:()=>T(n),sx:{position:"absolute",top:8,right:16},children:e(fe,{})})]}),r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Institution",fullWidth:!0,value:l.institution||"",onChange:g=>o(n,"institution",g.target.value),error:!!c[`educations.${n}.institution`],helperText:c[`educations.${n}.institution`]?c[`educations.${n}.institution`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Degree",fullWidth:!0,value:l.degree||"",onChange:g=>o(n,"degree",g.target.value),error:!!c[`educations.${n}.degree`],helperText:c[`educations.${n}.degree`]?c[`educations.${n}.degree`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Subject",fullWidth:!0,value:l.subject||"",onChange:g=>o(n,"subject",g.target.value),error:!!c[`educations.${n}.subject`],helperText:c[`educations.${n}.subject`]?c[`educations.${n}.subject`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:l.starting_date||"",onChange:g=>o(n,"starting_date",g.target.value),error:!!c[`educations.${n}.starting_date`],helperText:c[`educations.${n}.starting_date`]?c[`educations.${n}.starting_date`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:l.complete_date||"",onChange:g=>o(n,"complete_date",g.target.value),error:!!c[`educations.${n}.complete_date`],helperText:c[`educations.${n}.complete_date`]?c[`educations.${n}.complete_date`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Grade",fullWidth:!0,value:l.grade||"",onChange:g=>o(n,"grade",g.target.value),error:!!c[`educations.${n}.grade`],helperText:c[`educations.${n}.grade`]?c[`educations.${n}.grade`][0]:""})})]})]})})},n))}),e(X,{mt:2,children:r(Ce,{size:"small",color:"error",sx:{mt:2},onClick:s,children:[e(Te,{})," Add More"]})})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},Or=({user:t,open:F,closeModal:x,setUser:N})=>{const[p,i]=f.useState({id:t.id}),[b,v]=f.useState(!1),[_,w]=f.useState(t.experiences.length>0?t.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[c,C]=f.useState({}),[P,h]=f.useState(!1),d=ee(),o=(l,n,g)=>{const $=[..._];$[l]={...$[l],[n]:g},w($);const I=$.filter((m,M)=>{const y=t.experiences[M]||{},Y=!y.id||m.company_name!==y.company_name||m.location!==y.location||m.job_position!==y.job_position||m.period_from!==y.period_from||m.period_to!==y.period_to||m.description!==y.description,k=y.id&&m.company_name===y.company_name&&m.location===y.location&&m.job_position===y.job_position&&m.period_from===y.period_from&&m.period_to===y.period_to&&m.description===y.description;return Y&&!k});i(m=>({...m,experiences:[...I]}));const j=I.length>0;v(j)},T=async l=>{const n=_[l],g=_.filter(($,I)=>I!==l);if(w(g.length>0?g:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),n.id){const $=new Promise(async(I,j)=>{try{const m=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:t.id})}),M=await m.json();m.ok?(i(y=>({...y,experiences:M.experiences})),N(y=>({...y,experiences:M.experiences})),I(M.message||"Experience record deleted successfully."),x()):(C([...M.errors]),j(M.error||"Failed to delete experience record."))}catch(m){j(m)}});L.promise($,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(he,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:I}){return e(z,{children:I})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:I}){return e(z,{children:I})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})}},u=async l=>{l.preventDefault(),h(!0);const n=new Promise(async(g,$)=>{try{const I=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:_.map(m=>({...m,user_id:t.id}))})}),j=await I.json();I.ok?(N(m=>({...m,experiences:j.experiences})),h(!1),x(),g([...j.messages])):(h(!1),C(j.errors),console.error(j.errors),$(j.error||"Failed to update experience records."))}catch(I){h(!1),$(I.message||"An unexpected error occurred while updating experience records.")}});L.promise(n,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(he,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:g}){return e(z,{children:g.map(($,I)=>e("div",{children:$},I))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:g}){return e(z,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})},s=async()=>{w([..._,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return r(oe,{open:F,onClose:x,maxWidth:"md",fullWidth:!0,children:[r(le,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(W,{children:"Experience Information"}),e(U,{onClick:x,sx:{position:"absolute",top:8,right:16},children:e(fe,{})})]}),r("form",{onSubmit:u,children:[e(se,{children:r(X,{children:[e(a,{container:!0,spacing:2,children:_.map((l,n)=>e(a,{item:!0,xs:12,children:e(K,{children:r(H,{children:[r(W,{variant:"h6",gutterBottom:!0,children:["Experience #"+(n+1),e(U,{onClick:()=>T(n),sx:{position:"absolute",top:8,right:16},children:e(fe,{})})]}),r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Company",fullWidth:!0,value:l.company_name||"",onChange:g=>o(n,"company_name",g.target.value),error:!!c[`experiences.${n}.company_name`],helperText:c[`experiences.${n}.company_name`]?c[`experiences.${n}.company_name`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Location",fullWidth:!0,value:l.location||"",onChange:g=>o(n,"location",g.target.value),error:!!c[`experiences.${n}.location`],helperText:c[`experiences.${n}.location`]?c[`experiences.${n}.location`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Role",fullWidth:!0,value:l.job_position||"",onChange:g=>o(n,"job_position",g.target.value),error:!!c[`experiences.${n}.job_position`],helperText:c[`experiences.${n}.job_position`]?c[`experiences.${n}.job_position`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:l.period_from||"",onChange:g=>o(n,"period_from",g.target.value),error:!!c[`experiences.${n}.period_from`],helperText:c[`experiences.${n}.period_from`]?c[`experiences.${n}.period_from`][0]:""})}),e(a,{item:!0,xs:12,md:6,children:e(B,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:l.period_to||"",onChange:g=>o(n,"period_to",g.target.value),error:!!c[`experiences.${n}.period_to`],helperText:c[`experiences.${n}.period_to`]?c[`experiences.${n}.period_to`][0]:""})}),e(a,{item:!0,xs:12,children:e(B,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:l.description||"",onChange:g=>o(n,"description",g.target.value),error:!!c[`experiences.${n}.description`],helperText:c[`experiences.${n}.description`]?c[`experiences.${n}.description`][0]:""})})]})]})})},n))}),r(Ce,{size:"small",color:"error",sx:{mt:2},onClick:s,children:[e(Te,{})," Add More"]})]})}),e(de,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:P,children:"Submit"})})]})]})},zr=({user:t,setUser:F})=>{const[x,N]=f.useState({id:t.id,salary_basis:t.salary_basis||"",salary_amount:t.salary_amount||"",payment_type:t.payment_type||"",pf_contribution:t.pf_contribution??!1,pf_no:t.pf_no||"",employee_pf_rate:t.employee_pf_rate||0,additional_pf_rate:t.additional_pf_rate||0,total_pf_rate:t.total_pf_rate||0,esi_contribution:t.esi_contribution??!1,esi_no:t.esi_no||"",employee_esi_rate:t.employee_esi_rate||0,additional_esi_rate:t.additional_esi_rate||0,total_esi_rate:t.total_esi_rate||0}),[p,i]=f.useState({id:t.id}),[b,v]=f.useState(!1),[_,w]=f.useState({}),[c,C]=f.useState(!1),P=ee(),h=(o,T)=>{N(u=>{const s={...u,[o]:T};return T===""&&delete s[o],o==="pf_contribution"&&T===0?(s.pf_no="",s.employee_pf_rate=0,s.additional_pf_rate=0,s.total_pf_rate=0):(o==="employee_pf_rate"||o==="additional_pf_rate")&&(s.total_pf_rate=s.employee_pf_rate+s.additional_pf_rate),o==="esi_contribution"&&T===0?(s.esi_no="",s.employee_esi_rate=0,s.additional_esi_rate=0,s.total_esi_rate=0):(o==="employee_esi_rate"||o==="additional_esi_rate")&&(s.total_esi_rate=s.employee_esi_rate+s.additional_esi_rate),s}),i(u=>{const s={...u,[o]:T};return T===""&&delete s[o],o==="pf_contribution"&&T===0?(s.pf_no="",s.employee_pf_rate=0,s.additional_pf_rate=0,s.total_pf_rate=0):(o==="employee_pf_rate"||o==="additional_pf_rate")&&(s.total_pf_rate=s.employee_pf_rate+s.additional_pf_rate),o==="esi_contribution"&&T===0?(s.esi_no="",s.employee_esi_rate=0,s.additional_esi_rate=0,s.total_esi_rate=0):(o==="employee_esi_rate"||o==="additional_esi_rate")&&(s.total_esi_rate=s.employee_esi_rate+s.additional_esi_rate),s})};return f.useEffect(()=>{for(const T in p)T!=="id"&&p[T]===t[T]&&delete p[T];const o=Object.keys(p).filter(T=>T!=="id").length>0;v(o)},[x,p,t]),e(a,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:e(a,{item:!0,xs:12,md:12,sx:{display:"flex",flexDirection:"column"},children:r(K,{children:[e(Q,{title:"Salary & Statutory Information"}),r("form",{onSubmit:async o=>{var T,u,s;o.preventDefault(),C(!0);try{const l=await axios.post(route("profile.update"),{ruleSet:"salary",...x});l.status===200?(F(l.data.user),C(!1),L.success(((T=l.data.messages)==null?void 0:T.length)>0?l.data.messages.join(" "):"Salary information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,color:P.palette.text.primary}})):(C(!1),w(l.data.errors),L.error(l.data.error||"Failed to update salary information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,color:P.palette.text.primary}}))}catch(l){C(!1),L.error(((s=(u=l.response)==null?void 0:u.data)==null?void 0:s.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,color:P.palette.text.primary}}),console.error(l)}},children:[r(H,{children:[e(W,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),r(a,{container:!0,spacing:3,children:[e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"salary-basis-label",children:"Salary basis"}),r(V,{labelId:"salary-basis-label",value:p.salary_basis||x.salary_basis||"na",onChange:o=>h("salary_basis",o.target.value),error:!!_.salary_basis,helperText:_.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select salary basis type"}),e(A,{value:"Hourly",children:"Hourly"}),e(A,{value:"Daily",children:"Daily"}),e(A,{value:"Weekly",children:"Weekly"}),e(A,{value:"Monthly",children:"Monthly"})]})]})}),e(a,{item:!0,xs:12,md:4,children:e(B,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:p.salary_amount||x.salary_amount||"",onChange:o=>h("salary_amount",o.target.value),InputProps:{startAdornment:e(hr,{position:"start",children:"$"})},error:!!_.salary_amount,helperText:_.salary_amount})}),e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"payment-type-label",children:"Payment type"}),r(V,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${t.id}`,value:p.payment_type||x.payment_type||"na",onChange:o=>h("payment_type",o.target.value),error:!!_.payment_type,helperText:_.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select payment type"}),e(A,{value:"Bank transfer",children:"Bank transfer"}),e(A,{value:"Check",children:"Check"}),e(A,{value:"Cash",children:"Cash"})]})]})})]}),e(ce,{sx:{my:3}}),e(W,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),r(a,{container:!0,spacing:3,children:[e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"pf-contribution-label",children:"PF contribution"}),r(V,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${t.id}`,value:p.pf_contribution!==void 0?p.pf_contribution:x.pf_contribution!==void 0?x.pf_contribution:"na",onChange:o=>h("pf_contribution",o.target.value),error:!!_.pf_contribution,helperText:_.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select PF contribution"}),e(A,{value:1,children:"Yes"}),e(A,{value:0,children:"No"})]})]})}),e(a,{item:!0,xs:12,md:4,children:e(B,{disabled:!(p.pf_contribution||x.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:p.pf_no||x.pf_no,onChange:o=>h("pf_no",o.target.value),error:!!_.pf_no,helperText:_.pf_no})}),e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"employee-pf-rate-label",children:"Employee PF rate"}),r(V,{disabled:!(p.pf_contribution||x.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:p.employee_pf_rate||x.employee_pf_rate||"na",onChange:o=>h("employee_pf_rate",o.target.value),error:!!_.employee_pf_rate,helperText:_.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(o=>r(A,{value:o,children:[o,"%"]},o))]})]})}),e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"additional-rate-label",children:"Additional rate"}),r(V,{disabled:!(p.pf_contribution||x.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${t.id}`,value:p.additional_pf_rate||x.additional_pf_rate||"na",onChange:o=>h("additional_pf_rate",o.target.value),error:!!_.additional_pf_rate,helperText:_.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(o=>r(A,{value:o,children:[o,"%"]},o))]})]})}),e(a,{item:!0,xs:12,md:4,children:e(B,{disabled:!(p.pf_contribution||x.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_pf_rate||x.total_pf_rate?`${p.total_pf_rate||x.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!_.total_pf_rate,helperText:_.total_pf_rate})})]}),e(ce,{sx:{my:3}}),e(W,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),r(a,{container:!0,spacing:3,children:[e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"esi-contribution-label",children:"ESI contribution"}),r(V,{labelId:"esi-contribution-label",label:"ESI contribution",value:p.esi_contribution!==void 0?p.esi_contribution:x.esi_contribution!==void 0?x.esi_contribution:"na",onChange:o=>h("esi_contribution",o.target.value),error:!!_.esi_contribution,helperText:_.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(A,{value:1,children:"Yes"}),e(A,{value:0,children:"No"})]})]})}),e(a,{item:!0,xs:12,md:4,children:e(B,{disabled:!(p.esi_contribution||x.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:p.esi_no||x.esi_no,onChange:o=>h("esi_no",o.target.value),error:!!_.esi_no,helperText:_.esi_no})}),e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"esi-contribution-label",children:"Employee ESI rate"}),r(V,{disabled:!(p.esi_contribution||x.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.employee_esi_rate||x.employee_esi_rate||"na",onChange:o=>h("employee_esi_rate",o.target.value),error:!!_.employee_esi_rate,helperText:_.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(o=>r(A,{value:o,children:[o,"%"]},o))]})]})}),e(a,{item:!0,xs:12,md:4,children:r(q,{fullWidth:!0,children:[e(J,{id:"esi-contribution-label",children:"Additional rate"}),r(V,{disabled:!(p.esi_contribution||x.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.additional_esi_rate||x.additional_esi_rate||"na",onChange:o=>h("additional_esi_rate",o.target.value),error:!!_.additional_esi_rate,helperText:_.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:P.glassCard.background,border:P.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(A,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(o=>r(A,{value:o,children:[o,"%"]},o))]})]})}),e(a,{item:!0,xs:12,md:4,children:e(B,{disabled:!(p.esi_contribution||x.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_esi_rate||x.total_esi_rate?`${p.total_esi_rate||x.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!_.total_esi_rate,helperText:_.total_esi_rate})})]})]}),e(br,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(re,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:c,children:"Submit"})})]})]})})})},qr=({project:t,isSelected:F=!1,onSelect:x,canView:N,getStatusColor:p,getStatusIcon:i,getPriorityColor:b,getHealthColor:v,getRiskColor:_,onQuickAction:w,formatCurrency:c,formatDate:C,userRole:P,className:h=""})=>{var y,Y,k,G,R,O;const d=()=>!t.total_tasks||t.total_tasks===0?t.progress||0:Math.round(t.completed_tasks/t.total_tasks*100),o=D=>{switch(D){case"good":return e(Sr,{className:"w-4 h-4 text-success"});case"at_risk":return e(we,{className:"w-4 h-4 text-warning"});case"critical":return e(kr,{className:"w-4 h-4 text-danger"});default:return e(nr,{className:"w-4 h-4 text-default-400"})}},T=D=>{switch(D==null?void 0:D.toLowerCase()){case"agile":case"scrum":return e(lr,{className:"w-4 h-4"});case"waterfall":return e(Ne,{className:"w-4 h-4"});case"prince2":return e(or,{className:"w-4 h-4"});case"kanban":return e(Rr,{className:"w-4 h-4"});default:return e(ir,{className:"w-4 h-4"})}},u=()=>!t.budget_allocated||t.budget_allocated===0?0:t.budget_spent/t.budget_allocated*100,s=D=>D>=.95?"success":D>=.85?"warning":"danger",l=D=>D>=.95?"success":D>=.85?"warning":"danger",n=d(),g=u(),$=t.health_status||"unknown",I=t.spi||1,j=t.cpi||1,M=(()=>{const D=[];return N("view")&&D.push({key:"view",label:"View",icon:e(Nr,{className:"w-4 h-4"}),color:"primary"}),N("edit")&&D.push({key:"edit",label:"Edit",icon:e(fr,{className:"w-4 h-4"}),color:"default"}),N("view")&&D.push({key:"tasks",label:"Tasks",icon:e(Ne,{className:"w-4 h-4"}),color:"default"}),N("reports")&&D.push({key:"reports",label:"Reports",icon:e(sr,{className:"w-4 h-4"}),color:"default"}),N("clone")&&D.push({key:"clone",label:"Clone",icon:e(dr,{className:"w-4 h-4"}),color:"default"}),N("archive")&&D.push({key:"archive",label:"Archive",icon:e(cr,{className:"w-4 h-4"}),color:"warning"}),N("delete")&&D.push({key:"delete",label:"Delete",icon:e(wr,{className:"w-4 h-4"}),color:"danger"}),D})();return r(ze,{className:`h-full transition-all duration-200 hover:shadow-lg ${F?"ring-2 ring-primary-500 bg-primary-50/50":""} ${h}`,children:[e(Cr,{className:"pb-3",children:r("div",{className:"flex items-start justify-between w-full",children:[r("div",{className:"flex items-start space-x-3",children:[e(gr,{isSelected:F,onValueChange:x,size:"sm",className:"mt-1"}),r("div",{className:"flex-1 min-w-0",children:[r("div",{className:"flex items-center space-x-2 mb-2",children:[r("div",{className:"flex items-center space-x-2",children:[e("span",{className:"text-lg",children:t.type==="digital"?"🏢":t.type==="enhancement"?"🚀":t.type==="analytics"?"📊":t.type==="integration"?"🌐":t.type==="security"?"🔒":t.type==="marketing"?"🎨":"📋"}),e("h3",{className:"font-semibold text-lg truncate",children:t.project_name})]}),o($)]}),r("div",{className:"flex items-center space-x-2 text-sm text-default-500 mb-2",children:[r("span",{className:"font-mono",children:["ID: ",t.project_code]}),e("span",{children:"•"}),r(te,{size:"sm",color:b(t.priority),variant:"flat",startContent:e(Er,{className:"w-3 h-3"}),children:[((y=t.priority)==null?void 0:y.charAt(0).toUpperCase())+((Y=t.priority)==null?void 0:Y.slice(1))," Priority"]})]})]})]}),r(Ke,{children:[e(Xe,{children:e(_e,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-default-600",children:e(xr,{className:"w-4 h-4"})})}),e(Ye,{"aria-label":"Project actions",onAction:D=>w(D,t),children:M.map(D=>e(Ze,{startContent:D.icon,color:D.color,children:D.label},D.key))})]})]})}),e(Oe,{className:"pt-0 pb-3",children:r("div",{className:"space-y-3",children:[r("div",{className:"space-y-2",children:[r("div",{className:"flex items-center justify-between",children:[r(te,{size:"sm",color:p(t.status),variant:"flat",startContent:i(t.status),children:["Status: ",(k=t.status)==null?void 0:k.replace("_"," ")]}),e("span",{className:"text-sm text-default-500",children:t.phase&&`(${t.phase})`})]}),r("div",{className:"space-y-1",children:[r("div",{className:"flex items-center justify-between text-sm",children:[e("span",{children:"Progress"}),r("span",{className:"font-medium",children:[n,"%"]})]}),e(Tr,{value:n,color:n>=75?"success":n>=50?"warning":"danger",size:"sm",className:"w-full"})]})]}),r("div",{className:"flex items-center space-x-2 text-sm",children:[e(Qe,{className:"w-4 h-4 text-default-400"}),r("span",{className:"text-default-600",children:["Timeline: ",C(t.start_date)," - ",C(t.end_date)]})]}),r("div",{className:"space-y-1",children:[r("div",{className:"flex items-center justify-between text-sm",children:[r("div",{className:"flex items-center space-x-2",children:[e(er,{className:"w-4 h-4 text-default-400"}),e("span",{children:"Budget"})]}),r("span",{className:"text-default-600",children:[c(t.budget_spent||0)," / ",c(t.budget_allocated||0)]})]}),r("div",{className:"flex items-center justify-between text-xs text-default-500",children:[r("span",{children:["(",g.toFixed(0),"% used)"]}),e(te,{size:"sm",variant:"dot",color:g>100?"danger":g>90?"warning":"success",children:g>100?"Over budget":g>90?"High usage":"Good"})]})]}),r("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-default-600",children:"📊 SPI:"}),e(te,{size:"sm",variant:"flat",color:s(I),children:I.toFixed(2)})]}),r("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-default-600",children:"💰 CPI:"}),e(te,{size:"sm",variant:"flat",color:l(j),children:j.toFixed(2)})]})]}),r("div",{className:"space-y-2",children:[r("div",{className:"flex items-center space-x-2 text-sm",children:[e(rr,{className:"w-4 h-4 text-default-400"}),r("span",{className:"text-default-600",children:["Lead: ",((G=t.project_leader)==null?void 0:G.name)||"Unassigned"]}),r("span",{className:"text-default-500",children:["(",((R=t.project_leader)==null?void 0:R.role)||"PM",")"]})]}),r("div",{className:"flex items-center space-x-2 text-sm",children:[e(ar,{className:"w-4 h-4 text-default-400"}),r("span",{className:"text-default-600",children:["Dept: ",((O=t.department)==null?void 0:O.name)||"General"]})]})]}),r("div",{className:"grid grid-cols-2 gap-2",children:[r("div",{className:"flex items-center space-x-2 text-sm",children:[e(we,{className:"w-4 h-4 text-default-400"}),e("span",{className:"text-default-600",children:"Risk:"}),e(te,{size:"sm",variant:"flat",color:_(t.risk_level),children:t.risk_level||"Low"})]}),r("div",{className:"flex items-center space-x-2 text-sm",children:[e(tr,{className:"w-4 h-4 text-default-400"}),e("span",{className:"text-default-600",children:"Health:"}),e(te,{size:"sm",variant:"flat",color:v($),children:$==="good"?"✅ Good":$==="at_risk"?"🟡 At Risk":$==="critical"?"🔴 Critical":"⚪ Unknown"})]})]}),r("div",{className:"flex items-center space-x-2 text-sm",children:[T(t.methodology),r("span",{className:"text-default-600",children:["Methodology: ",t.methodology||"Standard"]})]}),t.next_milestone&&r("div",{className:"flex items-center space-x-2 text-sm",children:[e(vr,{className:"w-4 h-4 text-default-400"}),r("span",{className:"text-default-600",children:["Next: ",t.next_milestone]})]})]})}),e(Ir,{className:"pt-2",children:r("div",{className:"w-full space-y-2",children:[e("div",{className:"flex flex-wrap gap-2",children:M.slice(0,3).map(D=>e(_e,{size:"sm",variant:"flat",color:D.color,startContent:D.icon,onPress:()=>w(D.key,t),className:"flex-1 min-w-0",children:D.label},D.key))}),M.length>3&&e("div",{className:"flex flex-wrap gap-2",children:M.slice(3,6).map(D=>e(_e,{size:"sm",variant:"light",color:D.color,startContent:D.icon,onPress:()=>w(D.key,t),className:"flex-1 min-w-0",children:D.label},D.key))}),r("div",{className:"text-xs text-default-500 text-center border-t border-default-200 pt-2",children:["Last updated: ",C(t.updated_at)]})]})})]})},Jr=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],Vr=({title:t,allUsers:F,report_to:x,departments:N,designations:p})=>{var T,u,s,l;const[i,b]=f.useState(qe().props.user),[v,_]=ge.useState(0),[w,c]=ge.useState(null),[C,P]=f.useState(null),h=n=>{P(n)},d=()=>{P(null)},o=(n,g)=>{_(g)};return r(z,{children:[e(Je,{title:i.name}),C==="profile"&&e(Wr,{user:i,allUsers:F,departments:N,designations:p,open:C==="profile",setUser:b,closeModal:d}),C==="personal"&&e(Lr,{user:i,open:C==="personal",setUser:b,closeModal:d}),C==="emergency"&&e(jr,{user:i,open:C==="emergency",setUser:b,closeModal:d}),C==="bank"&&e(Mr,{user:i,open:C==="bank",setUser:b,closeModal:d}),C==="family"&&e(Gr,{user:i,open:C==="family",setUser:b,closeModal:d}),C==="education"&&e(Ur,{user:i,open:C==="education",setUser:b,closeModal:d}),C==="experience"&&e(Or,{user:i,open:C==="experience",setUser:b,closeModal:d}),e(X,{sx:{display:"flex",justifyContent:"center",p:2},children:e(pr,{in:!0,children:r(K,{children:[e(Q,{sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("profile"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:r(a,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e(a,{item:!0,xs:12,md:5,children:r(a,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e(a,{item:!0,children:e(X,{sx:{display:"flex",alignItems:"center",mb:2},children:e(ve,{src:i.profile_image,alt:i.name,sx:{width:100,height:100,mr:2}})})}),e(a,{item:!0,xs:12,md:!0,children:r(X,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e(W,{variant:"h5",children:i.name}),e(W,{variant:"subtitle1",color:"textSecondary",children:((T=N.find(n=>n.id===i.department))==null?void 0:T.name)||"N/A"}),e(W,{variant:"body2",color:"textSecondary",children:((u=p.find(n=>n.id===i.designation))==null?void 0:u.title)||"N/A"}),r(W,{variant:"body2",color:"textSecondary",children:["Employee ID : ",i.employee_id||"N/A"]}),r(W,{variant:"body2",color:"textSecondary",children:["Date of Join : ",i.date_of_joining||"N/A"]}),e(Ce,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e(ce,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e(a,{item:!0,xs:12,md:6,children:r(ne,{children:[e(E,{children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Phone:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.phone||"N/A"})})]})}),e(E,{children:r(a,{container:!0,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Email:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.email||"N/A"})})]})}),e(E,{children:r(a,{container:!0,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Birthday:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.birthday||"N/A"})})]})}),e(E,{children:r(a,{container:!0,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Address:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.address||"N/A"})})]})}),e(E,{children:r(a,{container:!0,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Gender:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.gender||"N/A"})})]})}),e(E,{children:r(a,{container:!0,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"Reports to:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:F.find(n=>n.id===i.report_to)?r(X,{sx:{display:"flex",alignItems:"center"},children:[e(ve,{src:`/assets/images/users/${(s=F.find(n=>n.id===i.report_to))==null?void 0:s.user_name}.jpg`,alt:x.name,sx:{width:24,height:24,mr:1}}),e(W,{color:"primary",children:(l=F.find(n=>n.id===i.report_to))==null?void 0:l.name})]}):"N/A"})})]})})]})})]})}),e(H,{sx:{paddingBottom:"0px !important"},children:r(Pr,{value:v,onChange:o,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e(xe,{label:"Profile"}),e(xe,{label:"Projects"}),e(xe,{label:"Salary & Statutory"}),e(xe,{label:"Assets"})]})})]})})}),r(X,{sx:{p:2},children:[v===0&&r(a,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e(a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:r(K,{sx:{mb:2,flex:1},children:[e(Q,{title:"Personal Information",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("personal"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.passport_no||i.passport_exp_date||i.nationality||i.religion||i.marital_status||i.employment_of_spouse||i.number_of_children?r(ne,{children:[i.passport_no&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Passport No.:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.passport_no||"N/A"})})]})}),i.passport_exp_date&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Passport Exp Date.:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.passport_exp_date||"N/A"})})]})}),i.nid&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• NID No.:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.nid||"N/A"})})]})}),i.nationality&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Nationality:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.nationality||"N/A"})})]})}),i.religion&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Religion:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.religion||"N/A"})})]})}),i.marital_status&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Marital Status:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.marital_status||"N/A"})})]})}),i.employment_of_spouse&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Employment of Spouse:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.employment_of_spouse||"N/A"})})]})}),i.number_of_children&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• No. of Children:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.number_of_children||"N/A"})})]})})]}):e(W,{children:"No personal information available"})})]})}),e(a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:r(K,{sx:{mb:2,flex:1},children:[e(Q,{title:"Emergency Contact",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("emergency"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.emergency_contact_primary_name||i.emergency_contact_secondary_name?r(ne,{children:[i.emergency_contact_primary_name&&r(z,{children:[e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Name:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_primary_name||"N/A"})})]})}),e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Relationship:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_primary_relationship||"N/A"})})]})}),e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Phone:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_primary_phone||"N/A"})})]})})]}),i.emergency_contact_secondary_name&&r(z,{children:[e(ce,{sx:{my:2}}),e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Name:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_secondary_name||"N/A"})})]})}),e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Relationship:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_secondary_relationship||"N/A"})})]})}),e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Phone:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e(W,{children:"No emergency contact information"})})]})}),e(a,{item:!0,xs:12,md:6,children:r(K,{variant:"outlined",sx:{mb:2},children:[e(Q,{title:"Bank Information",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("bank"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.bank_name||i.bank_account_no||i.ifsc_code||i.pan_no?r(ne,{children:[i.bank_name&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Bank Name:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.bank_name})})]})}),i.bank_account_no&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Bank Account No.:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.bank_account_no})})]})}),i.ifsc_code&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• IFSC Code:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.ifsc_code})})]})}),i.pan_no&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• PAN No:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.pan_no})})]})})]}):e(W,{children:"No bank information"})})]})}),e(a,{item:!0,xs:12,md:6,children:r(K,{variant:"outlined",children:[e(Q,{title:"Family Information",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("family"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.family_member_name||i.family_member_relationship||i.family_member_dob||i.family_member_phone?r(ne,{children:[i.family_member_name&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Name:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.family_member_name})})]})}),i.family_member_relationship&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Relationship:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.family_member_relationship})})]})}),i.family_member_dob&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Date of Birth:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.family_member_dob})})]})}),i.family_member_phone&&e(E,{disableGutters:!0,children:r(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:5,children:e(S,{primary:"• Phone:"})}),e(a,{item:!0,xs:7,children:e(S,{primary:i.family_member_phone})})]})})]}):e(W,{children:"No family member information"})})]})}),e(a,{item:!0,xs:12,md:6,children:r(K,{variant:"outlined",sx:{mb:2},children:[e(Q,{title:"Education Information",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("education"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.educations&&i.educations.length>0?e(ne,{children:i.educations.map((n,g)=>r(ge.Fragment,{children:[e(E,{disableGutters:!0,children:r(W,{variant:"h6",children:["• ",n.institution]})}),e(E,{disableGutters:!0,children:e(W,{variant:"body1",children:n.degree||"N/A"})}),e(E,{disableGutters:!0,children:r(W,{variant:"body2",children:[n.starting_date?new Date(n.starting_date).getFullYear():"N/A"," -",n.complete_date?new Date(n.complete_date).getFullYear():"N/A"]})}),g<i.educations.length-1&&e(ce,{sx:{my:1}})]},n.id))}):e(W,{children:"No education information"})})]})}),e(a,{item:!0,xs:12,md:6,children:r(K,{variant:"outlined",children:[e(Q,{title:"Experience",sx:{padding:"24px"},action:e(U,{variant:"outlined",color:"primary",onClick:()=>h("experience"),sx:{position:"absolute",top:16,right:16},children:e(ae,{})})}),e(H,{children:i.experiences&&i.experiences.length>0?e(ne,{children:i.experiences.map((n,g)=>r(ge.Fragment,{children:[e(E,{disableGutters:!0,children:r(W,{variant:"h6",children:["• ",n.job_position," at ",n.company_name]})}),e(E,{disableGutters:!0,children:r(W,{variant:"body1",children:[n.period_from?new Date(n.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",n.period_to?new Date(n.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e(E,{disableGutters:!0,children:e(W,{variant:"body2",children:n.location})}),n.description&&e(E,{disableGutters:!0,children:e(W,{variant:"body2",children:n.description})}),g<i.experiences.length-1&&e(ce,{sx:{my:1}})]},g))}):e(W,{children:"No experience information"})})]})})]}),v===1&&e(a,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:Jr.map((n,g)=>e(a,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e(qr,{project:n})},n.id||g))}),v===2&&e(zr,{user:i,setUser:b})]})]})};Vr.layout=t=>e(ur,{children:t});export{Vr as default};
