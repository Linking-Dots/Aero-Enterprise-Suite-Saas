import{a as f,V as _t,j as B,c as ot,M as Mt,F as G}from"./app-Ba0sdVLK.js";import{w as M,R as ve,r as g,ai as it,O as Dt,_ as Ft,z as st,H as At,j as lt,ag as It,B as pe,u as Ot,e as Ht,g as Kt,c as ye,f as Ae,a as Ie,G as Oe,t as Rt}from"./vendor-DizjhpiW.js";import{t as Nt,F as jt,ab as He,ac as zt,ad as Bt,P as Wt,Q as Vt,R as Ut,S as Gt,L as Yt,m as Xt,u as qt,o as Qt,N as te,f as ct,r as ut,al as Zt,d as Jt,b as Ke,B as re,G as er,A as tr}from"./App-C17MGZA9.js";import{X as rr,m as nr,A as ar}from"./minMax-BE-9QGOZ.js";import{d as or}from"./Delete-6R578YMs.js";import{l as ir,U as Re}from"./index-BgQtyLjZ.js";import{u as sr,$ as Ne,i as dt}from"./chunk-IR2E3HZF-DODorz9a.js";import{c as le}from"./chunk-KBN3H6OQ-Cu1e9MQH.js";import{l as $e,s as xe}from"./chunk-QEQ4EHOG-B1ytnKsM.js";import{t as lr}from"./chunk-KQ7OR4H5-Dgii2e6k.js";import{u as je}from"./chunk-TLBGAR4N-CjMbR99G.js";import{d as cr}from"./dayjs.min-mDmx9JMP.js";import{d as ur,p as dr}from"./Search-DoxZP7NM.js";import{D as ze}from"./Download-CRYyc6GJ.js";import"./useFormValidationState-_5JnmS5U.js";import"./useLabel-_uVPX8kv.js";import"./DOMLayoutDelegate-sQM_Tr_X.js";import"./chunk-NCVCYSZZ-Bd12ZcMl.js";var Be=Nt({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...jt],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),fr="flex mx-1 text-current self-center",pr=e=>M.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[M.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),M.jsx("path",{d:"M15 3h6v6"}),M.jsx("path",{d:"M10 14L21 3"})]});const Se=typeof document<"u"?ve.useLayoutEffect:()=>{};function X(e){const t=g.useRef(null);return Se(()=>{t.current=e},[e]),g.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}let We=new Map;function gr(e,t){if(e===t)return e;let r=We.get(e);if(r)return r(t),t;let n=We.get(t);return n?(n(e),e):t}function ft(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const R=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Z=e=>e&&"window"in e&&e.window===e?e:R(e).defaultView||window;function J(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=ft(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=it(u,l):o==="id"&&u&&l?t.id=gr(u,l):t[o]=l!==void 0?l:u}}return t}const br=new Set(["id"]),vr=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),hr=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),mr=/^(data-.*)$/;function yr(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,u={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(br.has(l)||r&&vr.has(l)||n&&hr.has(l)||o!=null&&o.has(l)||mr.test(l))&&(u[l]=e[l]);return u}function V(e){if($r())e.focus({preventScroll:!0});else{let t=xr(e);e.focus(),Tr(t)}}let ce=null;function $r(){if(ce==null){ce=!1;try{document.createElement("div").focus({get preventScroll(){return ce=!0,!0}})}catch{}}return ce}function xr(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Tr(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function he(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Le(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function ae(){return Le(/^Mac/i)}function Pr(){return Le(/^iPhone/i)}function pt(){return Le(/^iPad/i)||ae()&&navigator.maxTouchPoints>1}function gt(){return Pr()||pt()}function wr(){return he(/AppleWebKit/i)&&!kr()}function kr(){return he(/Chrome/i)}function bt(){return he(/Android/i)}function Er(){return he(/Firefox/i)}const Cr=g.createContext({isNative:!0,open:_r,useHref:e=>e});function vt(){return g.useContext(Cr)}function Sr(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function ee(e,t,r=!0){var n,o;let{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}=t;Er()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(ae()?u=!0:l=!0);let h=wr()&&ae()&&!pt()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}):new MouseEvent("click",{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b,bubbles:!0,cancelable:!0});ee.isOpening=r,V(e),e.dispatchEvent(h),ee.isOpening=!1}ee.isOpening=!1;function Lr(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function _r(e,t){Lr(e,r=>ee(r,t))}function Mr(e){let t=vt();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let q=new Map,we=new Set;function Ve(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);o||(o=new Set,q.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),q.delete(n.target)),q.size===0)){for(let u of we)u();we.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?Ve():document.addEventListener("DOMContentLoaded",Ve));function ht(e){requestAnimationFrame(()=>{q.size===0?e():we.add(e)})}function Dr(){let e=g.useRef(new Map),t=g.useCallback((o,u,l,v)=>{let b=v!=null&&v.once?(...h)=>{e.current.delete(l),l(...h)}:l;e.current.set(l,{type:u,eventTarget:o,fn:b,options:v}),o.addEventListener(u,l,v)},[]),r=g.useCallback((o,u,l,v)=>{var b;let h=((b=e.current.get(l))===null||b===void 0?void 0:b.fn)||l;o.removeEventListener(u,h,v),e.current.delete(l)},[]),n=g.useCallback(()=>{e.current.forEach((o,u)=>{r(o.eventTarget,o.type,u,o.options)})},[r]);return g.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function mt(e,t){Se(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function ke(e){return e.mozInputSource===0&&e.isTrusted?!0:bt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fr(e){return!bt()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let Q="default",Ee="",ge=new WeakMap;function Ue(e){if(gt()){if(Q==="default"){const t=R(e);Ee=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Q="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(ge.set(e,e.style.userSelect),e.style.userSelect="none")}function ue(e){if(gt()){if(Q!=="disabled")return;Q="restoring",setTimeout(()=>{ht(()=>{if(Q==="restoring"){const t=R(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Ee||""),Ee="",Q="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&ge.has(e)){let t=ge.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),ge.delete(e)}}const yt=ve.createContext({register:()=>{}});yt.displayName="PressResponderContext";function Ar(e){let t=g.useContext(yt);if(t){let{register:r,...n}=t;e=J(n,e),r()}return mt(t,e.ref),e}var de=new WeakMap;class fe{continuePropagation(){He(this,de,!1)}get shouldStopPropagation(){return zt(this,de)}constructor(t,r,n){Bt(this,de,{writable:!0,value:void 0}),He(this,de,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Ge=Symbol("linkClicked");function Ir(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:o,onPressUp:u,isDisabled:l,isPressed:v,preventFocusOnPress:b,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:x,ref:L,..._}=Ar(e),[k,i]=g.useState(!1),p=g.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:m,removeAllGlobalListeners:T}=Dr(),P=X((a,y)=>{let D=p.current;if(l||D.didFirePressStart)return!1;let d=!0;if(D.isTriggeringEvent=!0,n){let w=new fe("pressstart",y,a);n(w),d=w.shouldStopPropagation}return r&&r(!0),D.isTriggeringEvent=!1,D.didFirePressStart=!0,i(!0),d}),$=X((a,y,D=!0)=>{let d=p.current;if(!d.didFirePressStart)return!1;d.ignoreClickAfterPress=!0,d.didFirePressStart=!1,d.isTriggeringEvent=!0;let w=!0;if(o){let s=new fe("pressend",y,a);o(s),w=s.shouldStopPropagation}if(r&&r(!1),i(!1),t&&D&&!l){let s=new fe("press",y,a);t(s),w&&(w=s.shouldStopPropagation)}return d.isTriggeringEvent=!1,w}),C=X((a,y)=>{let D=p.current;if(l)return!1;if(u){D.isTriggeringEvent=!0;let d=new fe("pressup",y,a);return u(d),D.isTriggeringEvent=!1,d.shouldStopPropagation}return!0}),S=X(a=>{let y=p.current;y.isPressed&&y.target&&(y.isOverTarget&&y.pointerType!=null&&$(z(y.target,a),y.pointerType,!1),y.isPressed=!1,y.isOverTarget=!1,y.activePointerId=null,y.pointerType=null,T(),x||ue(y.target))}),F=X(a=>{h&&S(a)}),I=g.useMemo(()=>{let a=p.current,y={onKeyDown(d){if(Te(d.nativeEvent,d.currentTarget)&&d.currentTarget.contains(d.target)){var w;Xe(d.target,d.key)&&d.preventDefault();let s=!0;if(!a.isPressed&&!d.repeat){a.target=d.currentTarget,a.isPressed=!0,s=P(d,"keyboard");let c=d.currentTarget,E=j=>{Te(j,c)&&!j.repeat&&c.contains(j.target)&&a.target&&C(z(a.target,j),"keyboard")};m(R(d.currentTarget),"keyup",ft(E,D),!0)}s&&d.stopPropagation(),d.metaKey&&ae()&&((w=a.metaKeyEvents)===null||w===void 0||w.set(d.key,d.nativeEvent))}else d.key==="Meta"&&(a.metaKeyEvents=new Map)},onClick(d){if(!(d&&!d.currentTarget.contains(d.target))&&d&&d.button===0&&!a.isTriggeringEvent&&!ee.isOpening){let w=!0;if(l&&d.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&!a.isPressed&&(a.pointerType==="virtual"||ke(d.nativeEvent))){!l&&!b&&V(d.currentTarget);let s=P(d,"virtual"),c=C(d,"virtual"),E=$(d,"virtual");w=s&&c&&E}a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1,w&&d.stopPropagation()}}},D=d=>{var w;if(a.isPressed&&a.target&&Te(d,a.target)){var s;Xe(d.target,d.key)&&d.preventDefault();let E=d.target;$(z(a.target,d),"keyboard",a.target.contains(E)),T(),d.key!=="Enter"&&_e(a.target)&&a.target.contains(E)&&!d[Ge]&&(d[Ge]=!0,ee(a.target,d,!1)),a.isPressed=!1,(s=a.metaKeyEvents)===null||s===void 0||s.delete(d.key)}else if(d.key==="Meta"&&(!((w=a.metaKeyEvents)===null||w===void 0)&&w.size)){var c;let E=a.metaKeyEvents;a.metaKeyEvents=void 0;for(let j of E.values())(c=a.target)===null||c===void 0||c.dispatchEvent(new KeyboardEvent("keyup",j))}};if(typeof PointerEvent<"u"){y.onPointerDown=c=>{if(c.button!==0||!c.currentTarget.contains(c.target))return;if(Fr(c.nativeEvent)){a.pointerType="virtual";return}Pe(c.currentTarget)&&c.preventDefault(),a.pointerType=c.pointerType;let E=!0;a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=c.pointerId,a.target=c.currentTarget,!l&&!b&&V(c.currentTarget),x||Ue(a.target),E=P(c,a.pointerType),m(R(c.currentTarget),"pointermove",d,!1),m(R(c.currentTarget),"pointerup",w,!1),m(R(c.currentTarget),"pointercancel",s,!1)),E&&c.stopPropagation()},y.onMouseDown=c=>{c.currentTarget.contains(c.target)&&c.button===0&&(Pe(c.currentTarget)&&c.preventDefault(),c.stopPropagation())},y.onPointerUp=c=>{!c.currentTarget.contains(c.target)||a.pointerType==="virtual"||c.button===0&&Y(c,c.currentTarget)&&C(c,a.pointerType||c.pointerType)};let d=c=>{c.pointerId===a.activePointerId&&(a.target&&Y(c,a.target)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,P(z(a.target,c),a.pointerType)):a.target&&a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,$(z(a.target,c),a.pointerType,!1),F(c)))},w=c=>{c.pointerId===a.activePointerId&&a.isPressed&&c.button===0&&a.target&&(Y(c,a.target)&&a.pointerType!=null?$(z(a.target,c),a.pointerType):a.isOverTarget&&a.pointerType!=null&&$(z(a.target,c),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType=null,T(),x||ue(a.target))},s=c=>{S(c)};y.onDragStart=c=>{c.currentTarget.contains(c.target)&&S(c)}}else{y.onMouseDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(Pe(s.currentTarget)&&s.preventDefault(),a.ignoreEmulatedMouseEvents){s.stopPropagation();return}a.isPressed=!0,a.isOverTarget=!0,a.target=s.currentTarget,a.pointerType=ke(s.nativeEvent)?"virtual":"mouse",!l&&!b&&V(s.currentTarget),P(s,a.pointerType)&&s.stopPropagation(),m(R(s.currentTarget),"mouseup",d,!1)},y.onMouseEnter=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!0,c=P(s,a.pointerType)),c&&s.stopPropagation()},y.onMouseLeave=s=>{if(!s.currentTarget.contains(s.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!1,c=$(s,a.pointerType,!1),F(s)),c&&s.stopPropagation()},y.onMouseUp=s=>{s.currentTarget.contains(s.target)&&!a.ignoreEmulatedMouseEvents&&s.button===0&&C(s,a.pointerType||"mouse")};let d=s=>{if(s.button===0){if(a.isPressed=!1,T(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.target&&Y(s,a.target)&&a.pointerType!=null?$(z(a.target,s),a.pointerType):a.target&&a.isOverTarget&&a.pointerType!=null&&$(z(a.target,s),a.pointerType,!1),a.isOverTarget=!1}};y.onTouchStart=s=>{if(!s.currentTarget.contains(s.target))return;let c=Or(s.nativeEvent);if(!c)return;a.activePointerId=c.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=s.currentTarget,a.pointerType="touch",!l&&!b&&V(s.currentTarget),x||Ue(a.target),P(s,a.pointerType)&&s.stopPropagation(),m(Z(s.currentTarget),"scroll",w,!0)},y.onTouchMove=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),E=!0;c&&Y(c,s.currentTarget)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,E=P(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,E=$(s,a.pointerType,!1),F(s)),E&&s.stopPropagation()},y.onTouchEnd=s=>{if(!s.currentTarget.contains(s.target))return;if(!a.isPressed){s.stopPropagation();return}let c=Ye(s.nativeEvent,a.activePointerId),E=!0;c&&Y(c,s.currentTarget)&&a.pointerType!=null?(C(s,a.pointerType),E=$(s,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(E=$(s,a.pointerType,!1)),E&&s.stopPropagation(),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,a.target&&!x&&ue(a.target),T()},y.onTouchCancel=s=>{s.currentTarget.contains(s.target)&&(s.stopPropagation(),a.isPressed&&S(s))};let w=s=>{a.isPressed&&s.target.contains(a.target)&&S({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};y.onDragStart=s=>{s.currentTarget.contains(s.target)&&S(s)}}return y},[m,l,b,T,x,S,F,$,P,C]);return g.useEffect(()=>()=>{var a;x||ue((a=p.current.target)!==null&&a!==void 0?a:void 0)},[x]),{isPressed:v||k,pressProps:J(_,I)}}function _e(e){return e.tagName==="A"&&e.hasAttribute("href")}function Te(e,t){const{key:r,code:n}=e,o=t,u=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(o instanceof Z(o).HTMLInputElement&&!$t(o,r)||o instanceof Z(o).HTMLTextAreaElement||o.isContentEditable)&&!((u==="link"||!u&&_e(o))&&r!=="Enter")}function Or(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ye(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const o=r[n];if(o.identifier===t)return o}return null}function z(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Hr(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Kr(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Y(e,t){let r=t.getBoundingClientRect(),n=Hr(e);return Kr(r,n)}function Pe(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Xe(e,t){return e instanceof HTMLInputElement?!$t(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!_e(e)}const Rr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $t(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Rr.has(e.type)}class Nr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function jr(e){let t=g.useRef({isFocused:!1,observer:null});Se(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=X(n=>{e==null||e(n)});return g.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,u=l=>{t.current.isFocused=!1,o.disabled&&r(new Nr("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let v=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:v})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:v}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function zr(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:o}=e;const u=g.useCallback(b=>{if(b.target===b.currentTarget)return n&&n(b),o&&o(!1),!0},[n,o]),l=jr(u),v=g.useCallback(b=>{const h=R(b.target);b.target===b.currentTarget&&h.activeElement===b.target&&(r&&r(b),o&&o(!0),l(b))},[o,r,l]);return{focusProps:{onFocus:!t&&(r||o||n)?v:void 0,onBlur:!t&&(n||o)?u:void 0}}}let oe=null,Br=new Set,ne=new Map,U=!1,Ce=!1;function Me(e,t){for(let r of Br)r(e,t)}function Wr(e){return!(e.metaKey||!ae()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function be(e){U=!0,Wr(e)&&(oe="keyboard",Me("keyboard",e))}function N(e){oe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(U=!0,Me("pointer",e))}function xt(e){ke(e)&&(U=!0,oe="virtual")}function Tt(e){e.target===window||e.target===document||(!U&&!Ce&&(oe="virtual",Me("virtual",e)),U=!1,Ce=!1)}function Pt(){U=!1,Ce=!0}function qe(e){if(typeof window>"u"||ne.get(Z(e)))return;const t=Z(e),r=R(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){U=!0,n.apply(this,arguments)},r.addEventListener("keydown",be,!0),r.addEventListener("keyup",be,!0),r.addEventListener("click",xt,!0),t.addEventListener("focus",Tt,!0),t.addEventListener("blur",Pt,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",N,!0),r.addEventListener("pointermove",N,!0),r.addEventListener("pointerup",N,!0)):(r.addEventListener("mousedown",N,!0),r.addEventListener("mousemove",N,!0),r.addEventListener("mouseup",N,!0)),t.addEventListener("beforeunload",()=>{wt(e)},{once:!0}),ne.set(t,{focus:n})}const wt=(e,t)=>{const r=Z(e),n=R(e);t&&n.removeEventListener("DOMContentLoaded",t),ne.has(r)&&(r.HTMLElement.prototype.focus=ne.get(r).focus,n.removeEventListener("keydown",be,!0),n.removeEventListener("keyup",be,!0),n.removeEventListener("click",xt,!0),r.removeEventListener("focus",Tt,!0),r.removeEventListener("blur",Pt,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",N,!0),n.removeEventListener("pointermove",N,!0),n.removeEventListener("pointerup",N,!0)):(n.removeEventListener("mousedown",N,!0),n.removeEventListener("mousemove",N,!0),n.removeEventListener("mouseup",N,!0)),ne.delete(r))};function Vr(e){const t=R(e);let r;return t.readyState!=="loading"?qe(e):(r=()=>{qe(e)},t.addEventListener("DOMContentLoaded",r)),()=>wt(e,r)}typeof document<"u"&&Vr();function Ur(){return oe}function Qe(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Gr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Qe(e.onKeyDown),onKeyUp:Qe(e.onKeyUp)}}}function Yr(e){const t=R(e);if(Ur()==="virtual"){let r=t.activeElement;ht(()=>{t.activeElement===r&&e.isConnected&&V(e)})}else V(e)}let Xr=ve.createContext(null);function qr(e){let t=g.useContext(Xr)||{};mt(t,e);let{ref:r,...n}=t;return n}function Qr(e,t){let{focusProps:r}=zr(e),{keyboardProps:n}=Gr(e),o=J(r,n),u=qr(t),l=e.isDisabled?{}:u,v=g.useRef(e.autoFocus);return g.useEffect(()=>{v.current&&t.current&&Yr(t.current),v.current=!1},[t]),{focusableProps:J({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},l)}}function Zr(e,t){let{elementType:r="a",onPress:n,onPressStart:o,onPressEnd:u,onClick:l,isDisabled:v,...b}=e,h={};r!=="a"&&(h={role:"link",tabIndex:v?void 0:0});let{focusableProps:x}=Qr(e,t),{pressProps:L,isPressed:_}=Ir({onPress:n,onPressStart:o,onPressEnd:u,isDisabled:v,ref:t}),k=yr(b,{labelable:!0,isLink:r==="a"}),i=J(x,L),p=vt(),m=Mr(e);return{isPressed:_,linkProps:J(k,m,{...i,...h,"aria-disabled":v||void 0,"aria-current":e["aria-current"],onClick:T=>{var P;(P=L.onClick)==null||P.call(L,T),l&&l(T),!p.isNative&&T.currentTarget instanceof HTMLAnchorElement&&T.currentTarget.href&&!T.isDefaultPrevented()&&Sr(T.currentTarget,T)&&e.href&&(T.preventDefault(),p.open(T.currentTarget,T,e.href,e.routerOptions))}})}}let Ze=new Map;function Jr(e,t){if(e===t)return e;let r=Ze.get(e);if(r)return r(t),t;let n=Ze.get(t);return n?(n(e),e):t}function en(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function tn(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=en(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=it(u,l):o==="id"&&u&&l?t.id=Jr(u,l):t[o]=l!==void 0?l:u}}return t}function rn(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,o=g.useRef({isFocused:!1,isFocusVisible:t||Wt()}),[u,l]=g.useState(!1),[v,b]=g.useState(()=>o.current.isFocused&&o.current.isFocusVisible),h=g.useCallback(()=>b(o.current.isFocused&&o.current.isFocusVisible),[]),x=g.useCallback(k=>{o.current.isFocused=k,l(k),h()},[h]);Vt(k=>{o.current.isFocusVisible=k,h()},[],{isTextInput:r});let{focusProps:L}=Ut({isDisabled:n,onFocusChange:x}),{focusWithinProps:_}=Gt({isDisabled:!n,onFocusWithinChange:x});return{isFocused:u,isFocusVisible:v,focusProps:n?_:L}}function nn(e){var t,r,n,o;const u=Yt(),[l,v]=Xt(e,Be.variantKeys),{ref:b,as:h,children:x,anchorIcon:L,isExternal:_=!1,showAnchorIcon:k=!1,autoFocus:i=!1,className:p,onPress:m,onPressStart:T,onPressEnd:P,onClick:$,...C}=l,S=h||"a",F=qt(b),I=(r=(t=e==null?void 0:e.disableAnimation)!=null?t:u==null?void 0:u.disableAnimation)!=null?r:!1,{linkProps:a}=Zr({...C,onPress:m,onPressStart:T,onPressEnd:P,onClick:$,isDisabled:e.isDisabled,elementType:`${h}`},F),{isFocused:y,isFocusVisible:D,focusProps:d}=rn({autoFocus:i});_&&(C.rel=(n=C.rel)!=null?n:"noopener noreferrer",C.target=(o=C.target)!=null?o:"_blank");const w=g.useMemo(()=>Be({...v,disableAnimation:I,className:p}),[Qt(v),I,p]),s=g.useCallback(()=>({ref:F,className:w,"data-focus":te(y),"data-disabled":te(e.isDisabled),"data-focus-visible":te(D),...tn(d,a,C)}),[w,y,D,d,a,C]);return{Component:S,children:x,anchorIcon:L,showAnchorIcon:k,getLinkProps:s}}var kt=ct((e,t)=>{const{Component:r,children:n,showAnchorIcon:o,anchorIcon:u=M.jsx(pr,{className:fr}),getLinkProps:l}=nn({ref:t,...e});return M.jsx(r,{...l(),children:M.jsxs(M.Fragment,{children:[n,o&&u]})})});kt.displayName="NextUI.Link";var Je=kt,an=g.useLayoutEffect,on=function(t){var r=g.useRef(t);return an(function(){r.current=t}),r},et=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},sn=function(t,r){var n=g.useRef();return g.useCallback(function(o){t.current=o,n.current&&et(n.current,null),n.current=r,r&&et(r,o)},[r])},tt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},ln=function(t){Object.keys(tt).forEach(function(r){t.style.setProperty(r,tt[r],"important")})},rt=ln,A=null,nt=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function cn(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),A||(A=document.createElement("textarea"),A.setAttribute("tabindex","-1"),A.setAttribute("aria-hidden","true"),rt(A)),A.parentNode===null&&document.body.appendChild(A);var o=e.paddingSize,u=e.borderSize,l=e.sizingStyle,v=l.boxSizing;Object.keys(l).forEach(function(_){var k=_;A.style[k]=l[k]}),rt(A),A.value=t;var b=nt(A,e);A.value=t,b=nt(A,e),A.value="x";var h=A.scrollHeight-o,x=h*r;v==="border-box"&&(x=x+o+u),b=Math.max(x,b);var L=h*n;return v==="border-box"&&(L=L+o+u),b=Math.min(L,b),[b,h]}var at=function(){},un=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},dn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],fn=!!document.documentElement.currentStyle,pn=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=un(dn,r),o=n.boxSizing;if(o==="")return null;fn&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var u=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),l=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:u,borderSize:l}},gn=pn;function Et(e,t,r){var n=on(r);g.useLayoutEffect(function(){var o=function(l){return n.current(l)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var bn=function(t){Et(window,"resize",t)},vn=function(t){Et(document.fonts,"loadingdone",t)},hn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],mn=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,u=t.minRows,l=t.onChange,v=l===void 0?at:l,b=t.onHeightChange,h=b===void 0?at:b,x=Dt(t,hn),L=x.value!==void 0,_=g.useRef(null),k=sn(_,r),i=g.useRef(0),p=g.useRef(),m=function(){var $=_.current,C=n&&p.current?p.current:gn($);if(C){p.current=C;var S=cn(C,$.value||$.placeholder||"x",u,o),F=S[0],I=S[1];i.current!==F&&(i.current=F,$.style.setProperty("height",F+"px","important"),h(F,{rowHeight:I}))}},T=function($){L||m(),v($)};return g.useLayoutEffect(m),bn(m),vn(m),g.createElement("textarea",Ft({},x,{onChange:T,ref:k}))},yn=g.forwardRef(mn),Ct=ct(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:o=!1,onHeightChange:u,...l},v)=>{const{Component:b,label:h,description:x,startContent:L,endContent:_,hasHelper:k,shouldLabelBeOutside:i,shouldLabelBeInside:p,isInvalid:m,errorMessage:T,getBaseProps:P,getLabelProps:$,getInputProps:C,getInnerWrapperProps:S,getInputWrapperProps:F,getHelperWrapperProps:I,getDescriptionProps:a,getErrorMessageProps:y}=sr({...l,ref:v,isMultiline:!0}),[D,d]=g.useState(t>1),[w,s]=g.useState(!1),c=h?M.jsx("label",{...$(),children:h}):null,E=C(),j=(W,K)=>{if(t===1&&d(W>=K.rowHeight*2),r>t){const ie=W>=r*K.rowHeight;s(ie)}u==null||u(W,K)},O=o?M.jsx("textarea",{...E,style:Ne(E.style,e??{})}):M.jsx(yn,{...E,cacheMeasurements:n,"data-hide-scroll":te(!w),maxRows:r,minRows:t,style:Ne(E.style,e??{}),onHeightChange:j}),H=g.useMemo(()=>L||_?M.jsxs("div",{...S(),children:[L,O,_]}):M.jsx("div",{...S(),children:O}),[L,E,_,S]);return M.jsxs(b,{...P(),children:[i?c:null,M.jsxs("div",{...F(),"data-has-multiple-rows":te(D),children:[p?c:null,H]}),k?M.jsx("div",{...I(),children:m&&T?M.jsx("div",{...y(),children:T}):x?M.jsx("div",{...a(),children:x}):null}):null]})});Ct.displayName="NextUI.Textarea";var $n=Ct;const xn=()=>f("div",{className:"spinner-container",children:f(ir.Dots,{animation:"fade",background:"rgba(0, 0, 0, 0.5)",color:"#3498db",size:60})});var De={},Tn=st;Object.defineProperty(De,"__esModule",{value:!0});var St=De.default=void 0,Pn=Tn(ut()),wn=M;St=De.default=(0,Pn.default)((0,wn.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var Fe={},kn=st;Object.defineProperty(Fe,"__esModule",{value:!0});var Lt=Fe.default=void 0,En=kn(ut()),Cn=M;Lt=Fe.default=(0,En.default)((0,Cn.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail");const Sn=At(rr)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{"& .hZUxNm":{"white-space":"normal"},backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),Ln=({allData:e,setData:t,users:r,loading:n,handleClickOpen:o,openModal:u,setCurrentRow:l,search:v})=>{const{auth:b}=_t().props,h=lt();g.useState(null),b.roles.includes("Administrator"),b.roles.includes("Supervision Engineer");const x=i=>{switch(i){case"Open":return"danger";case"Closed":return"success";case"Processing":return"primary";case"Signed":return"warning";case"Sent":return"success";default:return""}},L=i=>{if(!v)return i;const p=v.split(" ").filter(Boolean),m=new RegExp(`(${p.join("|")})`,"gi");return i.split(m).map((P,$)=>p.some(C=>P.toLowerCase()===C.toLowerCase())?f("span",{style:{backgroundColor:"yellow"},children:P},$):P)};console.log(r);const _=[{name:"From",selector:i=>i.from,sortable:!0,center:"true",width:"80px",cell:i=>L(i.from)},{name:"Status",selector:i=>i.status,sortable:!0,center:"true",width:"170px",cell:i=>f(xe,{"aria-label":"Status",color:x(i.status),placeholder:"Select Status",value:i.status,onChange:p=>k(i.id,"status",p.target.value),fullWidth:!0,selectedKeys:[i.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Open","Closed"].map(p=>f($e,{value:i.status,children:p},p))})},{name:"Received Date",selector:i=>i.received_date,sortable:!0,center:"true",width:"160px",cell:i=>f(dt,{variant:"underlined",type:"date",fullWidth:!0,value:i.received_date,onChange:p=>k(i.id,"received_date",p.target.value)})},{name:"Memo Number",selector:i=>i.memo_number,sortable:!0,center:"true",width:"200px",cell:i=>f(Je,{isExternal:!0,color:"foreground",isBlock:!0,showAnchorIcon:!0,href:i.letter_link||`/letters/${i.memo_number}.pdf`,anchorIcon:f(Lt,{}),children:i.memo_number||"N/A"})},{name:"Subject",selector:i=>i.subject,sortable:!0,left:!0,width:"260px",cell:i=>f(lr,{content:i.subject,placement:"top",showArrow:!0,radius:"md",size:"md",classNames:{content:["bg-transparent backdrop-blur-lg border border-gray-200","max-w-[300px] text-sm"]},children:f(pe,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:L(i.subject)})})},{name:"Action Taken",selector:i=>i.action_taken,sortable:!0,left:!0,width:"250px",cell:i=>{const[p,m]=g.useState(i.action_taken||"");return f($n,{variant:"underlined",size:"sm",radius:"sm",maxRows:2,fullWidth:!0,value:p,onChange:$=>{m($.target.value)},onBlur:()=>{k(i.id,"action_taken",p)}})}},{name:"Handling Link",selector:i=>i.handling_link,sortable:!0,center:"true",width:"200px",cell:i=>f(Je,{isExternal:!0,color:"primary",isBlock:!0,showAnchorIcon:!0,href:i.handling_link||"#",anchorIcon:f(St,{}),children:i.handling_memo||"N/A"})},{name:"Handling Status",selector:i=>i.handling_status,sortable:!0,center:"true",width:"180px",cell:i=>f(xe,{"aria-label":"Handling Status",color:x(i.handling_status),placeholder:"Select Status",value:i.handling_status,onChange:p=>k(i.id,"handling_status",p.target.value),fullWidth:!0,selectedKeys:[i.handling_status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Processing","Signed","Sent"].map(p=>f($e,{value:i.handling_status,children:p},p))})},{name:"Need Reply",selector:i=>i.need_reply,center:"true",width:"80px",cell:i=>f(le,{color:x(i.status),isSelected:i.need_reply,onChange:p=>k(i.id,"need_reply",p.target.checked)})},{name:"Replied Status",selector:i=>i.replied_status,center:"true",width:"80px",cell:i=>f(le,{color:x(i.status),isSelected:i.replied_status,onChange:p=>k(i.id,"replied_status",p.target.checked)})},{name:"Need Forward",selector:i=>i.need_forward,center:"true",width:"80px",cell:i=>f(le,{color:x(i.status),isSelected:i.need_forward,onChange:p=>k(i.id,"need_forward",p.target.checked)})},{name:"Forwarded Status",selector:i=>i.forwarded_status,center:"true",width:"90px",cell:i=>f(le,{color:x(i.status),isSelected:i.forwarded_status,onChange:p=>k(i.id,"forwarded_status",p.target.checked)})},{name:"Dealt By",selector:i=>i.dealt_by,sortable:!0,center:"true",cell:i=>f(xe,{items:r,variant:"underlined","aria-label":"Dealt By",fullWidth:!0,value:i.dealt_by||"na",onChange:p=>k(i.id,"dealt_by",p.target.value),selectedKeys:[String(i.dealt_by)],style:{minWidth:"260px"},popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"},style:{whiteSpace:"nowrap",minWidth:"fit-content"}},placeholder:"Select a user",renderValue:p=>p.map(m=>f("div",{className:"flex items-center gap-2 m-1",children:f(je,{style:{whiteSpace:"nowrap"},size:"sm",name:m.data.name,description:m.data.designation.title,avatarProps:{radius:"sm",size:"sm",src:m.data.profile_image}})},m.key)),children:p=>f($e,{textValue:p.id,children:f(je,{style:{whiteSpace:"nowrap"},size:"sm",name:p.name,description:p.designation.title,avatarProps:{radius:"sm",size:"sm",src:p.profile_image}})},p.id)})},{name:"Actions",center:"true",width:"150px",cell:i=>B("div",{className:"flex gap-4 items-center",children:[f(Ke,{variant:"bordered",isIconOnly:!0,color:"warning","aria-label":"Edit",onClick:()=>u("editLetter",i),children:f(Jt,{})}),f(Ke,{variant:"bordered",isIconOnly:!0,color:"danger","aria-label":"Delete",onClick:()=>handleDelete(i.id),children:f(or,{})})]})}],k=async(i,p,m)=>{var T,P;console.log(i,p,m);try{const $=await ot.put(route("letters.update"),{id:i,[p]:m});$.status===200?(t(C=>C.map(S=>S.id===i?{...S,[p]:m}:S)),re.success(...$.data.messages||"Letter updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})):re.error($.data.error||`Failed to update letter ${[p]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}catch($){re.error(((P=(T=$.response)==null?void 0:T.data)==null?void 0:P.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}};return B("div",{children:[n&&f(xn,{}),f(It,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:h.palette.text.primary}}}),f(Sn,{columns:_,data:e,defaultSortField:"received_date",highlightOnHover:!0,responsive:!0,dense:!0,sortIcon:f(Zt,{}),keyField:"id"})]})};cr.extend(nr);const _n=ve.memo(({auth:e,title:t,users:r})=>{const n=lt(),[o,u]=g.useState([]),[l,v]=g.useState(!1),[b,h]=g.useState(0),[x,L]=g.useState(0);g.useState([]);const[_,k]=g.useState(),[i,p]=g.useState(null),[m,T]=g.useState(null),[P,$]=g.useState(""),C=Ot(n.breakpoints.down("md")),[S,F]=g.useState(30),[I,a]=g.useState(1),y=async(O,H,W)=>{try{const K=await ot.get(route("letters.paginate"),{params:{page:O,perPage:H,search:W}});console.log(K),u(K.data.data),h(K.data.total),L(K.data.last_page),v(!1)}catch(K){console.log(K),re.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),v(!1)}},D=()=>{const O=new Promise(async(H,W)=>{var K,ie;try{const se=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:i,page:I,perPage:S,search:P,status:filterData.status!=="all"?filterData.status:"",inCharge:filterData.incharge!=="all"?filterData.incharge:"",startDate:(K=filterData.startDate)==null?void 0:K.format("YYYY-MM-DD"),endDate:(ie=filterData.endDate)==null?void 0:ie.format("YYYY-MM-DD")})}),me=await se.json();se.ok?(u(me.data),h(me.total),H("Daily work deleted successfully")):W(me.error||"Failed to delete task")}catch(se){console.error("Error deleting task:",se),W("An error occurred while deleting the task")}finally{w()}});re.promise(O,{pending:{render(){return B("div",{style:{display:"flex",alignItems:"center"},children:[f(Rt,{}),f("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:H}){return f(G,{children:H})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:H}){return f(G,{children:H})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}})},d=g.useCallback((O,H)=>{p(O),T(H)},[]),w=g.useCallback(()=>{T(null),p(null)},[]),s=g.useCallback(O=>{T(O)},[]),c=g.useCallback(()=>{T(null)},[]),E=O=>{const H=O.target.value;$(H)};g.useEffect(()=>{v(!0),y(I,S,P)},[I,S,P]);const j=O=>{a(O)};return B(G,{children:[f(Mt,{title:t}),m==="editLetter"&&f(LetterForm,{open:m==="editLetter",currentRow:_,setData:u,closeModal:c}),m==="deleteLetter"&&f(DeleteLetterForm,{open:m==="deleteLetter",handleClose:w,handleDelete:D,setData:u}),m==="importLetters"&&f(LettersUploadForm,{open:m==="importLetters",closeModal:c,setData:u,setTotalRows:h}),m==="exportLetters"&&f(LettersDownloadForm,{open:m==="exportLetters",closeModal:c,data:o,users:r}),f(pe,{sx:{display:"flex",justifyContent:"center",p:2},children:f(Ht,{in:!0,children:B(er,{children:[f(Kt,{title:t,sx:{padding:"24px"},action:B(pe,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&f(ye,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:f(ar,{})}),e.roles.includes("Administrator")&&f(G,{children:C?B(G,{children:[f(ye,{title:"Import Letters",color:"warning",onClick:()=>s("importLetters"),children:f(Re,{})}),f(ye,{title:"Export Letters",color:"success",onClick:()=>s("exportLetters"),children:f(ze,{})})]}):B(G,{children:[f(Ae,{title:"Import Letters",variant:"outlined",color:"warning",startIcon:f(Re,{}),onClick:()=>s("importLetters"),children:"Import"}),f(Ae,{title:"Export Letters",variant:"outlined",color:"success",startIcon:f(ze,{}),onClick:()=>s("exportLetters"),children:"Export"})]})})]})}),f(Ie,{children:f(pe,{children:f(Oe,{container:!0,spacing:2,children:f(Oe,{item:!0,xs:12,sm:6,md:3,children:f(dt,{label:"Search",type:"text",fullWidth:!0,variant:"bordered",placeholder:"Search...",value:P,onChange:E,endContent:f(ur,{})})})})})}),B(Ie,{children:[f(Ln,{setData:u,setCurrentRow:k,currentPage:I,setCurrentPage:a,setLoading:v,handleClickOpen:d,openModal:s,totalRows:b,lastPage:x,loading:l,allData:o,users:r,search:P}),b>=30&&f("div",{className:"py-2 px-2 flex justify-center items-center",children:f(dr,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:I,total:x,onChange:j})})]})]})})})]})});_n.layout=e=>f(tr,{children:e});export{_n as default};
