import{j as t,a as e,F as W,b as Pe,q as Ie,Y as Te}from"./app-D4vjZJpx.js";import{g as De,j as fe,r as C,u as Z,O as oe,T as B,c as O,G as r,B as U,A as me,b as T,F as J,m as q,S as X,M as E,P as ue,Q as ie,R as le,p as V,a as K,f as xe,q as re,I as Fe,U as de,V as Be,W as Ce,X as ve,Y as Ne,Z as ge,e as je,$ as ae,a0 as j,a1 as x,a2 as Ee,a3 as be}from"./vendor-BkBzn7Rm.js";import{C as _e,d as ne}from"./Edit-BOMcMAmQ.js";import{B as Q,G as z,A as Ae}from"./App-ENa7V2m3.js";import{d as he,G as se}from"./GlassDialog-CHA08HMQ.js";import{L as te}from"./LoadingButton-BIl3f8Bp.js";import{A as ke}from"./Add-4GSdkR1s.js";const We=De([fe.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),fe.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),we=({user:i,allUsers:w,departments:_,designations:A,setUser:h,open:o,closeModal:b})=>{const[P,f]=C.useState({id:i.id,name:i.name||"",gender:i.gender||"",birthday:i.birthday||"",date_of_joining:i.date_of_joining||"",address:i.address||"",employee_id:i.employee_id||"",phone:i.phone||"",email:i.email||"",department:i.department||"",designation:i.designation||"",report_to:i.report_to||""}),[k,d]=C.useState({id:i.id}),[N,I]=C.useState(!1),[g,p]=C.useState({}),[l,D]=C.useState(!1),[c,a]=C.useState(!1),[s,n]=C.useState(null),[u,y]=C.useState(A),[F,R]=C.useState(w),m=Z(),$=v=>{const G=v.target.files[0];if(G){const L=URL.createObjectURL(G);n(L);const H=new Promise(async(M,Y)=>{try{const ee=new FormData;if(ee.append("id",i.id),G){const Se=G.type;if(["image/jpeg","image/jpg","image/png"].includes(Se))ee.append("profile_image",G);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),Y("Invalid file type");return}}const ye=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:ee}),pe=await ye.json();ye.ok?(h(pe.user),D(!1),M([...pe.messages])):(D(!1),p(pe.errors),Y(pe.error||"Failed to update profile image."),console.error(pe.errors))}catch(ee){D(!1),console.log(ee),Y(ee.message||"An unexpected error occurred.")}});Q.promise(H,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile image..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:M}){return e(W,{children:M.map((Y,ee)=>e("div",{children:Y},ee))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:M}){return e(W,{children:M})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}},S=(v,G)=>{f(L=>{const H={...L,[v]:G};return G===""&&delete H[v],H}),d(L=>{const H={...L,[v]:G};return G===""&&delete H[v],H})};C.useEffect(()=>{i.department!==P.department&&(P.designation=null,P.report_to=null),y(A.filter(L=>L.department_id===(k.department||P.department))),R(w.filter(L=>L.department===(k.department||P.department)));const v={...k};for(const L in v)L!=="id"&&v[L]===i[L]&&delete v[L];const G=Object.keys(v).length>1;I(G),console.log("User: ",i),console.log("initialUserData: ",P),console.log("changedUserData: ",k)},[P,k]);async function ce(v){v.preventDefault(),D(!0);const G=new Promise(async(L,H)=>{try{const M=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"profile",...P})}),Y=await M.json();M.ok?(h(Y.user),D(!1),b(),L([...Y.messages])):(D(!1),p(Y.errors),H(Y.error||"Failed to update profile information."),console.error(Y.errors))}catch(M){D(!1),console.log(M),H(M.message||"An unexpected error occurred.")}});Q.promise(G,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:L}){return e(W,{children:L.map((H,M)=>e("div",{children:H},M))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:L}){return e(W,{children:L})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return t(se,{open:o,onClose:b,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Profile Information"}),e(O,{variant:"outlined",color:"primary",onClick:b,sx:{position:"absolute",top:8,right:16},children:e(he,{})})]}),t("form",{onSubmit:ce,children:[e(ie,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:t(U,{position:"relative",display:"inline-block",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[e(me,{alt:k.name||P.name,src:s||i.profile_image,sx:{width:100,height:100}}),c&&e(W,{children:e(U,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(O,{color:"primary",component:"span",children:e(We,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:$}),e("label",{htmlFor:"upload-button",children:e(U,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:k.name||P.name||"",onChange:v=>S("name",v.target.value),error:!!g.name,helperText:g.name})}),e(r,{item:!0,xs:12,md:6,children:t(J,{fullWidth:!0,children:[e(q,{id:"gender-label",children:"Gender"}),t(X,{labelId:"gender-label",value:k.gender||P.gender||"na",onChange:v=>S("gender",v.target.value),error:!!g.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{disabled:!0,value:"na",children:"Select Gender"}),e(E,{value:"Male",children:"Male"}),e(E,{value:"Female",children:"Female"})]}),e(ue,{children:g.gender})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Birth Date",type:"date",fullWidth:!0,value:k.birthday||P.birthday||"",onChange:v=>S("birthday",v.target.value),InputLabelProps:{shrink:!0},error:!!g.birthday,helperText:g.birthday})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Joining Date",type:"date",fullWidth:!0,value:k.date_of_joining||P.date_of_joining||"",onChange:v=>S("date_of_joining",v.target.value),InputLabelProps:{shrink:!0},error:!!g.date_of_joining,helperText:g.date_of_joining})}),e(r,{item:!0,xs:12,children:e(T,{label:"Address",fullWidth:!0,value:k.address||P.address,onChange:v=>S("address",v.target.value),error:!!g.address,helperText:g.address})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Employee ID",fullWidth:!0,value:k.employee_id||P.employee_id||"",onChange:v=>S("employee_id",v.target.value),error:!!g.employee_id,helperText:g.employee_id})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone Number",fullWidth:!0,value:k.phone||P.phone,onChange:v=>S("phone",v.target.value),error:!!g.phone,helperText:g.phone})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Email Adress",fullWidth:!0,value:k.email||P.email,onChange:v=>S("email",v.target.value),error:!!g.email,helperText:g.email})}),e(r,{item:!0,xs:12,md:6,children:t(J,{fullWidth:!0,children:[e(q,{id:"department",children:"Department"}),t(X,{labelId:"department",onChange:v=>S("department",v.target.value),error:!!g.department,id:`department-select-${i.id}`,value:k.department||P.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select Department"}),_.map(v=>e(E,{value:v.id,children:v.name},v.id))]}),e(ue,{children:g.department})]})}),e(r,{item:!0,xs:12,md:6,children:t(J,{fullWidth:!0,children:[e(q,{id:"designation",children:"Designation"}),t(X,{labelId:"designation",onChange:v=>S("designation",v.target.value),label:"Designation",error:!!g.designation,id:`designation-select-${i.id}`,value:k.designation||P.designation||"na",disabled:!i.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select Designation"}),u.map(v=>e(E,{value:v.id,children:v.title},v.id))]}),e(ue,{children:g.designation})]})}),e(r,{item:!0,xs:12,md:6,children:t(J,{fullWidth:!0,children:[e(q,{id:"report_to",children:"Reports To"}),t(X,{labelId:"report_to",value:k.report_to||P.report_to,onChange:v=>S("report_to",v.target.value),label:"Reports To",error:!!g.report_to,disabled:i.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",children:"--"}),F.map(v=>e(E,{value:v.id,children:v.name},v.id))]}),e(ue,{children:g.report_to})]})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!N,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,children:"Submit"})})]})]})},Re=({user:i,setUser:w,open:_,closeModal:A})=>{const[h,o]=C.useState({id:i.id,passport_no:i.passport_no||"",passport_exp_date:i.passport_exp_date||"",nationality:i.nationality||"",religion:i.religion||"",marital_status:i.marital_status||"",employment_of_spouse:i.employment_of_spouse||"",number_of_children:i.number_of_children||"",nid:i.nid||""}),[b,P]=C.useState({id:i.id}),[f,k]=C.useState(!1),[d,N]=C.useState({}),[I,g]=C.useState(!1),p=Z(),l=(c,a)=>{o(s=>{const n={...s,[c]:a};return a===""&&delete n[c],c==="marital_status"&&a==="Single"&&(n.employment_of_spouse="",n.number_of_children=""),n}),P(s=>{const n={...s,[c]:a};return a===""&&delete n[c],c==="marital_status"&&a==="Single"&&(n.employment_of_spouse=null,n.number_of_children=null),n})};C.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===i[a]&&delete b[a];const c=Object.keys(b).filter(a=>a!=="id").length>0;k(c)},[h,b,i]);async function D(c){c.preventDefault(),g(!0);const a=new Promise(async(s,n)=>{try{const u=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"personal",...h})}),y=await u.json();u.ok?(w(y.user),g(!1),A(),s([...y.messages])):(g(!1),N(y.errors),n(y.error||"Failed to update personal information."),console.error(y.errors))}catch(u){g(!1),console.log(u),n(u.message||"An unexpected error occurred.")}});Q.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:s}){return e(W,{children:s.map((n,u)=>e("div",{children:n},u))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:s}){return e(W,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})}return t(se,{open:_,onClose:A,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Personal Information"}),e(O,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(he,{})})]}),t("form",{onSubmit:D,children:[e(ie,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Passport No",fullWidth:!0,value:b.passport_no||h.passport_no||"",onChange:c=>l("passport_no",c.target.value),error:!!d.passport_no,helperText:d.passport_no})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:b.passport_exp_date||h.passport_exp_date||"",onChange:c=>l("passport_exp_date",c.target.value),InputLabelProps:{shrink:!0},error:!!d.passport_exp_date,helperText:d.passport_exp_date})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"NID No",fullWidth:!0,value:b.nid||h.nid||"",onChange:c=>l("nid",c.target.value),error:!!d.nid,helperText:d.nid})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Nationality",fullWidth:!0,value:b.nationality||h.nationality||"",onChange:c=>l("nationality",c.target.value),error:!!d.nationality,helperText:d.nationality})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Religion",fullWidth:!0,value:b.religion||h.religion||"",onChange:c=>l("religion",c.target.value),error:!!d.religion,helperText:d.religion})}),e(r,{item:!0,xs:12,md:6,children:t(J,{fullWidth:!0,children:[e(q,{id:"marital-status-label",children:"Marital status"}),t(X,{labelId:"marital-status-label",value:b.marital_status||h.marital_status||"na",onChange:c=>l("marital_status",c.target.value),label:"Marital status",error:!!d.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",children:"-"}),e(E,{value:"Single",children:"Single"}),e(E,{value:"Married",children:"Married"})]}),e(ue,{children:d.marital_status})]})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Employment of spouse",fullWidth:!0,value:b.marital_status==="Single"?"":b.employment_of_spouse||h.employment_of_spouse,onChange:c=>l("employment_of_spouse",c.target.value),error:!!d.employment_of_spouse,helperText:d.employment_of_spouse,disabled:b.marital_status==="Single"||h.marital_status==="Single"})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"No. of children",fullWidth:!0,type:"number",value:b.marital_status==="Single"?"":b.number_of_children||h.number_of_children,onChange:c=>l("number_of_children",c.target.value),error:!!d.number_of_children,helperText:d.number_of_children,disabled:b.marital_status==="Single"||h.marital_status==="Single"})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},Le=({user:i,setUser:w,open:_,closeModal:A})=>{const[h,o]=C.useState({id:i.id,emergency_contact_primary_name:i.emergency_contact_primary_name||"",emergency_contact_primary_relationship:i.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:i.emergency_contact_primary_phone||"",emergency_contact_secondary_name:i.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:i.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:i.emergency_contact_secondary_phone||""}),[b,P]=C.useState({id:i.id}),[f,k]=C.useState(!1),[d,N]=C.useState({}),[I,g]=C.useState(!1),p=Z(),l=(c,a)=>{o(s=>{const n={...s,[c]:a};return a===""&&delete n[c],n}),P(s=>{const n={...s,[c]:a};return a===""&&delete n[c],n})};C.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===i[a]&&delete b[a];const c=Object.keys(b).filter(a=>a!=="id").length>0;k(c)},[h,b,i]);async function D(c){c.preventDefault(),g(!0);const a=new Promise(async(s,n)=>{try{const u=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"emergency",...h})}),y=await u.json();u.ok?(w(y.user),g(!1),A(),s([...y.messages])):(g(!1),N(y.errors),n(y.error||"Failed to update emergency contact."),console.error(y.errors))}catch(u){g(!1),A(),console.log(u),n(["An unexpected error occurred."])}});Q.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:s}){return e(W,{children:s.map((n,u)=>e("div",{children:n},u))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:s}){return e(W,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})}return t(se,{open:_,onClose:A,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Personal Information"}),e(O,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(he,{})})]}),t("form",{onSubmit:D,children:[e(ie,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(z,{children:t(K,{children:[e(B,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",required:!0,fullWidth:!0,value:b.emergency_contact_primary_name||h.emergency_contact_primary_name||"",onChange:c=>l("emergency_contact_primary_name",c.target.value),error:!!d.bank_name,helperText:d.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",required:!0,fullWidth:!0,value:b.emergency_contact_primary_relationship||h.emergency_contact_primary_relationship||"",onChange:c=>l("emergency_contact_primary_relationship",c.target.value),error:!!d.bank_name,helperText:d.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",required:!0,fullWidth:!0,value:b.emergency_contact_primary_phone||h.emergency_contact_primary_phone||"",onChange:c=>l("emergency_contact_primary_phone",c.target.value),error:!!d.bank_name,helperText:d.bank_name})})]})]})})}),e(r,{item:!0,xs:12,children:e(z,{children:t(K,{children:[e(B,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:b.emergency_contact_secondary_name||h.emergency_contact_secondary_name||"",onChange:c=>l("emergency_contact_secondary_name",c.target.value),error:!!d.bank_name,helperText:d.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",fullWidth:!0,value:b.emergency_contact_secondary_relationship||h.emergency_contact_secondary_relationship||"",onChange:c=>l("emergency_contact_secondary_relationship",c.target.value),error:!!d.bank_name,helperText:d.bank_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",fullWidth:!0,value:b.emergency_contact_secondary_phone||h.emergency_contact_secondary_phone||"",onChange:c=>l("emergency_contact_secondary_phone",c.target.value),error:!!d.bank_name,helperText:d.bank_name})})]})]})})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},$e=({user:i,setUser:w,open:_,closeModal:A})=>{const[h,o]=C.useState({id:i.id,bank_name:i.bank_name||"",bank_account_no:i.bank_account_no||"",ifsc_code:i.ifsc_code||"",pan_no:i.pan_no||""}),[b,P]=C.useState({id:i.id}),[f,k]=C.useState(!1),[d,N]=C.useState({}),[I,g]=C.useState(!1),p=Z(),l=(c,a)=>{o(s=>{const n={...s,[c]:a};return a===""&&delete n[c],n}),P(s=>{const n={...s,[c]:a};return a===""&&delete n[c],n})};C.useEffect(()=>{for(const a in b)a!=="id"&&b[a]===i[a]&&delete b[a];const c=Object.keys(b).filter(a=>a!=="id").length>0;k(c)},[h,b,i]);async function D(c){c.preventDefault(),g(!0);const a=new Promise(async(s,n)=>{try{const u=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"bank",...h})}),y=await u.json();u.ok?(w(y.user),g(!1),A(),s([...y.messages])):(g(!1),N(y.errors),n(y.error||"Failed to update bank information."),console.error(y.errors))}catch(u){g(!1),console.log(u),n(u.message||"An unexpected error occurred.")}});Q.promise(a,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating bank information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:s}){return e(W,{children:s.map((n,u)=>e("div",{children:n},u))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:s}){return e(W,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})}return t(se,{open:_,onClose:A,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Bank Information"}),e(O,{variant:"outlined",color:"primary",onClick:A,sx:{position:"absolute",top:8,right:16},children:e(he,{})})]}),t("form",{onSubmit:D,children:[e(ie,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,children:e(T,{label:"Bank Name",fullWidth:!0,value:b.bank_name||h.bank_name||"",onChange:c=>l("bank_name",c.target.value),error:!!d.bank_name,helperText:d.bank_name})}),e(r,{item:!0,xs:12,children:e(T,{size:"small",label:"Bank Account No.",fullWidth:!0,value:b.bank_account_no||h.bank_account_no||"",onChange:c=>l("bank_account_no",c.target.value),error:!!d.bank_account_no,helperText:d.bank_account_no})}),e(r,{item:!0,xs:12,children:e(T,{label:"IFSC Code",fullWidth:!0,value:b.ifsc_code||h.ifsc_code||"",onChange:c=>l("ifsc_code",c.target.value),error:!!d.ifsc_code,helperText:d.ifsc_code})}),e(r,{item:!0,xs:12,children:e(T,{label:"PAN No.",fullWidth:!0,value:b.pan_no||h.pan_no||"",onChange:c=>l("pan_no",c.target.value),error:!!d.pan_no,helperText:d.pan_no})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},Oe=({user:i,open:w,closeModal:_,handleDelete:A,setUser:h})=>{const[o,b]=C.useState({id:i.id,family_member_name:i.family_member_name||"",family_member_relationship:i.family_member_relationship||"",family_member_dob:i.family_member_dob||"",family_member_phone:i.family_member_phone||""}),[P,f]=C.useState({id:i.id}),[k,d]=C.useState(!1),[N,I]=C.useState({}),[g,p]=C.useState(!1),l=Z(),D=(a,s)=>{b(n=>{const u={...n,[a]:s};return s===""&&delete u[a],u}),f(n=>{const u={...n,[a]:s};return s===""&&delete u[a],u})};C.useEffect(()=>{for(const s in P)s!=="id"&&P[s]===i[s]&&delete P[s];const a=Object.keys(P).filter(s=>s!=="id").length>0;d(a)},[o,P,i]);async function c(a){a.preventDefault(),p(!0);const s=new Promise(async(n,u)=>{try{const y=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"family",...o})}),F=await y.json();y.ok?(h(F.user),p(!1),_(),n([...F.messages])):(p(!1),I(F.errors),u(F.error||"Failed to update family information."),console.error(F.errors))}catch(y){p(!1),console.log(y),u(y.message||"An unexpected error occurred.")}});Q.promise(s,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating family member information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}},success:{render({data:n}){return e(W,{children:n.map((u,y)=>e("div",{children:u},y))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}},error:{render({data:n}){return e(W,{children:n})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:l.glassCard.backgroundColor,border:l.glassCard.border,color:l.palette.text.primary}}})}return t(se,{open:w,onClose:_,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Family Member"}),e(O,{variant:"outlined",color:"primary",onClick:_,sx:{position:"absolute",top:8,right:16},children:e(he,{})})]}),t("form",{onSubmit:c,children:[e(ie,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Name",fullWidth:!0,value:P.family_member_name||o.family_member_name||"",onChange:a=>D("family_member_name",a.target.value),error:!!N.family_member_name,helperText:N.family_member_name})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Relationship",fullWidth:!0,value:P.family_member_relationship||o.family_member_relationship||"",onChange:a=>D("family_member_relationship",a.target.value),error:!!N.family_member_relationship,helperText:N.family_member_relationship})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Date of Birth",fullWidth:!0,type:"date",value:P.family_member_dob||o.family_member_dob||"",onChange:a=>D("family_member_dob",a.target.value),InputLabelProps:{shrink:!0},error:!!N.family_member_dob,helperText:N.family_member_dob})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Phone",fullWidth:!0,value:P.family_member_phone||o.family_member_phone||"",onChange:a=>D("family_member_phone",a.target.value),error:!!N.family_member_phone,helperText:N.family_member_phone})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!k,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:g,children:"Submit"})})]})]})},Ue=({user:i,open:w,closeModal:_,setUser:A})=>{const[h,o]=C.useState({id:i.id}),[b,P]=C.useState(!1),[f,k]=C.useState(i.educations&&i.educations.length>0?i.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[d,N]=C.useState({}),[I,g]=C.useState(!1),p=Z(),l=(s,n,u)=>{console.log(u);const y=[...f];y[s]={...y[s],[n]:u},k(y);const F=y.filter((m,$)=>{const S=i.educations[$]||{},ce=!S.id||m.institution!==S.institution||m.subject!==S.subject||m.degree!==S.degree||m.starting_date!==S.starting_date||m.complete_date!==S.complete_date||m.grade!==S.grade,v=S.id&&m.institution===S.institution&&m.subject===S.subject&&m.degree===S.degree&&m.starting_date===S.starting_date&&m.complete_date===S.complete_date&&m.grade===S.grade;return ce&&!v});o(m=>({...m,educations:[...F]}));const R=F.length>0;P(R)},D=async s=>{const n=f[s],u=f.filter((y,F)=>F!==s);if(k(u.length>0?u:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),n.id){const y=new Promise(async(F,R)=>{try{const m=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:i.id})}),$=await m.json();m.ok?(o(S=>({...S,educations:$.educations})),A(S=>({...S,educations:$.educations})),F($.message||"Education record deleted successfully.")):(N($.errors),console.log($.errors),R($.error||"Failed to delete education record."))}catch(m){R(m)}});Q.promise(y,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:F}){return e(W,{children:F})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:F}){return e(W,{children:F})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})}},c=async s=>{s.preventDefault(),g(!0);const n=new Promise(async(u,y)=>{try{const F=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:f.map(m=>({...m,user_id:i.id}))})}),R=await F.json();F.ok?(A(m=>({...m,educations:R.educations})),g(!1),_(),u([...R.messages])):(g(!1),N(R.errors),console.log(R.errors),y(R.error||"Failed to update education records."))}catch(F){g(!1),y(F.message||"An unexpected error occurred while updating education records.")}});Q.promise(n,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:u}){return e(W,{children:u.map((y,F)=>e("div",{children:y},F))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:u}){return e(W,{children:u})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})},a=async()=>{k([...f,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return t(se,{open:w,onClose:_,maxWidth:"md",fullWidth:!0,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Education Information"}),e(O,{onClick:_,sx:{position:"absolute",top:8,right:16},children:e(_e,{})})]}),t("form",{onSubmit:c,children:[e(ie,{children:t(U,{children:[e(r,{container:!0,spacing:2,children:f.map((s,n)=>e(r,{item:!0,xs:12,children:e(z,{children:t(K,{children:[t(B,{variant:"h6",gutterBottom:!0,children:["Education #"+(n+1),e(O,{onClick:()=>D(n),sx:{position:"absolute",top:8,right:16},children:e(_e,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Institution",fullWidth:!0,value:s.institution||"",onChange:u=>l(n,"institution",u.target.value),error:!!d[`educations.${n}.institution`],helperText:d[`educations.${n}.institution`]?d[`educations.${n}.institution`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Degree",fullWidth:!0,value:s.degree||"",onChange:u=>l(n,"degree",u.target.value),error:!!d[`educations.${n}.degree`],helperText:d[`educations.${n}.degree`]?d[`educations.${n}.degree`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Subject",fullWidth:!0,value:s.subject||"",onChange:u=>l(n,"subject",u.target.value),error:!!d[`educations.${n}.subject`],helperText:d[`educations.${n}.subject`]?d[`educations.${n}.subject`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:s.starting_date||"",onChange:u=>l(n,"starting_date",u.target.value),error:!!d[`educations.${n}.starting_date`],helperText:d[`educations.${n}.starting_date`]?d[`educations.${n}.starting_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:s.complete_date||"",onChange:u=>l(n,"complete_date",u.target.value),error:!!d[`educations.${n}.complete_date`],helperText:d[`educations.${n}.complete_date`]?d[`educations.${n}.complete_date`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Grade",fullWidth:!0,value:s.grade||"",onChange:u=>l(n,"grade",u.target.value),error:!!d[`educations.${n}.grade`],helperText:d[`educations.${n}.grade`]?d[`educations.${n}.grade`][0]:""})})]})]})})},n))}),e(U,{mt:2,children:t(xe,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(ke,{})," Add More"]})})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},Ge=({user:i,open:w,closeModal:_,setUser:A})=>{const[h,o]=C.useState({id:i.id}),[b,P]=C.useState(!1),[f,k]=C.useState(i.experiences.length>0?i.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[d,N]=C.useState({}),[I,g]=C.useState(!1),p=Z(),l=(s,n,u)=>{const y=[...f];y[s]={...y[s],[n]:u},k(y);const F=y.filter((m,$)=>{const S=i.experiences[$]||{},ce=!S.id||m.company_name!==S.company_name||m.location!==S.location||m.job_position!==S.job_position||m.period_from!==S.period_from||m.period_to!==S.period_to||m.description!==S.description,v=S.id&&m.company_name===S.company_name&&m.location===S.location&&m.job_position===S.job_position&&m.period_from===S.period_from&&m.period_to===S.period_to&&m.description===S.description;return ce&&!v});o(m=>({...m,experiences:[...F]}));const R=F.length>0;P(R)},D=async s=>{const n=f[s],u=f.filter((y,F)=>F!==s);if(k(u.length>0?u:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),n.id){const y=new Promise(async(F,R)=>{try{const m=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:i.id})}),$=await m.json();m.ok?(o(S=>({...S,experiences:$.experiences})),A(S=>({...S,experiences:$.experiences})),F($.message||"Experience record deleted successfully.")):(N([...$.errors]),R($.error||"Failed to delete experience record."))}catch(m){R(m)}});Q.promise(y,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:F}){return e(W,{children:F})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:F}){return e(W,{children:F})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})}},c=async s=>{s.preventDefault(),g(!0);const n=new Promise(async(u,y)=>{try{const F=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:f.map(m=>({...m,user_id:i.id}))})}),R=await F.json();F.ok?(A(m=>({...m,experiences:R.experiences})),g(!1),_(),u([...R.messages])):(g(!1),N(R.errors),console.log(R.errors),y(R.error||"Failed to update experience records."))}catch(F){g(!1),y(F.message||"An unexpected error occurred while updating experience records.")}});Q.promise(n,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:u}){return e(W,{children:u.map((y,F)=>e("div",{children:y},F))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:u}){return e(W,{children:u})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})},a=async()=>{k([...f,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return t(se,{open:w,onClose:_,maxWidth:"md",fullWidth:!0,children:[t(oe,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(B,{children:"Experience Information"}),e(O,{onClick:_,sx:{position:"absolute",top:8,right:16},children:e(_e,{})})]}),t("form",{onSubmit:c,children:[e(ie,{children:t(U,{children:[e(r,{container:!0,spacing:2,children:f.map((s,n)=>e(r,{item:!0,xs:12,children:e(z,{children:t(K,{children:[t(B,{variant:"h6",gutterBottom:!0,children:["Experience #"+(n+1),e(O,{onClick:()=>D(n),sx:{position:"absolute",top:8,right:16},children:e(_e,{})})]}),t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Company",fullWidth:!0,value:s.company_name||"",onChange:u=>l(n,"company_name",u.target.value),error:!!d[`experiences.${n}.company_name`],helperText:d[`experiences.${n}.company_name`]?d[`experiences.${n}.company_name`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Location",fullWidth:!0,value:s.location||"",onChange:u=>l(n,"location",u.target.value),error:!!d[`experiences.${n}.location`],helperText:d[`experiences.${n}.location`]?d[`experiences.${n}.location`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Role",fullWidth:!0,value:s.job_position||"",onChange:u=>l(n,"job_position",u.target.value),error:!!d[`experiences.${n}.job_position`],helperText:d[`experiences.${n}.job_position`]?d[`experiences.${n}.job_position`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:s.period_from||"",onChange:u=>l(n,"period_from",u.target.value),error:!!d[`experiences.${n}.period_from`],helperText:d[`experiences.${n}.period_from`]?d[`experiences.${n}.period_from`][0]:""})}),e(r,{item:!0,xs:12,md:6,children:e(T,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:s.period_to||"",onChange:u=>l(n,"period_to",u.target.value),error:!!d[`experiences.${n}.period_to`],helperText:d[`experiences.${n}.period_to`]?d[`experiences.${n}.period_to`][0]:""})}),e(r,{item:!0,xs:12,children:e(T,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:s.description||"",onChange:u=>l(n,"description",u.target.value),error:!!d[`experiences.${n}.description`],helperText:d[`experiences.${n}.description`]?d[`experiences.${n}.description`][0]:""})})]})]})})},n))}),t(xe,{size:"small",color:"error",sx:{mt:2},onClick:a,children:[e(ke,{})," Add More"]})]})}),e(le,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},Me=({user:i,setUser:w})=>{const[_,A]=C.useState({id:i.id,salary_basis:i.salary_basis||"",salary_amount:i.salary_amount||"",payment_type:i.payment_type||"",pf_contribution:i.pf_contribution??!1,pf_no:i.pf_no||"",employee_pf_rate:i.employee_pf_rate||0,additional_pf_rate:i.additional_pf_rate||0,total_pf_rate:i.total_pf_rate||0,esi_contribution:i.esi_contribution??!1,esi_no:i.esi_no||"",employee_esi_rate:i.employee_esi_rate||0,additional_esi_rate:i.additional_esi_rate||0,total_esi_rate:i.total_esi_rate||0}),[h,o]=C.useState({id:i.id}),[b,P]=C.useState(!1),[f,k]=C.useState({}),[d,N]=C.useState(!1),I=Z(),g=(l,D)=>{A(c=>{const a={...c,[l]:D};return D===""&&delete a[l],l==="pf_contribution"&&D===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(l==="employee_pf_rate"||l==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),l==="esi_contribution"&&D===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(l==="employee_esi_rate"||l==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a}),o(c=>{const a={...c,[l]:D};return D===""&&delete a[l],l==="pf_contribution"&&D===0?(a.pf_no="",a.employee_pf_rate=0,a.additional_pf_rate=0,a.total_pf_rate=0):(l==="employee_pf_rate"||l==="additional_pf_rate")&&(a.total_pf_rate=a.employee_pf_rate+a.additional_pf_rate),l==="esi_contribution"&&D===0?(a.esi_no="",a.employee_esi_rate=0,a.additional_esi_rate=0,a.total_esi_rate=0):(l==="employee_esi_rate"||l==="additional_esi_rate")&&(a.total_esi_rate=a.employee_esi_rate+a.additional_esi_rate),a})};C.useEffect(()=>{for(const D in h)D!=="id"&&h[D]===i[D]&&delete h[D];const l=Object.keys(h).filter(D=>D!=="id").length>0;P(l),console.log(_),console.log(h)},[_,h,i]);async function p(l){l.preventDefault(),N(!0);const D=new Promise(async(c,a)=>{try{const s=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"salary",..._})}),n=await s.json();s.ok?(w(n.user),N(!1),c([...n.messages])):(N(!1),k(n.errors),a(n.error||"Failed to update salary information."),console.error(n.errors))}catch(s){N(!1),console.log(s),a(s.message||"An unexpected error occurred.")}});Q.promise(D,{pending:{render(){return t("div",{style:{display:"flex",alignItems:"center"},children:[e(V,{}),e("span",{style:{marginLeft:"8px"},children:"Updating salary information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}},success:{render({data:c}){return e(W,{children:c.map((a,s)=>e("div",{children:a},s))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}},error:{render({data:c}){return e(W,{children:c})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}}})}return t(z,{children:[e(re,{title:"Salary & Statutory Information"}),t("form",{onSubmit:p,children:[t(K,{children:[e(B,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"salary-basis-label",children:"Salary basis"}),t(X,{labelId:"salary-basis-label",value:h.salary_basis||_.salary_basis||"na",onChange:l=>g("salary_basis",l.target.value),error:!!f.salary_basis,helperText:f.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select salary basis type"}),e(E,{value:"Hourly",children:"Hourly"}),e(E,{value:"Daily",children:"Daily"}),e(E,{value:"Weekly",children:"Weekly"}),e(E,{value:"Monthly",children:"Monthly"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:h.salary_amount||_.salary_amount||"",onChange:l=>g("salary_amount",l.target.value),InputProps:{startAdornment:e(Fe,{position:"start",children:"$"})},error:!!f.salary_amount,helperText:f.salary_amount})}),e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"payment-type-label",children:"Payment type"}),t(X,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${i.id}`,value:h.payment_type||_.payment_type||"na",onChange:l=>g("payment_type",l.target.value),error:!!f.payment_type,helperText:f.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select payment type"}),e(E,{value:"Bank transfer",children:"Bank transfer"}),e(E,{value:"Check",children:"Check"}),e(E,{value:"Cash",children:"Cash"})]})]})})]}),e(de,{sx:{my:3}}),e(B,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"pf-contribution-label",children:"PF contribution"}),t(X,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${i.id}`,value:h.pf_contribution!==void 0?h.pf_contribution:_.pf_contribution!==void 0?_.pf_contribution:"na",onChange:l=>g("pf_contribution",l.target.value),error:!!f.pf_contribution,helperText:f.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select PF contribution"}),e(E,{value:1,children:"Yes"}),e(E,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:h.pf_no||_.pf_no,onChange:l=>g("pf_no",l.target.value),error:!!f.pf_no,helperText:f.pf_no})}),e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"employee-pf-rate-label",children:"Employee PF rate"}),t(X,{disabled:!(h.pf_contribution||_.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:h.employee_pf_rate||_.employee_pf_rate||"na",onChange:l=>g("employee_pf_rate",l.target.value),error:!!f.employee_pf_rate,helperText:f.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"additional-rate-label",children:"Additional rate"}),t(X,{disabled:!(h.pf_contribution||_.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${i.id}`,value:h.additional_pf_rate||_.additional_pf_rate||"na",onChange:l=>g("additional_pf_rate",l.target.value),error:!!f.additional_pf_rate,helperText:f.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:h.total_pf_rate||_.total_pf_rate?`${h.total_pf_rate||_.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!f.total_pf_rate,helperText:f.total_pf_rate})})]}),e(de,{sx:{my:3}}),e(B,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),t(r,{container:!0,spacing:3,children:[e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"ESI contribution"}),t(X,{labelId:"esi-contribution-label",label:"ESI contribution",value:h.esi_contribution!==void 0?h.esi_contribution:_.esi_contribution!==void 0?_.esi_contribution:"na",onChange:l=>g("esi_contribution",l.target.value),error:!!f.esi_contribution,helperText:f.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(E,{value:1,children:"Yes"}),e(E,{value:0,children:"No"})]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:h.esi_no||_.esi_no,onChange:l=>g("esi_no",l.target.value),error:!!f.esi_no,helperText:f.esi_no})}),e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"Employee ESI rate"}),t(X,{disabled:!(h.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:h.employee_esi_rate||_.employee_esi_rate||"na",onChange:l=>g("employee_esi_rate",l.target.value),error:!!f.employee_esi_rate,helperText:f.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:t(J,{fullWidth:!0,children:[e(q,{id:"esi-contribution-label",children:"Additional rate"}),t(X,{disabled:!(h.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:h.additional_esi_rate||_.additional_esi_rate||"na",onChange:l=>g("additional_esi_rate",l.target.value),error:!!f.additional_esi_rate,helperText:f.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(E,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(l=>t(E,{value:l,children:[l,"%"]},l))]})]})}),e(r,{item:!0,xs:12,md:4,children:e(T,{disabled:!(h.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:h.total_esi_rate||_.total_esi_rate?`${h.total_esi_rate||_.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!f.total_esi_rate,helperText:f.total_esi_rate})})]})]}),e(Be,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:d,children:"Submit"})})]})]})},Je=({project:i})=>{const w=Z();return e(z,{children:t(U,{sx:{p:2},children:[e(B,{variant:"h6",gutterBottom:!0,children:e(Pe,{style:{display:"flex",alignItems:"center",color:w.palette.text.primary,textDecoration:"none"},href:"/",as:"a",children:i.title})}),t(B,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[e("b",{children:i.openTasks})," open tasks, ",e("b",{children:i.completedTasks})," tasks completed"]}),e(B,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:i.description}),t(U,{mb:2,children:[e(B,{variant:"subtitle2",color:"textPrimary",children:"Deadline:"}),e(B,{variant:"body2",color:"textSecondary",children:i.deadline})]}),t(U,{mb:2,children:[e(B,{variant:"subtitle2",color:"textPrimary",children:"Project Leaders:"}),e(U,{display:"flex",children:e(Ce,{max:4,total:5,children:i.leaders.map((_,A)=>e(ve,{title:_.name,arrow:!0,children:e(me,{src:_.avatar,alt:_.name})},A))})})]}),t(U,{mb:2,children:[e(B,{variant:"subtitle2",color:"textPrimary",children:"Project Members:"}),e(U,{display:"flex",children:e(Ce,{max:4,total:24,children:i.team.map((_,A)=>e(ve,{title:_.name,arrow:!0,children:e(me,{src:_.avatar,alt:_.name})},A))})})]}),t(B,{variant:"body2",gutterBottom:!0,children:["Progress ",t("span",{style:{float:"right"},children:[i.progress,"%"]})]}),e(Ne,{variant:"determinate",value:i.progress})]})})},qe=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],Ze=({title:i,allUsers:w,report_to:_,departments:A,designations:h})=>{var p,l,D,c;const[o,b]=C.useState(Ie().props.user),[P,f]=ge.useState(0);ge.useState(null);const[k,d]=C.useState(null);console.log(o);const N=a=>{d(a)},I=()=>{d(null)},g=(a,s)=>{f(s)};return t(Ae,{children:[e(Te,{title:o.name}),k==="profile"&&e(we,{user:o,allUsers:w,departments:A,designations:h,open:k==="profile",setUser:b,closeModal:I}),k==="personal"&&e(Re,{user:o,open:k==="personal",setUser:b,closeModal:I}),k==="emergency"&&e(Le,{user:o,open:k==="emergency",setUser:b,closeModal:I}),k==="bank"&&e($e,{user:o,open:k==="bank",setUser:b,closeModal:I}),k==="family"&&e(Oe,{user:o,open:k==="family",setUser:b,closeModal:I}),k==="education"&&e(Ue,{user:o,open:k==="education",setUser:b,closeModal:I}),k==="experience"&&e(Ge,{user:o,open:k==="experience",setUser:b,closeModal:I}),e(U,{sx:{display:"flex",justifyContent:"center",p:2},children:e(je,{in:!0,children:t(z,{children:[e(re,{sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("profile"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:t(r,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e(r,{item:!0,xs:12,md:5,children:t(r,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e(r,{item:!0,children:e(U,{sx:{display:"flex",alignItems:"center",mb:2},children:e(me,{src:o.profile_image,alt:o.name,sx:{width:100,height:100,mr:2}})})}),e(r,{item:!0,xs:12,md:!0,children:t(U,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e(B,{variant:"h5",children:o.name}),e(B,{variant:"subtitle1",color:"textSecondary",children:((p=A.find(a=>a.id===o.department))==null?void 0:p.name)||"N/A"}),e(B,{variant:"body2",color:"textSecondary",children:((l=h.find(a=>a.id===o.designation))==null?void 0:l.title)||"N/A"}),t(B,{variant:"body2",color:"textSecondary",children:["Employee ID : ",o.employee_id||"N/A"]}),t(B,{variant:"body2",color:"textSecondary",children:["Date of Join : ",o.date_of_joining||"N/A"]}),e(xe,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e(de,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e(r,{item:!0,xs:12,md:6,children:t(ae,{children:[e(j,{children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.phone||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Email:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.email||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Birthday:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.birthday||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Address:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.address||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Gender:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.gender||"N/A"})})]})}),e(j,{children:t(r,{container:!0,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"Reports to:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:w.find(a=>a.id===o.report_to)?t(U,{sx:{display:"flex",alignItems:"center"},children:[e(me,{src:`/assets/images/users/${(D=w.find(a=>a.id===o.report_to))==null?void 0:D.user_name}.jpg`,alt:_.name,sx:{width:24,height:24,mr:1}}),e(B,{color:"primary",children:(c=w.find(a=>a.id===o.report_to))==null?void 0:c.name})]}):"N/A"})})]})})]})})]})}),e(K,{sx:{paddingBottom:"0px !important"},children:t(Ee,{value:P,onChange:g,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e(be,{label:"Profile"}),e(be,{label:"Projects"}),e(be,{label:"Salary & Statutory"}),e(be,{label:"Assets"})]})})]})})}),t(U,{sx:{p:2},children:[P===0&&t(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(z,{sx:{mb:2,flex:1},children:[e(re,{title:"Personal Information",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("personal"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.passport_no||o.passport_exp_date||o.nationality||o.religion||o.marital_status||o.employment_of_spouse||o.number_of_children?t(ae,{children:[o.passport_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.passport_no||"N/A"})})]})}),o.passport_exp_date&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Passport Exp Date.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.passport_exp_date||"N/A"})})]})}),o.nid&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ NID No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.nid||"N/A"})})]})}),o.nationality&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Nationality:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.nationality||"N/A"})})]})}),o.religion&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Religion:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.religion||"N/A"})})]})}),o.marital_status&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Marital Status:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.marital_status||"N/A"})})]})}),o.employment_of_spouse&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Employment of Spouse:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.employment_of_spouse||"N/A"})})]})}),o.number_of_children&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ No. of Children:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.number_of_children||"N/A"})})]})})]}):e(B,{children:"No personal information available"})})]})}),e(r,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:t(z,{sx:{mb:2,flex:1},children:[e(re,{title:"Emergency Contact",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("emergency"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.emergency_contact_primary_name||o.emergency_contact_secondary_name?t(ae,{children:[o.emergency_contact_primary_name&&t(W,{children:[e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_primary_name||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_primary_relationship||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_primary_phone||"N/A"})})]})})]}),o.emergency_contact_secondary_name&&t(W,{children:[e(de,{sx:{my:2}}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_secondary_name||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_secondary_relationship||"N/A"})})]})}),e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e(B,{children:"No emergency contact information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(z,{variant:"outlined",sx:{mb:2},children:[e(re,{title:"Bank Information",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("bank"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.bank_name||o.bank_account_no||o.ifsc_code||o.pan_no?t(ae,{children:[o.bank_name&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.bank_name})})]})}),o.bank_account_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Bank Account No.:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.bank_account_no})})]})}),o.ifsc_code&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ IFSC Code:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.ifsc_code})})]})}),o.pan_no&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ PAN No:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.pan_no})})]})})]}):e(B,{children:"No bank information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(z,{variant:"outlined",children:[e(re,{title:"Family Information",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("family"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.family_member_name||o.family_member_relationship||o.family_member_dob||o.family_member_phone?t(ae,{children:[o.family_member_name&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Name:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.family_member_name})})]})}),o.family_member_relationship&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Relationship:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.family_member_relationship})})]})}),o.family_member_dob&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Date of Birth:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.family_member_dob})})]})}),o.family_member_phone&&e(j,{disableGutters:!0,children:t(r,{container:!0,spacing:2,children:[e(r,{item:!0,xs:5,children:e(x,{primary:"â€¢ Phone:"})}),e(r,{item:!0,xs:7,children:e(x,{primary:o.family_member_phone})})]})})]}):e(B,{children:"No family member information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(z,{variant:"outlined",sx:{mb:2},children:[e(re,{title:"Education Information",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("education"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.educations&&o.educations.length>0?e(ae,{children:o.educations.map((a,s)=>t(ge.Fragment,{children:[e(j,{disableGutters:!0,children:t(B,{variant:"h6",children:["â€¢ ",a.institution]})}),e(j,{disableGutters:!0,children:e(B,{variant:"body1",children:a.degree||"N/A"})}),e(j,{disableGutters:!0,children:t(B,{variant:"body2",children:[a.starting_date?new Date(a.starting_date).getFullYear():"N/A"," -",a.complete_date?new Date(a.complete_date).getFullYear():"N/A"]})}),s<o.educations.length-1&&e(de,{sx:{my:1}})]},a.id))}):e(B,{children:"No education information"})})]})}),e(r,{item:!0,xs:12,md:6,children:t(z,{variant:"outlined",children:[e(re,{title:"Experience",sx:{padding:"24px"},action:e(O,{variant:"outlined",color:"primary",onClick:()=>N("experience"),sx:{position:"absolute",top:16,right:16},children:e(ne,{})})}),e(K,{children:o.experiences&&o.experiences.length>0?e(ae,{children:o.experiences.map((a,s)=>t(ge.Fragment,{children:[e(j,{disableGutters:!0,children:t(B,{variant:"h6",children:["â€¢ ",a.job_position," at ",a.company_name]})}),e(j,{disableGutters:!0,children:t(B,{variant:"body1",children:[a.period_from?new Date(a.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",a.period_to?new Date(a.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e(j,{disableGutters:!0,children:e(B,{variant:"body2",children:a.location})}),a.description&&e(j,{disableGutters:!0,children:e(B,{variant:"body2",children:a.description})}),s<o.experiences.length-1&&e(de,{sx:{my:1}})]},s))}):e(B,{children:"No experience information"})})]})})]}),P===1&&e(r,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:qe.map((a,s)=>e(r,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e(Je,{project:a})},a.id||s))}),P===2&&e(Me,{user:o,setUser:b})]})]})};export{Ze as default};
