import{r as o,a as e,j as t,Q as P,S as i,f as d,d as m,g as p,h as n,F as O}from"./app-DDhVNfvV.js";import{u as y,F as x,G as q,c as F,A as T}from"./App-CULBC9Jb.js";import{u as A,G as $}from"./GlassCard-B8deHOrc.js";import{P as B}from"./PageHeader-qfMvUU9K.js";import{S as L}from"./StatsCards-CaEaffu4.js";import{F as z}from"./CheckCircleIcon-BkPxWqsz.js";import{F as H}from"./ClockIcon-UBQM4q2z.js";import{F as R}from"./GlobeAltIcon-BeSAdHAC.js";import{T as r,B as U}from"./logo-DoLGM3I0.js";import{c as G,b as Q}from"./DocumentTextIcon-QwzC9WoH.js";import{F as j}from"./UserGroupIcon-CFQYzcyB.js";import{F as D}from"./ChartBarIcon-CzsPYg0y.js";import{F as V}from"./CogIcon-DF22jD2m.js";import{c as u}from"./chunk-D5XJWRAV-BEd1Mod5.js";import{c as g}from"./chunk-J7I6W5JF-Dj4B-Czi.js";import{p as Y}from"./chunk-CXOJTH5M-BnHuCd_g.js";import"./app-CYwLuuRk.js";import"./EnvelopeIcon-jGHS91X9.js";import"./UserIcon-BZDmR83e.js";import"./CreditCardIcon-nnu7lg95.js";import"./ShieldCheckIcon-B8pnYfIx.js";import"./QuestionMarkCircleIcon-ClI4UiU9.js";import"./BuildingOfficeIcon-BXNAJj1w.js";import"./KeyIcon-CAZJdP6I.js";import"./ExclamationTriangleIcon-3tpAB86s.js";import"./InformationCircleIcon-D0VUrEF1.js";import"./StarIcon-CB497gpk.js";import"./LockClosedIcon-CNT0kaEE.js";import"./chunk-LGMZDQT5-CF5HrKbt.js";import"./number-DfkVkf0F.js";import"./index-I7bPq2YP.js";import"./chunk-6MDMHKHV-DNEscIMF.js";import"./useFormReset-Dv_1w4_q.js";import"./useLabel-C1JBDqVQ.js";import"./useLabels-Blg_QI1U.js";import"./chunk-M3MASYO7-DaLySJZS.js";import"./chunk-A6PX3NG3-DZLS-1Gt.js";import"./XMarkIcon-CRGrHH6E.js";import"./create-visual-element-DIA5r6xh.js";import"./index-B-fk9Tt0.js";import"./NumberFormatter-DNR9MAW-.js";const E=({title:f,holidays:c,leaveTypes:I,userLeaves:h,stats:l,currentYear:_})=>{const v=A(),S=y(v.breakpoints.down("sm"));y(v.breakpoints.down("md"));const[J,K]=o.useState("current_year"),k=o.useMemo(()=>[{title:"Available PTO",value:Object.values(l).reduce((a,s)=>a+s.available,0),icon:e(x,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Days available",trend:"+2 from last month"},{title:"Used This Year",value:Object.values(l).reduce((a,s)=>a+s.used,0),icon:e(z,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Days taken",trend:`${Math.round(Object.values(l).reduce((a,s)=>a+s.used,0)/Object.values(l).reduce((a,s)=>a+s.allocated,0)*100)}% of allocation`},{title:"Pending Requests",value:Object.values(l).reduce((a,s)=>a+s.pending,0),icon:e(H,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Awaiting approval",trend:h.filter(a=>a.status==="pending").length+" requests"},{title:"Company Holidays",value:c.length,icon:e(R,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"This year",trend:c.filter(a=>new Date(a.from_date)>new Date).length+" upcoming"}],[l,c,h]),N=o.useMemo(()=>c.filter(a=>new Date(a.from_date)>new Date).slice(0,3).map(a=>({...a,daysUntil:Math.ceil((new Date(a.from_date)-new Date)/(1e3*60*60*24))})),[c]),b=o.useMemo(()=>h.slice(0,5),[h]),C=o.useMemo(()=>Object.entries(l).map(([a,s])=>({type:a,...s,percentage:Math.round(s.used/s.allocated*100)||0})),[l]),M=[{label:"Request Time Off",icon:e(F,{className:"w-4 h-4"}),color:"primary",onClick:()=>i.visit(route("leaves-employee")),description:"Submit new request"},{label:"Admin Panel",icon:e(j,{className:"w-4 h-4"}),color:"secondary",onClick:()=>i.visit(route("leaves")),description:"Manage all leaves"},{label:"Leave Reports",icon:e(D,{className:"w-4 h-4"}),color:"success",onClick:()=>i.visit(route("leave-summary")),description:"Analytics & insights"}];return t(O,{children:[e(P,{title:f}),e(U,{sx:{display:"flex",justifyContent:"center",p:2},children:e(q,{in:!0,timeout:800,children:e($,{children:e(B,{title:"Time Off Management",subtitle:"Manage leave requests, holidays, and time-off policies",icon:e(x,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:S?"Request":"Request Time Off",icon:e(F,{className:"w-4 h-4"}),onClick:()=>i.visit(route("leaves-employee")),className:"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-secondary)] text-white font-medium hover:opacity-90"}],children:t("div",{className:"p-4 sm:p-6",children:[e(L,{stats:k,className:"mb-6"}),t("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e("div",{className:"lg:col-span-2",children:t(d,{className:"bg-white/5 backdrop-blur-md border-white/10 h-full",children:[e(u,{className:"pb-2",children:t("div",{className:"flex items-center justify-between",children:[e(r,{variant:"h6",className:"font-semibold text-foreground",children:"Leave Balance Overview"}),e(g,{size:"sm",variant:"flat",color:"primary",children:_})]})}),e(m,{}),e(p,{className:"pt-4",children:e("div",{className:"space-y-4",children:C.map((a,s)=>t("div",{className:"space-y-2",children:[t("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm font-medium text-foreground",children:a.type}),t("span",{className:"text-xs text-default-500",children:[a.used,"/",a.allocated," days"]})]}),e(Y,{value:a.percentage,color:a.percentage>80?"danger":a.percentage>60?"warning":"success",className:"max-w-full",size:"sm",showValueLabel:!0,formatOptions:{style:"percent",maximumFractionDigits:0}}),t("div",{className:"flex items-center justify-between text-xs",children:[t("span",{className:"text-green-500",children:["Available: ",a.available," days"]}),a.pending>0&&t("span",{className:"text-orange-500",children:["Pending: ",a.pending," days"]})]})]},s))})})]})}),e("div",{className:"space-y-4",children:t(d,{className:"bg-white/5 backdrop-blur-md border-white/10",children:[e(u,{children:e(r,{variant:"h6",className:"font-semibold text-foreground",children:"Quick Actions"})}),e(m,{}),e(p,{className:"pt-4",children:e("div",{className:"space-y-3",children:M.map((a,s)=>e(n,{variant:"flat",color:a.color,startContent:a.icon,className:"w-full justify-start",onPress:a.onClick,children:t("div",{className:"flex flex-col items-start",children:[e("span",{className:"font-medium",children:a.label}),e("span",{className:"text-xs opacity-70",children:a.description})]})},s))})})]})})]}),t("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t(d,{className:"bg-white/5 backdrop-blur-md border-white/10",children:[e(u,{className:"pb-2",children:t("div",{className:"flex items-center justify-between",children:[e(r,{variant:"h6",className:"font-semibold text-foreground",children:"Upcoming Company Holidays"}),e(n,{size:"sm",variant:"light",onPress:()=>i.visit(route("holidays")),children:"View All"})]})}),e(m,{}),e(p,{className:"pt-4",children:N.length>0?e("div",{className:"space-y-3",children:N.map((a,s)=>t("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),t("div",{children:[e(r,{variant:"subtitle2",className:"font-medium text-foreground",children:a.title}),e(r,{variant:"caption",className:"text-default-500",children:new Date(a.from_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:a.from_date.includes(new Date().getFullYear())?void 0:"numeric"})})]})]}),t(g,{size:"sm",variant:"flat",color:"danger",children:[a.daysUntil," days"]})]},s))}):t("div",{className:"text-center py-4",children:[e(G,{className:"w-8 h-8 mx-auto text-default-300 mb-2"}),e(r,{variant:"body2",color:"textSecondary",children:"No upcoming holidays"})]})})]}),t(d,{className:"bg-white/5 backdrop-blur-md border-white/10",children:[e(u,{className:"pb-2",children:t("div",{className:"flex items-center justify-between",children:[e(r,{variant:"h6",className:"font-semibold text-foreground",children:"Recent Leave Requests"}),e(n,{size:"sm",variant:"light",onPress:()=>i.visit(route("leaves-employee")),children:"View All"})]})}),e(m,{}),e(p,{className:"pt-4",children:b.length>0?e("div",{className:"space-y-3",children:b.map((a,s)=>{var w;return t("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[t("div",{className:"flex items-center gap-3",children:[e("div",{className:`w-2 h-2 rounded-full ${a.status==="approved"?"bg-green-400":a.status==="pending"?"bg-orange-400":"bg-red-400"}`}),t("div",{children:[e(r,{variant:"subtitle2",className:"font-medium text-foreground",children:((w=a.leave_setting)==null?void 0:w.type)||"Leave"}),t(r,{variant:"caption",className:"text-default-500",children:[new Date(a.from_date).toLocaleDateString()," - ",new Date(a.to_date).toLocaleDateString()]})]})]}),e(g,{size:"sm",variant:"flat",color:a.status==="approved"?"success":a.status==="pending"?"warning":"danger",children:a.status})]},s)})}):t("div",{className:"text-center py-4",children:[e(Q,{className:"w-8 h-8 mx-auto text-default-300 mb-2"}),e(r,{variant:"body2",color:"textSecondary",children:"No recent requests"})]})})]})]}),e("div",{className:"mt-6",children:t(d,{className:"bg-white/5 backdrop-blur-md border-white/10",children:[e(u,{children:e(r,{variant:"h6",className:"font-semibold text-foreground",children:"Time Off Management"})}),e(m,{}),e(p,{className:"pt-4",children:t("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t(n,{variant:"flat",color:"primary",startContent:e(j,{className:"w-4 h-4"}),onPress:()=>i.visit(route("leaves")),className:"h-16 flex-col",children:[e("span",{className:"font-medium",children:"Leave Requests"}),e("span",{className:"text-xs opacity-70",children:"Manage team requests"})]}),t(n,{variant:"flat",color:"secondary",startContent:e(D,{className:"w-4 h-4"}),onPress:()=>i.visit(route("leave-summary")),className:"h-16 flex-col",children:[e("span",{className:"font-medium",children:"Leave Summary"}),e("span",{className:"text-xs opacity-70",children:"View all balances"})]}),t(n,{variant:"flat",color:"success",startContent:e(R,{className:"w-4 h-4"}),onPress:()=>i.visit(route("holidays")),className:"h-16 flex-col",children:[e("span",{className:"font-medium",children:"Holidays"}),e("span",{className:"text-xs opacity-70",children:"Manage company holidays"})]}),t(n,{variant:"flat",color:"warning",startContent:e(V,{className:"w-4 h-4"}),onPress:()=>i.visit(route("settings.leave")),className:"h-16 flex-col",children:[e("span",{className:"font-medium",children:"Settings"}),e("span",{className:"text-xs opacity-70",children:"Leave policies"})]})]})})]})})]})})})})})]})};E.layout=f=>e(T,{children:f});export{E as default};
