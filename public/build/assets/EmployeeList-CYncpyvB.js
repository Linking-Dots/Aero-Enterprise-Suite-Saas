const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bsx28lry.js","assets/features-animation-DMSvQxxQ.js","assets/app-H_sSwnag.js","assets/app-CPPT5dG3.js","assets/app-BPix4-eY.css"])))=>i.map(i=>d[i]);
import{a3 as Ge,r as c,v as Jt,z as qt,c as N,R as Y,l as ce,B as re,aO as Gt,a4 as Ut,U as he,a6 as ke,_ as Xt,a5 as Fe,a1 as Yt,a2 as Zt,$ as Ue,aj as Qt,w as ea,y as ta,ak as aa,A as na,a7 as ra,b as p,j as n,i as Q,F as Xe,t as oa,s as ue,Q as ia,f as sa,e as la}from"./app-H_sSwnag.js";import{_ as da,o as ca,bn as ua,bo as Pe,bp as ma,bq as pa,bm as fa,bl as ha,br as ba,aZ as ga,aK as va,b5 as Ye,aH as xa,bs as wa,u as Ze,k as ee,i as fe,Y as ya,Z as $a,$ as Re,X as Na,m as Ca,b as Qe,bt as Ne,bu as Ce,ah as Se,P as oe,a as Oe,h as xe,G as Sa,c as Ea,J as _a,al as Da,am as Aa,d as we,B as ka,A as Fa}from"./App-B9Y2VTIE.js";import{P as Pa}from"./PageHeader-BEbAHo9D.js";import{S as Ra}from"./StatsCards-5vOXSkue.js";import{F as Oa}from"./CogIcon-D94XrHQ5.js";import{a as Ia,F as Ee}from"./PencilIcon-1jqA18OV.js";import{F as Ie}from"./TrashIcon-Dq97-Cnh.js";import{t as Le}from"./chunk-7ZZXWEXF-C7dQpzoL.js";import{F as _e,b as La,a as za,c as ja}from"./UserPlusIcon-CW4b3GId.js";import{F as et}from"./UserIcon-BE8wi394.js";import{t as Ta,a as Ma,b as Ba,c as Ha,d as Wa,e as Va}from"./chunk-F3UDT23P-BES6ZdcZ.js";import{s as ne,l as Z}from"./chunk-2GIFKCNQ-6nuhPsO5.js";import{u as tt}from"./chunk-R6AK6OQ4-B-uzwNmQ.js";import{F as Ka}from"./FunnelIcon-7ehymbni.js";import{F as Ja}from"./TableCellsIcon-D9P8izUA.js";import"./app-CPPT5dG3.js";import"./chunk-D5XJWRAV-WZTPe29B.js";import"./useHasTabbableChild-D5AOlMaj.js";import"./chunk-7F3ZLNJ6-CAImJaXu.js";let J=typeof document<"u"&&window.visualViewport;function qa(){let e=Ge(),[a,o]=c.useState(()=>e?{width:0,height:0}:ze());return c.useEffect(()=>{let r=()=>{o(s=>{let u=ze();return u.width===s.width&&u.height===s.height?s:u})};return J?J.addEventListener("resize",r):window.addEventListener("resize",r),()=>{J?J.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),a}function ze(){return{width:J&&(J==null?void 0:J.width)||window.innerWidth,height:J&&(J==null?void 0:J.height)||window.innerHeight}}var je=Jt({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","h-[--visual-viewport-height]"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","end-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...qt]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] min-h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),Ga=e=>{const{isSelected:a,isIndeterminate:o,disableAnimation:r,...s}=e;return N.jsx("svg",{"aria-hidden":"true",className:"fill-current",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...s,children:N.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})},Ua=c.useLayoutEffect,Xa=function(a){var o=Y.useRef(a);return Ua(function(){o.current=a}),o},Te=function(a,o){if(typeof a=="function"){a(o);return}a.current=o},Ya=function(a,o){var r=Y.useRef();return Y.useCallback(function(s){a.current=s,r.current&&Te(r.current,null),r.current=o,o&&Te(o,s)},[o])},Me={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Za=function(a){Object.keys(Me).forEach(function(o){a.style.setProperty(o,Me[o],"important")})},Be=Za,M=null,He=function(a,o){var r=a.scrollHeight;return o.sizingStyle.boxSizing==="border-box"?r+o.borderSize:r-o.paddingSize};function Qa(e,a,o,r){o===void 0&&(o=1),r===void 0&&(r=1/0),M||(M=document.createElement("textarea"),M.setAttribute("tabindex","-1"),M.setAttribute("aria-hidden","true"),Be(M)),M.parentNode===null&&document.body.appendChild(M);var s=e.paddingSize,u=e.borderSize,m=e.sizingStyle,b=m.boxSizing;Object.keys(m).forEach(function(v){var w=v;M.style[w]=m[w]}),Be(M),M.value=a;var l=He(M,e);M.value=a,l=He(M,e),M.value="x";var f=M.scrollHeight-s,d=f*o;b==="border-box"&&(d=d+s+u),l=Math.max(d,l);var $=f*r;return b==="border-box"&&($=$+s+u),l=Math.min($,l),[l,f]}var We=function(){},en=function(a,o){return a.reduce(function(r,s){return r[s]=o[s],r},{})},tn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],an=!!document.documentElement.currentStyle,nn=function(a){var o=window.getComputedStyle(a);if(o===null)return null;var r=en(tn,o),s=r.boxSizing;if(s==="")return null;an&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var u=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),m=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:u,borderSize:m}},rn=nn;function De(e,a,o){var r=Xa(o);c.useLayoutEffect(function(){var s=function(m){return r.current(m)};if(e)return e.addEventListener(a,s),function(){return e.removeEventListener(a,s)}},[])}var on=function(a,o){De(document.body,"reset",function(r){a.current.form===r.target&&o(r)})},sn=function(a){De(window,"resize",a)},ln=function(a){De(document.fonts,"loadingdone",a)},dn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],cn=function(a,o){var r=a.cacheMeasurements,s=a.maxRows,u=a.minRows,m=a.onChange,b=m===void 0?We:m,l=a.onHeightChange,f=l===void 0?We:l,d=da(a,dn),$=d.value!==void 0,v=c.useRef(null),w=Ya(v,o),x=c.useRef(0),C=c.useRef(),S=function(){var k=v.current,L=r&&C.current?C.current:rn(k);if(L){C.current=L;var j=Qa(L,k.value||k.placeholder||"x",u,s),P=j[0],B=j[1];x.current!==P&&(x.current=P,k.style.setProperty("height",P+"px","important"),f(P,{rowHeight:B}))}},O=function(k){$||S(),b(k)};return c.useLayoutEffect(S),on(v,function(){if(!$){var E=v.current.value;requestAnimationFrame(function(){var k=v.current;k&&E!==k.value&&S()})}}),sn(S),ln(S),c.createElement("textarea",ca({},d,{onChange:O,ref:w}))},un=c.forwardRef(cn),at=ce(({style:e,minRows:a=3,maxRows:o=8,cacheMeasurements:r=!1,disableAutosize:s=!1,onHeightChange:u,...m},b)=>{const{Component:l,label:f,description:d,startContent:$,endContent:v,hasHelper:w,shouldLabelBeOutside:x,shouldLabelBeInside:C,isInvalid:S,errorMessage:O,getBaseProps:E,getLabelProps:k,getInputProps:L,getInnerWrapperProps:j,getInputWrapperProps:P,getHelperWrapperProps:B,getDescriptionProps:H,getErrorMessageProps:U,isClearable:V,getClearButtonProps:q}=ua({...m,ref:b,isMultiline:!0}),[t,y]=c.useState(a>1),[g,I]=c.useState(!1),D=f?N.jsx("label",{...k(),children:f}):null,R=L(),h=(_,F)=>{if(a===1&&y(_>=F.rowHeight*2),o>a){const G=_>=o*F.rowHeight;I(G)}u==null||u(_,F)},i=s?N.jsx("textarea",{...R,style:re(R.style,e??{})}):N.jsx(un,{...R,cacheMeasurements:r,"data-hide-scroll":Pe(!g),maxRows:o,minRows:a,style:re(R.style,e??{}),onHeightChange:h}),A=c.useMemo(()=>V?N.jsx("button",{...q(),children:N.jsx(ma,{})}):null,[V,q]),z=c.useMemo(()=>$||v?N.jsxs("div",{...j(),children:[$,i,v]}):N.jsx("div",{...j(),children:i}),[$,R,v,j]),W=S&&O,T=W||d;return N.jsxs(l,{...E(),children:[x?D:null,N.jsxs("div",{...P(),"data-has-multiple-rows":Pe(t),children:[C?D:null,z,A]}),w&&T?N.jsx("div",{...B(),children:W?N.jsx("div",{...U(),children:O}):N.jsx("div",{...H(),children:d})}):null]})});at.displayName="HeroUI.Textarea";var Ve=at;function mn(e={}){const{strict:a=!0,errorMessage:o="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,s=c.createContext(void 0);s.displayName=r;function u(){var m;const b=c.useContext(s);if(!b&&a){const l=new Error(o);throw l.name="ContextError",(m=Error.captureStackTrace)==null||m.call(Error,l,u),l}return b}return[s.Provider,u,s]}function be(e){const a=c.useRef(null);return c.useImperativeHandle(e,()=>a.current),a}var me=e=>e?"true":void 0;function nt(e){var a,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(o=nt(e[a]))&&(r&&(r+=" "),r+=o);else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function de(...e){for(var a=0,o,r,s="";a<e.length;)(o=e[a++])&&(r=nt(o))&&(s&&(s+=" "),s+=r);return s}function pn(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}var[fn,ge]=mn({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),rt=ce((e,a)=>{const{as:o,children:r,className:s,...u}=e,{slots:m,classNames:b,bodyId:l,setBodyMounted:f}=ge(),d=be(a),$=o||"div";return c.useEffect(()=>(f(!0),()=>f(!1)),[f]),N.jsx($,{ref:d,className:m.body({class:de(b==null?void 0:b.body,s)}),id:l,...u,children:r})});rt.displayName="HeroUI.ModalBody";var hn=rt,le={ease:[.36,.66,.4,1]},bn={fade:{enter:{opacity:1,transition:{duration:.4,ease:le.ease}},exit:{opacity:0,transition:{duration:.3,ease:le.ease}}}},gn={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:le.ease},opacity:{duration:.4,ease:le.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:le.ease}}};const vn=c.createContext({});function xn(){var e;return(e=c.useContext(vn))!==null&&e!==void 0?e:{}}var ot={};ot={dismiss:"تجاهل"};var it={};it={dismiss:"Отхвърляне"};var st={};st={dismiss:"Odstranit"};var lt={};lt={dismiss:"Luk"};var dt={};dt={dismiss:"Schließen"};var ct={};ct={dismiss:"Απόρριψη"};var ut={};ut={dismiss:"Dismiss"};var mt={};mt={dismiss:"Descartar"};var pt={};pt={dismiss:"Lõpeta"};var ft={};ft={dismiss:"Hylkää"};var ht={};ht={dismiss:"Rejeter"};var bt={};bt={dismiss:"התעלם"};var gt={};gt={dismiss:"Odbaci"};var vt={};vt={dismiss:"Elutasítás"};var xt={};xt={dismiss:"Ignora"};var wt={};wt={dismiss:"閉じる"};var yt={};yt={dismiss:"무시"};var $t={};$t={dismiss:"Atmesti"};var Nt={};Nt={dismiss:"Nerādīt"};var Ct={};Ct={dismiss:"Lukk"};var St={};St={dismiss:"Negeren"};var Et={};Et={dismiss:"Zignoruj"};var _t={};_t={dismiss:"Descartar"};var Dt={};Dt={dismiss:"Dispensar"};var At={};At={dismiss:"Revocare"};var kt={};kt={dismiss:"Пропустить"};var Ft={};Ft={dismiss:"Zrušiť"};var Pt={};Pt={dismiss:"Opusti"};var Rt={};Rt={dismiss:"Odbaci"};var Ot={};Ot={dismiss:"Avvisa"};var It={};It={dismiss:"Kapat"};var Lt={};Lt={dismiss:"Скасувати"};var zt={};zt={dismiss:"取消"};var jt={};jt={dismiss:"關閉"};var Tt={};Tt={"ar-AE":ot,"bg-BG":it,"cs-CZ":st,"da-DK":lt,"de-DE":dt,"el-GR":ct,"en-US":ut,"es-ES":mt,"et-EE":pt,"fi-FI":ft,"fr-FR":ht,"he-IL":bt,"hr-HR":gt,"hu-HU":vt,"it-IT":xt,"ja-JP":wt,"ko-KR":yt,"lt-LT":$t,"lv-LV":Nt,"nb-NO":Ct,"nl-NL":St,"pl-PL":Et,"pt-BR":_t,"pt-PT":Dt,"ro-RO":At,"ru-RU":kt,"sk-SK":Ft,"sl-SI":Pt,"sr-SP":Rt,"sv-SE":Ot,"tr-TR":It,"uk-UA":Lt,"zh-CN":zt,"zh-TW":jt};function wn(e){return e&&e.__esModule?e.default:e}function Ke(e){let{onDismiss:a,...o}=e,r=pa(wn(Tt),"@react-aria/overlays"),s=fa(o,r.format("dismiss")),u=()=>{a&&a()};return Y.createElement(ha,null,Y.createElement("button",{...s,tabIndex:-1,onClick:u,style:{width:1,height:1}}))}const yn=Y.createContext(null);function $n(e){let a=Ge(),{portalContainer:o=a?null:document.body,isExiting:r}=e,[s,u]=c.useState(!1),m=c.useMemo(()=>({contain:s,setContain:u}),[s,u]),{getContainer:b}=xn();if(!e.portalContainer&&b&&(o=b()),!o)return null;let l=e.children;return e.disableFocusManagement||(l=Y.createElement(Gt,{restoreFocus:!0,contain:(e.shouldContainFocus||s)&&!r},l)),l=Y.createElement(yn.Provider,{value:m},Y.createElement(ba,null,l)),Ut.createPortal(l,o)}var Je=()=>Xt(()=>import("./index-Bsx28lry.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>e.default),Mt=e=>{const{as:a,children:o,role:r="dialog",...s}=e,{Component:u,domRef:m,slots:b,classNames:l,motionProps:f,backdrop:d,closeButton:$,hideCloseButton:v,disableAnimation:w,getDialogProps:x,getBackdropProps:C,getCloseButtonProps:S,onClose:O}=ge(),E=a||u||"div",k=qa(),{dialogProps:L}=ga({role:r},m),j=c.isValidElement($)?c.cloneElement($,S()):N.jsx("button",{...S(),children:N.jsx(Ga,{})}),P=c.useCallback(t=>{t.key==="Tab"&&t.nativeEvent.isComposing&&(t.stopPropagation(),t.preventDefault())},[]),B=x(re(L,s)),H=N.jsxs(E,{...B,onKeyDown:he(B.onKeyDown,P),children:[N.jsx(Ke,{onDismiss:O}),!v&&j,typeof o=="function"?o(O):o,N.jsx(Ke,{onDismiss:O})]}),U=c.useMemo(()=>d==="transparent"?null:w?N.jsx("div",{...C()}):N.jsx(ke,{features:Je,children:N.jsx(Fe.div,{animate:"enter",exit:"exit",initial:"exit",variants:bn.fade,...C()})}),[d,w,C]),V={"--visual-viewport-height":k.height+"px"},q=w?N.jsx("div",{className:b.wrapper({class:l==null?void 0:l.wrapper}),"data-slot":"wrapper",style:V,children:H}):N.jsx(ke,{features:Je,children:N.jsx(Fe.div,{animate:"enter",className:b.wrapper({class:l==null?void 0:l.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:gn,...f,style:V,children:H})});return N.jsxs("div",{tabIndex:-1,children:[U,q]})};Mt.displayName="HeroUI.ModalContent";var Nn=Mt,Bt=ce((e,a)=>{const{as:o,children:r,className:s,...u}=e,{slots:m,classNames:b}=ge(),l=be(a),f=o||"footer";return N.jsx(f,{ref:l,className:m.footer({class:de(b==null?void 0:b.footer,s)}),...u,children:r})});Bt.displayName="HeroUI.ModalFooter";var Cn=Bt,Ht=ce((e,a)=>{const{as:o,children:r,className:s,...u}=e,{slots:m,classNames:b,headerId:l,setHeaderMounted:f}=ge(),d=be(a),$=o||"header";return c.useEffect(()=>(f(!0),()=>f(!1)),[f]),N.jsx($,{ref:d,className:m.header({class:de(b==null?void 0:b.header,s)}),id:l,...u,children:r})});Ht.displayName="HeroUI.ModalHeader";var Sn=Ht;const X=[];function En(e,a){let{onClose:o,shouldCloseOnBlur:r,isOpen:s,isDismissable:u=!1,isKeyboardDismissDisabled:m=!1,shouldCloseOnInteractOutside:b}=e;c.useEffect(()=>{if(s&&!X.includes(a))return X.push(a),()=>{let x=X.indexOf(a);x>=0&&X.splice(x,1)}},[s,a]);let l=()=>{X[X.length-1]===a&&o&&o()},f=x=>{(!b||b(x.target))&&X[X.length-1]===a&&(x.stopPropagation(),x.preventDefault())},d=x=>{(!b||b(x.target))&&(X[X.length-1]===a&&(x.stopPropagation(),x.preventDefault()),l())},$=x=>{x.key==="Escape"&&!m&&!x.nativeEvent.isComposing&&(x.stopPropagation(),x.preventDefault(),l())};va({ref:a,onInteractOutside:u&&s?d:void 0,onInteractOutsideStart:f});let{focusWithinProps:v}=Yt({isDisabled:!r,onBlurWithin:x=>{!x.relatedTarget||Zt(x.relatedTarget)||(!b||b(x.relatedTarget))&&(o==null||o())}}),w=x=>{x.target===x.currentTarget&&x.preventDefault()};return{overlayProps:{onKeyDown:$,...v},underlayProps:{onPointerDown:w}}}const ye=typeof document<"u"&&window.visualViewport,_n=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let pe=0,$e;function Dn(e={}){let{isDisabled:a}=e;Ue(()=>{if(!a)return pe++,pe===1&&(Qt()?$e=kn():$e=An()),()=>{pe--,pe===0&&$e()}},[a])}function An(){let e=window.innerWidth-document.documentElement.clientWidth;return he(e>0&&("scrollbarGutter"in document.documentElement.style?ae(document.documentElement,"scrollbarGutter","stable"):ae(document.documentElement,"paddingRight",`${e}px`)),ae(document.documentElement,"overflow","hidden"))}function kn(){let e,a,o=f=>{e=Ye(f.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(a=ae(e,"overscrollBehavior","contain"))},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&f.preventDefault()},s=()=>{a&&a()},u=f=>{let d=f.target;Fn(d)&&(b(),d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",ye&&(ye.height<window.innerHeight?requestAnimationFrame(()=>{qe(d)}):ye.addEventListener("resize",()=>qe(d),{once:!0}))}))},m=null,b=()=>{if(m)return;let f=()=>{window.scrollTo(0,0)},d=window.pageXOffset,$=window.pageYOffset;m=he(ie(window,"scroll",f),ae(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ae(document.documentElement,"overflow","hidden"),ae(document.body,"marginTop",`-${$}px`),()=>{window.scrollTo(d,$)}),window.scrollTo(0,0)},l=he(ie(document,"touchstart",o,{passive:!1,capture:!0}),ie(document,"touchmove",r,{passive:!1,capture:!0}),ie(document,"touchend",s,{passive:!1,capture:!0}),ie(document,"focus",u,!0));return()=>{a==null||a(),m==null||m(),l()}}function ae(e,a,o){let r=e.style[a];return e.style[a]=o,()=>{e.style[a]=r}}function ie(e,a,o,r){return e.addEventListener(a,o,r),()=>{e.removeEventListener(a,o,r)}}function qe(e){let a=document.scrollingElement||document.documentElement,o=e;for(;o&&o!==a;){let r=Ye(o);if(r!==document.documentElement&&r!==document.body&&r!==o){let s=r.getBoundingClientRect().top,u=o.getBoundingClientRect().top;u>s+o.clientHeight&&(r.scrollTop+=u-s)}o=r.parentElement}}function Fn(e){return e instanceof HTMLInputElement&&!_n.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}let se=new WeakMap,K=[];function Pn(e,a=document.body){let o=new Set(e),r=new Set,s=l=>{for(let v of l.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))o.add(v);let f=v=>{if(o.has(v)||v.parentElement&&r.has(v.parentElement)&&v.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let w of o)if(v.contains(w))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},d=document.createTreeWalker(l,NodeFilter.SHOW_ELEMENT,{acceptNode:f}),$=f(l);if($===NodeFilter.FILTER_ACCEPT&&u(l),$!==NodeFilter.FILTER_REJECT){let v=d.nextNode();for(;v!=null;)u(v),v=d.nextNode()}},u=l=>{var f;let d=(f=se.get(l))!==null&&f!==void 0?f:0;l.getAttribute("aria-hidden")==="true"&&d===0||(d===0&&l.setAttribute("aria-hidden","true"),r.add(l),se.set(l,d+1))};K.length&&K[K.length-1].disconnect(),s(a);let m=new MutationObserver(l=>{for(let f of l)if(!(f.type!=="childList"||f.addedNodes.length===0)&&![...o,...r].some(d=>d.contains(f.target))){for(let d of f.removedNodes)d instanceof Element&&(o.delete(d),r.delete(d));for(let d of f.addedNodes)(d instanceof HTMLElement||d instanceof SVGElement)&&(d.dataset.liveAnnouncer==="true"||d.dataset.reactAriaTopLayer==="true")?o.add(d):d instanceof Element&&s(d)}});m.observe(a,{childList:!0,subtree:!0});let b={visibleNodes:o,hiddenNodes:r,observe(){m.observe(a,{childList:!0,subtree:!0})},disconnect(){m.disconnect()}};return K.push(b),()=>{m.disconnect();for(let l of r){let f=se.get(l);f!=null&&(f===1?(l.removeAttribute("aria-hidden"),se.delete(l)):se.set(l,f-1))}b===K[K.length-1]?(K.pop(),K.length&&K[K.length-1].observe()):K.splice(K.indexOf(b),1)}}const Rn=Y.createContext(null);function On(){let e=c.useContext(Rn),a=e==null?void 0:e.setContain;Ue(()=>{a==null||a(!0)},[a])}function In(e={shouldBlockScroll:!0},a,o){let{overlayProps:r,underlayProps:s}=En({...e,isOpen:a.isOpen,onClose:a.close},o);return Dn({isDisabled:!a.isOpen||!e.shouldBlockScroll}),On(),c.useEffect(()=>{if(a.isOpen&&o.current)return Pn([o.current])},[a.isOpen,o]),{modalProps:re(r),underlayProps:s}}function Ln(e){var a,o,r;const s=ea(),[u,m]=ta(e,je.variantKeys),{ref:b,as:l,className:f,classNames:d,isOpen:$,defaultOpen:v,onOpenChange:w,motionProps:x,closeButton:C,isDismissable:S=!0,hideCloseButton:O=!1,shouldBlockScroll:E=!0,portalContainer:k,isKeyboardDismissDisabled:L=!1,onClose:j,...P}=u,B=l||"section",H=be(b),U=c.useRef(null),[V,q]=c.useState(!1),[t,y]=c.useState(!1),g=(o=(a=e.disableAnimation)!=null?a:s==null?void 0:s.disableAnimation)!=null?o:!1,I=c.useId(),D=c.useId(),R=c.useId(),h=xa({isOpen:$,defaultOpen:v,onOpenChange:te=>{w==null||w(te),te||j==null||j()}}),{modalProps:i,underlayProps:A}=In({isDismissable:S,shouldBlockScroll:E,isKeyboardDismissDisabled:L},h,H),{buttonProps:z}=aa({onPress:h.close},U),{isFocusVisible:W,focusProps:T}=na(),_=de(d==null?void 0:d.base,f),F=c.useMemo(()=>je({...m,disableAnimation:g}),[pn(m),g]),G=(te={},Kt=null)=>{var Ae;return{ref:wa(Kt,H),...re(i,P,te),className:F.base({class:de(_,te.className)}),id:I,"data-open":me(h.isOpen),"data-dismissable":me(S),"aria-modal":me(!0),"data-placement":(Ae=e==null?void 0:e.placement)!=null?Ae:"right","aria-labelledby":V?D:void 0,"aria-describedby":t?R:void 0}},ve=c.useCallback((te={})=>({className:F.backdrop({class:d==null?void 0:d.backdrop}),onClick:()=>h.close(),...A,...te}),[F,d,A]),Vt=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":me(W),className:F.closeButton({class:d==null?void 0:d.closeButton}),...re(z,T)});return{Component:B,slots:F,domRef:H,headerId:D,bodyId:R,motionProps:x,classNames:d,isDismissable:S,closeButton:C,hideCloseButton:O,portalContainer:k,shouldBlockScroll:E,backdrop:(r=e.backdrop)!=null?r:"opaque",isOpen:h.isOpen,onClose:h.close,disableAnimation:g,setBodyMounted:y,setHeaderMounted:q,getDialogProps:G,getBackdropProps:ve,getCloseButtonProps:Vt}}var Wt=ce((e,a)=>{const{children:o,...r}=e,s=Ln({...r,ref:a}),u=N.jsx($n,{portalContainer:s.portalContainer,children:o});return N.jsx(fn,{value:s,children:s.disableAnimation&&s.isOpen?u:N.jsx(ra,{children:s.isOpen?u:null})})});Wt.displayName="HeroUI.Modal";var zn=Wt;const jn=({allUsers:e,departments:a,designations:o,attendanceTypes:r,setUsers:s,isMobile:u,isTablet:m})=>{var H,U,V,q;const[b,l]=c.useState(e||[]),[f,d]=c.useState({}),[$,v]=c.useState(!1),[w,x]=c.useState(null),[C,S]=c.useState({});Ze(),c.useEffect(()=>{l(e)},[e]);const O=(t,y,g)=>{d(I=>({...I,[`${t}-${y}`]:g}))},E=(t,y)=>f[`${t}-${y}`]||!1,k=async(t,y,g)=>{O(y,t,!0);const I=new Promise(async(D,R)=>{try{let h,i={};switch(t){case"department":h="user.updateDepartment",i={department:g};break;case"designation":h="user.updateDesignation",i={designation:g};break;case"attendance_type":h="user.updateAttendanceType",i={attendance_type_id:g};break;default:h="user.updateDepartment",i={[t]:g}}const A=await fetch(route(h,{id:y}),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(i)}),z=await A.json();if(A.ok){const W=b.map(T=>{if(String(T.id)===String(y)){const _={...T};if(t==="department"&&T.department!==g&&(_.designation=null),t==="attendance_type"){_.attendance_type_id=g;const F=r==null?void 0:r.find(G=>G.id===g);F&&(_.attendance_type=F)}else _[t]=g;return _}return T});l(W),s&&s(T=>T.map(_=>{if(String(_.id)===String(y)){const F={..._};if(t==="department"&&_.department!==g&&(F.designation=null),t==="attendance_type"){F.attendance_type_id=g;const G=r==null?void 0:r.find(ve=>ve.id===g);G&&(F.attendance_type=G)}else F[t]=g;return F}return _})),D([z.messages||z.message||"Updated successfully"])}else R([z.messages||z.message||"Failed to update information."])}catch(h){console.error(`Error updating ${t}:`,h),R(["An unexpected error occurred."])}finally{O(y,t,!1)}});oe.promise(I,{pending:`Updating ${t.replace("_"," ")}...`,success:{render({data:D}){return Array.isArray(D)?D.join(", "):D}},error:{render({data:D}){return Array.isArray(D)?D.join(", "):D}}})},L=async t=>{O(t,"delete",!0);const y=new Promise(async(g,I)=>{try{const D=await fetch(route("profile.delete"),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({user_id:t})}),R=await D.json();if(D.ok){const h=b.filter(i=>i.id!==t);l(h),s&&s(h),g([R.message])}else I([R.message])}catch{I(["An error occurred while deleting user. Please try again."])}finally{O(t,"delete",!1)}});oe.promise(y,{pending:"Deleting user...",success:{render({data:g}){return g.join(", ")}},error:{render({data:g}){return Array.isArray(g)?g.join(", "):g}}})},j=async()=>{try{const t=await fetch(route("user.updateAttendanceType",{id:w.id}),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({attendance_type_id:w.attendance_type_id,attendance_config:C})}),y=await t.json();if(t.ok){const g=b.map(I=>I.id===w.id?{...I,attendance_config:C}:I);l(g),s&&s(g),v(!1),oe.success("Attendance configuration updated successfully!")}else oe.error("Failed to update attendance configuration.")}catch{oe.error("An error occurred while updating configuration.")}},P=(t,y,g)=>{const I=t[y];switch(y){case"sl":return n("div",{className:"flex items-center justify-center",children:n("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:n("span",{className:"text-sm font-semibold text-foreground",children:g+1})})});case"employee":return p("div",{children:[n(tt,{avatarProps:{radius:"lg",src:t==null?void 0:t.profile_image,size:u?"sm":"md",fallback:n(et,{className:"w-4 h-4"})},name:t==null?void 0:t.name,description:u?null:`ID: ${(t==null?void 0:t.employee_id)||"N/A"}`,classNames:{name:"font-semibold text-foreground text-left",description:"text-default-500 text-left text-xs",wrapper:"justify-start"}}),u&&p("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10",children:[p("div",{className:"flex items-center gap-1",children:[n("span",{className:"font-medium",children:"ID:"}),(t==null?void 0:t.employee_id)||"N/A"]}),p("div",{className:"flex items-center gap-1",children:[n(Se,{className:"w-3 h-3"}),t==null?void 0:t.email]}),(t==null?void 0:t.phone)&&p("div",{className:"flex items-center gap-1",children:[n(_e,{className:"w-3 h-3"}),t==null?void 0:t.phone]})]})]});case"contact":return p("div",{className:"flex flex-col gap-2",children:[p("div",{className:"flex items-center gap-2 text-sm",children:[n(Se,{className:"w-4 h-4 text-default-400"}),n("span",{className:"text-foreground",children:t==null?void 0:t.email})]}),(t==null?void 0:t.phone)&&p("div",{className:"flex items-center gap-2 text-sm",children:[n(_e,{className:"w-4 h-4 text-default-400"}),n("span",{className:"text-foreground",children:t==null?void 0:t.phone})]})]});case"department":return n("div",{className:"flex flex-col gap-2 min-w-[150px]",children:n(ne,{size:"sm",label:"Department","aria-label":`Select department for ${t==null?void 0:t.name}`,placeholder:"Select department",selectedKeys:t.department?new Set([t.department.toString()]):new Set,onSelectionChange:h=>{const i=Array.from(h)[0];i&&k("department",t.id,parseInt(i))},isDisabled:E(t.id,"department"),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",value:"text-foreground",popoverContent:"bg-white/10 backdrop-blur-md border-white/20",label:"text-xs text-default-500"},startContent:E(t.id,"department")?n(ue,{size:"sm"}):n(Ce,{className:"w-4 h-4"}),children:a==null?void 0:a.map(h=>n(Z,{value:h.id.toString(),textValue:h.name,children:h.name},h.id.toString()))})});case"designation":const D=(o==null?void 0:o.filter(h=>h.department_id===t.department))||[];return n("div",{className:"flex flex-col gap-2 min-w-[150px]",children:n(ne,{size:"sm",label:"Designation","aria-label":`Select designation for ${t==null?void 0:t.name}`,placeholder:"Select designation",selectedKeys:t.designation?new Set([t.designation.toString()]):new Set,onSelectionChange:h=>{const i=Array.from(h)[0];i&&k("designation",t.id,parseInt(i))},isDisabled:!t.department||E(t.id,"designation"),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",value:"text-foreground",popoverContent:"bg-white/10 backdrop-blur-md border-white/20",label:"text-xs text-default-500"},startContent:E(t.id,"designation")?n(ue,{size:"sm"}):n(Ne,{className:"w-4 h-4"}),children:D.map(h=>n(Z,{value:h.id.toString(),textValue:h.title,children:h.title},h.id.toString()))})});case"attendance_type":const R=()=>{var h;return t.attendance_type_id?new Set([t.attendance_type_id.toString()]):(h=t.attendance_type)!=null&&h.id?new Set([t.attendance_type.id.toString()]):new Set};return n("div",{className:"flex flex-col gap-2 min-w-[150px]",children:n(ne,{size:"sm",label:"Attendance Type","aria-label":`Select attendance type for ${t==null?void 0:t.name}`,placeholder:"Select type",selectedKeys:R(),onSelectionChange:h=>{const i=Array.from(h)[0];i&&k("attendance_type",t.id,parseInt(i))},isDisabled:E(t.id,"attendance_type"),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",value:"text-foreground",popoverContent:"bg-white/10 backdrop-blur-md border-white/20",label:"text-xs text-default-500"},startContent:E(t.id,"attendance_type")?n(ue,{size:"sm"}):n(Qe,{className:"w-4 h-4"}),renderValue:h=>{var z;if(!h||h.length===0)return n("span",{className:"text-default-400",children:"Select type"});const i=parseInt((z=Array.from(h)[0])==null?void 0:z.key),A=r==null?void 0:r.find(W=>W.id===i);return A?p("div",{className:"flex items-center gap-2",children:[A.icon&&n("span",{className:"text-sm",children:A.icon}),n("span",{children:A.name})]}):n("span",{className:"text-default-400",children:"Unknown type"})},children:r==null?void 0:r.map(h=>n(Z,{value:h.id.toString(),textValue:h.name,children:p("div",{className:"flex items-center gap-2",children:[h.icon&&n("span",{children:h.icon}),n("span",{children:h.name})]})},h.id.toString()))})});case"joining_date":return p("div",{className:"flex items-center gap-2 text-sm",children:[n(Ca,{className:"w-4 h-4 text-default-400"}),n("span",{className:"text-foreground",children:(t==null?void 0:t.date_of_joining)||"N/A"})]});case"actions":return u?p(Na,{classNames:{content:"bg-white/10 backdrop-blur-md border-white/20"},children:[n(ya,{children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400","aria-label":`Actions for ${t==null?void 0:t.name}`,children:n(Ia,{className:"w-4 h-4"})})}),p($a,{"aria-label":"Employee actions",children:[n(Re,{startContent:n(Ee,{className:"w-4 h-4"}),onPress:()=>window.location.href=route("profile",{user:t.id}),children:"Edit Employee"},"edit"),n(Re,{className:"text-danger",color:"danger",startContent:n(Ie,{className:"w-4 h-4"}),onPress:()=>L(t.id),isDisabled:E(t.id,"delete"),children:"Delete Employee"},"delete")]})]}):p("div",{className:"relative flex items-center gap-2",children:[n(Le,{content:"Edit Employee",placement:"top",children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",as:oa,href:route("profile",{user:t.id}),"aria-label":`Edit ${t==null?void 0:t.name}`,children:n(Ee,{className:"w-4 h-4"})})}),n(Le,{content:"Delete Employee",color:"danger",placement:"top",children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",className:"text-danger-400 hover:text-danger",onPress:()=>L(t.id),isDisabled:E(t.id,"delete"),"aria-label":`Delete ${t==null?void 0:t.name}`,children:E(t.id,"delete")?n(ue,{size:"sm",color:"danger"}):n(Ie,{className:"w-4 h-4"})})})]});default:return I||"N/A"}},B=c.useMemo(()=>u?[{name:"Sl",uid:"sl"},{name:"Employee",uid:"employee"},{name:"Department",uid:"department"},{name:"Actions",uid:"actions"}]:m?[{name:"Sl",uid:"sl"},{name:"Employee",uid:"employee"},{name:"Department",uid:"department"},{name:"Designation",uid:"designation"},{name:"Actions",uid:"actions"}]:[{name:"Sl",uid:"sl"},{name:"Employee",uid:"employee"},{name:"Contact",uid:"contact"},{name:"Department",uid:"department"},{name:"Designation",uid:"designation"},{name:"Attendance Type",uid:"attendance_type"},{name:"Join Date",uid:"joining_date"},{name:"Actions",uid:"actions"}],[u,m]);return p(Xe,{children:[n("div",{className:"w-full",children:p(Ta,{"aria-label":"Employees table with custom cells",classNames:{wrapper:"bg-transparent",th:"bg-white/10 backdrop-blur-md text-foreground font-semibold",td:"border-b border-white/10",tbody:"divide-y divide-white/10"},removeWrapper:!0,isHeaderSticky:!0,isCompact:u,className:"min-h-[400px]",children:[n(Ma,{columns:B,children:t=>n(Ba,{align:t.uid==="actions"||t.uid==="sl"?"center":"start",className:"bg-white/10 backdrop-blur-md",width:t.uid==="sl"?60:void 0,children:t.name},t.uid)}),n(Ha,{items:b,emptyContent:"No employees found",children:b.map((t,y)=>n(Wa,{className:"hover:bg-white/5 transition-colors duration-200",children:B.map(g=>n(Va,{className:"py-3",children:P(t,g.uid,y)},g.uid))},t.id))})]})}),n(zn,{isOpen:$,onClose:()=>v(!1),size:"2xl",classNames:{backdrop:"bg-black/50 backdrop-blur-sm",base:"bg-white/10 backdrop-blur-md border border-white/20",header:"border-b border-white/20",body:"py-6",footer:"border-t border-white/20"},children:p(Nn,{children:[p(Sn,{className:"flex flex-col gap-1",children:[p("div",{className:"flex items-center gap-2",children:[n(Oa,{className:"w-5 h-5"}),"Configure Attendance Settings"]}),p("p",{className:"text-sm text-default-500",children:["Employee: ",w==null?void 0:w.name,(w==null?void 0:w.attendance_type)&&n(ee,{size:"sm",variant:"flat",className:"ml-2",children:w.attendance_type.name})]})]}),p(hn,{children:[((H=w==null?void 0:w.attendance_type)==null?void 0:H.slug)==="geo_polygon"&&p("div",{className:"space-y-4",children:[n("h4",{className:"text-lg font-semibold",children:"Polygon Configuration"}),n(Ve,{label:"Polygon Coordinates (JSON)",placeholder:"Enter polygon coordinates...",value:JSON.stringify(C.polygon||[],null,2),onValueChange:t=>{try{const y=JSON.parse(t);S({...C,polygon:y})}catch{}},description:"Enter polygon coordinates as JSON array: [{'lat': 23.123, 'lng': 90.456}, ...]",classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20"}})]}),((U=w==null?void 0:w.attendance_type)==null?void 0:U.slug)==="wifi_ip"&&p("div",{className:"space-y-4",children:[n("h4",{className:"text-lg font-semibold",children:"WiFi/IP Configuration"}),n(fe,{label:"Allowed IP Addresses",placeholder:"192.168.1.1, 10.0.0.1",value:(C.allowed_ips||[]).join(", "),onValueChange:t=>{const y=t.split(",").map(g=>g.trim()).filter(g=>g);S({...C,allowed_ips:y})},description:"Enter allowed IP addresses separated by commas",classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20"}}),n(fe,{label:"Allowed IP Ranges (CIDR)",placeholder:"192.168.1.0/24, 10.0.0.0/8",value:(C.allowed_ranges||[]).join(", "),onValueChange:t=>{const y=t.split(",").map(g=>g.trim()).filter(g=>g);S({...C,allowed_ranges:y})},description:"Enter IP ranges like: 192.168.1.0/24, 10.0.0.0/8",classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20"}})]}),((V=w==null?void 0:w.attendance_type)==null?void 0:V.slug)==="route_waypoint"&&p("div",{className:"space-y-4",children:[n("h4",{className:"text-lg font-semibold",children:"Route Waypoint Configuration"}),n(fe,{label:"Tolerance (meters)",type:"number",value:((q=C.tolerance)==null?void 0:q.toString())||"200",onValueChange:t=>S({...C,tolerance:parseInt(t)}),classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20"}}),n(Ve,{label:"Waypoints (JSON)",placeholder:"Enter waypoints...",value:C.waypointsText||JSON.stringify(C.waypoints||[],null,2),onValueChange:t=>{S(y=>({...y,waypointsText:t}));try{const y=JSON.parse(t);Array.isArray(y)&&S(g=>({...g,waypoints:y,waypointsText:t}))}catch{}},description:"Enter waypoints as JSON array: [{'lat': 23.123, 'lng': 90.456}, ...]",isInvalid:(()=>{try{const t=C.waypointsText||JSON.stringify(C.waypoints||[],null,2);return JSON.parse(t),!1}catch{return!0}})(),classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20"}})]})]}),p(Cn,{children:[n(Q,{color:"danger",variant:"light",onPress:()=>v(!1),children:"Cancel"}),n(Q,{color:"primary",onPress:j,className:"bg-gradient-to-r from-blue-500 to-purple-500",children:"Save Configuration"})]})]})})]})},Tn=({title:e,allUsers:a,departments:o,designations:r,attendanceTypes:s})=>{var D,R,h;const u=Ze(),m=Oe(u.breakpoints.down("sm")),b=Oe(u.breakpoints.down("md")),[l,f]=c.useState(a||[]),[d,$]=c.useState(""),[v,w]=c.useState("all"),[x,C]=c.useState("all"),[S,O]=c.useState("all"),[E,k]=c.useState("table"),[L,j]=c.useState(!1),P=c.useMemo(()=>l.filter(i=>{var _,F,G;const A=d===""||((_=i.name)==null?void 0:_.toLowerCase().includes(d.toLowerCase()))||((F=i.email)==null?void 0:F.toLowerCase().includes(d.toLowerCase()))||((G=i.employee_id)==null?void 0:G.toLowerCase().includes(d.toLowerCase())),z=v==="all"||i.department===parseInt(v),W=x==="all"||i.designation===parseInt(x),T=S==="all"||i.attendance_type_id===parseInt(S);return A&&z&&W&&T}),[l,d,v,x,S]),B=c.useCallback(i=>{$(i)},[]),H=c.useCallback(i=>{w(i),i!=="all"&&C("all")},[]),U=c.useCallback(i=>{C(i)},[]),V=c.useCallback(i=>{O(i)},[]),q=c.useCallback(i=>{f(i)},[]),t=c.useMemo(()=>({total:l.length,withDepartment:l.filter(i=>i.department).length,withDesignation:l.filter(i=>i.designation).length,filtered:P.length}),[l,P]),y=c.useMemo(()=>v==="all"?r:r.filter(i=>i.department_id===parseInt(v)),[r,v]),g=c.useMemo(()=>[{title:"Total Employees",value:t.total,icon:n(xe,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Employees"},{title:"With Department",value:t.withDepartment,icon:n(Ce,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:"With Department"},{title:"With Designation",value:t.withDesignation,icon:n(Ne,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"With Designation"},{title:"Filtered",value:t.filtered,icon:n(Ka,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Filtered"}],[t]),I=({user:i,index:A})=>{const z=o==null?void 0:o.find(_=>_.id===i.department),W=r==null?void 0:r.find(_=>_.id===i.designation),T=s==null?void 0:s.find(_=>_.id===i.attendance_type_id);return n(la,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer",onPress:()=>window.location.href=route("profile",{user:i.id}),children:n(sa,{className:"p-4",children:p("div",{className:"flex items-start gap-3",children:[n(tt,{avatarProps:{radius:"lg",src:i==null?void 0:i.profile_image,size:"md",fallback:n(et,{className:"w-4 h-4"})},name:i==null?void 0:i.name,description:`ID: ${(i==null?void 0:i.employee_id)||"N/A"}`,classNames:{name:"font-semibold text-foreground text-left text-sm",description:"text-default-500 text-left text-xs",wrapper:"justify-start"}}),p("div",{className:"flex-1 min-w-0",children:[n("div",{className:"flex items-center justify-end mb-2",children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:_=>{_.stopPropagation(),window.location.href=route("profile",{user:i.id})},children:n(Ee,{className:"w-4 h-4"})})}),p("div",{className:"space-y-2",children:[p("div",{className:"flex flex-col gap-1 text-xs",children:[p("div",{className:"flex items-center gap-1 text-default-500",children:[n(Se,{className:"w-3 h-3"}),n("span",{className:"truncate",children:i==null?void 0:i.email})]}),(i==null?void 0:i.phone)&&p("div",{className:"flex items-center gap-1 text-default-500",children:[n(_e,{className:"w-3 h-3"}),n("span",{children:i==null?void 0:i.phone})]})]}),p("div",{className:"flex flex-wrap gap-1",children:[z&&n(ee,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:n(Ce,{className:"w-3 h-3"}),children:z.name}),W&&n(ee,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:n(Ne,{className:"w-3 h-3"}),children:W.title})]}),T&&n(ee,{size:"sm",variant:"bordered",className:"text-xs",startContent:n(Qe,{className:"w-3 h-3"}),children:T.name})]})]})]})})})};return p(Xe,{children:[n(ia,{title:e}),n(ka,{sx:{display:"flex",justifyContent:"center",p:2},children:n(Sa,{in:!0,timeout:800,children:n(Ea,{children:n(Pa,{title:"Employee Directory",subtitle:"Manage employee information, departments, and designations",icon:n(xe,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:m?"Add":"Add Employee",icon:n(ja,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-secondary)] text-white font-medium hover:opacity-90"}],children:p("div",{className:"p-4 sm:p-6",children:[n(Ra,{stats:g,className:"mb-6"}),p("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n("div",{className:"flex-1",children:n(fe,{label:"Search Employees",variant:"bordered",placeholder:"Search by name, email, or employee ID...",value:d,onValueChange:B,startContent:n(_a,{className:"w-4 h-4"}),classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:m?"sm":"md"})}),p("div",{className:"flex gap-2 items-end",children:[p(La,{variant:"bordered",className:"bg-white/5",children:[p(Q,{isIconOnly:m,color:E==="table"?"primary":"default",onPress:()=>k("table"),className:E==="table"?"bg-blue-500/20":"",children:[n(Ja,{className:"w-4 h-4"}),!m&&n("span",{className:"ml-1",children:"Table"})]}),p(Q,{isIconOnly:m,color:E==="grid"?"primary":"default",onPress:()=>k("grid"),className:E==="grid"?"bg-blue-500/20":"",children:[n(Da,{className:"w-4 h-4"}),!m&&n("span",{className:"ml-1",children:"Grid"})]})]}),p(Q,{isIconOnly:m,variant:"bordered",onPress:()=>j(!L),className:L?"bg-purple-500/20":"bg-white/5",children:[n(za,{className:"w-4 h-4"}),!m&&n("span",{className:"ml-1",children:"Filters"})]})]})]}),L&&n(Aa,{in:!0,timeout:300,children:p("div",{className:"mb-6 p-4 bg-white/5 backdrop-blur-md rounded-lg border border-white/10",children:[p("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[p(ne,{label:"Department",variant:"bordered",selectedKeys:v!=="all"?[v]:[],onSelectionChange:i=>{const A=Array.from(i)[0]||"all";H(A)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[n(Z,{value:"all",children:"All Departments"},"all"),o==null?void 0:o.map(i=>n(Z,{value:i.id.toString(),children:i.name},i.id.toString()))]}),p(ne,{label:"Designation",variant:"bordered",selectedKeys:x!=="all"?[x]:[],onSelectionChange:i=>{const A=Array.from(i)[0]||"all";U(A)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[n(Z,{value:"all",children:"All Designations"},"all"),y==null?void 0:y.map(i=>n(Z,{value:i.id.toString(),children:i.title},i.id.toString()))]}),!m&&p(ne,{label:"Attendance Type",variant:"bordered",selectedKeys:S!=="all"?[S]:[],onSelectionChange:i=>{const A=Array.from(i)[0]||"all";V(A)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[n(Z,{value:"all",children:"All Attendance Types"},"all"),s==null?void 0:s.map(i=>n(Z,{value:i.id.toString(),children:i.name},i.id.toString()))]})]}),(d||v!=="all"||x!=="all"||S!=="all")&&p("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10",children:[d&&p(ee,{variant:"flat",color:"primary",size:"sm",onClose:()=>$(""),children:["Search: ",d]}),v!=="all"&&p(ee,{variant:"flat",color:"secondary",size:"sm",onClose:()=>w("all"),children:["Department: ",(D=o==null?void 0:o.find(i=>i.id===parseInt(v)))==null?void 0:D.name]}),x!=="all"&&p(ee,{variant:"flat",color:"warning",size:"sm",onClose:()=>C("all"),children:["Designation: ",(R=r==null?void 0:r.find(i=>i.id===parseInt(x)))==null?void 0:R.title]}),S!=="all"&&p(ee,{variant:"flat",color:"success",size:"sm",onClose:()=>O("all"),children:["Attendance: ",(h=s==null?void 0:s.find(i=>i.id===parseInt(S)))==null?void 0:h.name]})]})]})}),p("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 overflow-hidden",children:[n("div",{className:"p-4 border-b border-white/10",children:p(we,{variant:"h6",className:"font-semibold text-foreground",children:[E==="table"?"Employee Table":"Employee Grid",p("span",{className:"text-sm text-default-500 ml-2",children:["(",P.length," ",P.length===1?"employee":"employees",")"]})]})}),n("div",{className:"max-h-[60vh] overflow-y-auto p-4",children:E==="table"?n(jn,{allUsers:P,departments:o,designations:r,attendanceTypes:s,setUsers:q,isMobile:m,isTablet:b}):p("div",{children:[n("div",{className:`grid gap-4 ${m?"grid-cols-1":b?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:P.map((i,A)=>n(I,{user:i,index:A},i.id))}),P.length===0&&p("div",{className:"text-center py-8",children:[n(xe,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),n(we,{variant:"body1",color:"textSecondary",children:"No employees found"}),n(we,{variant:"caption",color:"textSecondary",children:"Try adjusting your search or filters"})]})]})})]})]})})})})})]})};Tn.layout=e=>n(Fa,{children:e});export{Tn as default};
