import{r as y,c as U,j as l,a as e,F as z,b as Jr,q as Yr,R as ze,Y as Vr}from"./app-DdshGs2h.js";import{D as ve,d as Le,a as Ce,b as Se,G as ke,c as xe}from"./GlassDialog-BsfWUhIE.js";import{g as we,f as Ne,s as K,_ as R,af as Qr,u as Ie,h as me,k as Y,x as Te,n as Be,W as Zr,ag as et,t as tr,m as ae,v as ar,ah as or,X as rt,Y as tt,ai as Ar,e as Ke,a5 as at,a4 as Er,a6 as Rr,aj as qe,w as le,ak as Ze,ad as ot,T as F,I as X,G as o,B as q,M as L,z as ne,D as re,a as V,d as nr,E as ue,al as _r,c as nt,am as _e,an as $,ao as N,A as it}from"./App-CYb_V-lD.js";import{T as E,F as $e}from"./TextField-Bo27JNZO.js";import{F as Q,I as Z,S as ee}from"./Select-B0Ha6fMy.js";import{L as he}from"./LoadingButton-vgGi_NI-.js";import{C as ie}from"./CircularProgress-CIPzFHkO.js";import{A as Dr}from"./Add-BRyzWPFw.js";import{I as lt}from"./InputAdornment-CC2QbzTg.js";let Pe;function Fr(){if(Pe)return Pe;const r=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",r.appendChild(t),r.dir="rtl",r.style.fontSize="14px",r.style.width="4px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.overflow="scroll",document.body.appendChild(r),Pe="reverse",r.scrollLeft>0?Pe="default":(r.scrollLeft=1,r.scrollLeft===0&&(Pe="negative")),document.body.removeChild(r),Pe}function st(r,t){const n=r.scrollLeft;if(t!=="rtl")return n;switch(Fr()){case"negative":return r.scrollWidth-r.clientWidth+n;case"reverse":return r.scrollWidth-r.clientWidth-n;default:return n}}function ct(r){return Ne("MuiAvatarGroup",r)}const dt=we("MuiAvatarGroup",["root","avatar"]),pt=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],yr={small:-16,medium:null},ut=r=>{const{classes:t}=r;return Be({root:["root"],avatar:["avatar"]},ct,t)},mt=K("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(r,t)=>R({[`& .${dt.avatar}`]:t.avatar},t.root)})(({theme:r,ownerState:t})=>{const n=t.spacing&&yr[t.spacing]!==void 0?yr[t.spacing]:-t.spacing;return{[`& .${Qr.root}`]:{border:`2px solid ${(r.vars||r).palette.background.default}`,boxSizing:"content-box",marginLeft:n??-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}}),vr=y.forwardRef(function(t,n){var x;const p=Ie({props:t,name:"MuiAvatarGroup"}),{children:i,className:b,component:B="div",componentsProps:f={},max:v=5,renderSurplus:h,slotProps:C={},spacing:I="medium",total:S,variant:m="circular"}=p,s=me(p,pt);let P=v<2?2:v;const u=R({},p,{max:v,spacing:I,component:B,variant:m}),c=ut(u),g=y.Children.toArray(i).filter(k=>y.isValidElement(k)),a=S||g.length;a===P&&(P+=1),P=Math.min(a+1,P);const d=Math.min(g.length,P-1),_=Math.max(a-P,a-d,0),w=h?h(_):`+${_}`,W=(x=C.additionalAvatar)!=null?x:f.additionalAvatar;return U.jsxs(mt,R({as:B,ownerState:u,className:Y(c.root,b),ref:n},s,{children:[_?U.jsx(Te,R({variant:m},W,{className:Y(c.avatar,W==null?void 0:W.className),children:w})):null,g.slice(0,d).reverse().map(k=>y.cloneElement(k,{className:Y(k.props.className,c.avatar),variant:k.props.variant||m}))]}))});function ht(r){return Ne("MuiCardActions",r)}we("MuiCardActions",["root","spacing"]);const bt=["disableSpacing","className"],gt=r=>{const{classes:t,disableSpacing:n}=r;return Be({root:["root",!n&&"spacing"]},ht,t)},ft=K("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:r})=>R({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xt=y.forwardRef(function(t,n){const x=Ie({props:t,name:"MuiCardActions"}),{disableSpacing:p=!1,className:i}=x,b=me(x,bt),B=R({},x,{disableSpacing:p}),f=gt(B);return U.jsx(ft,R({className:Y(f.root,i),ownerState:B,ref:n},b))}),_t=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],yt=r=>{const{absolute:t,children:n,classes:x,flexItem:p,light:i,orientation:b,textAlign:B,variant:f}=r;return Be({root:["root",t&&"absolute",f,i&&"light",b==="vertical"&&"vertical",p&&"flexItem",n&&"withChildren",n&&b==="vertical"&&"withChildrenVertical",B==="right"&&b!=="vertical"&&"textAlignRight",B==="left"&&b!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",b==="vertical"&&"wrapperVertical"]},et,x)},vt=K("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:r,ownerState:t})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:r.vars?`rgba(${r.vars.palette.dividerChannel} / 0.08)`:Zr(r.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:r.spacing(2),marginRight:r.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:r.spacing(1),marginBottom:r.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:r})=>R({},r.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:r,ownerState:t})=>R({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}),({theme:r,ownerState:t})=>R({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:r})=>R({},r.textAlign==="right"&&r.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},r.textAlign==="left"&&r.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Ct=K("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:r,ownerState:t})=>R({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`})),ye=y.forwardRef(function(t,n){const x=Ie({props:t,name:"MuiDivider"}),{absolute:p=!1,children:i,className:b,component:B=i?"div":"hr",flexItem:f=!1,light:v=!1,orientation:h="horizontal",role:C=B!=="hr"?"separator":void 0,textAlign:I="center",variant:S="fullWidth"}=x,m=me(x,_t),s=R({},x,{absolute:p,component:B,flexItem:f,light:v,orientation:h,role:C,textAlign:I,variant:S}),P=yt(s);return U.jsx(vt,R({as:B,className:Y(P.root,b),role:C,ref:n,ownerState:s},m,{children:i?U.jsx(Ct,{className:P.wrapper,ownerState:s,children:i}):null}))});ye.muiSkipListHighlight=!0;function St(r){return Ne("MuiLinearProgress",r)}we("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const kt=["className","color","value","valueBuffer","variant"];let Ae=r=>r,Cr,Sr,kr,Ir,Br,Pr;const rr=4,It=tr(Cr||(Cr=Ae`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Bt=tr(Sr||(Sr=Ae`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Pt=tr(kr||(kr=Ae`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Tt=r=>{const{classes:t,variant:n,color:x}=r,p={root:["root",`color${ae(x)}`,n],dashed:["dashed",`dashedColor${ae(x)}`],bar1:["bar",`barColor${ae(x)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${ae(x)}`,n==="buffer"&&`color${ae(x)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Be(p,St,t)},ir=(r,t)=>t==="inherit"?"currentColor":r.vars?r.vars.palette.LinearProgress[`${t}Bg`]:r.palette.mode==="light"?rt(r.palette[t].main,.62):tt(r.palette[t].main,.5),wt=K("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,t[`color${ae(n.color)}`],t[n.variant]]}})(({ownerState:r,theme:t})=>R({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ir(t,r.color)},r.color==="inherit"&&r.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},r.variant==="buffer"&&{backgroundColor:"transparent"},r.variant==="query"&&{transform:"rotate(180deg)"})),Nt=K("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.dashed,t[`dashedColor${ae(n.color)}`]]}})(({ownerState:r,theme:t})=>{const n=ir(t,r.color);return R({position:"absolute",marginTop:0,height:"100%",width:"100%"},r.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ar(Ir||(Ir=Ae`
    animation: ${0} 3s infinite linear;
  `),Pt)),At=K("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.bar,t[`barColor${ae(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar1Indeterminate,n.variant==="determinate"&&t.bar1Determinate,n.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:r,theme:t})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:r.color==="inherit"?"currentColor":(t.vars||t).palette[r.color].main},r.variant==="determinate"&&{transition:`transform .${rr}s linear`},r.variant==="buffer"&&{zIndex:1,transition:`transform .${rr}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&ar(Br||(Br=Ae`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),It)),Et=K("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.bar,t[`barColor${ae(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&t.bar2Indeterminate,n.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:r,theme:t})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},r.variant!=="buffer"&&{backgroundColor:r.color==="inherit"?"currentColor":(t.vars||t).palette[r.color].main},r.color==="inherit"&&{opacity:.3},r.variant==="buffer"&&{backgroundColor:ir(t,r.color),transition:`transform .${rr}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&ar(Pr||(Pr=Ae`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Bt)),Rt=y.forwardRef(function(t,n){const x=Ie({props:t,name:"MuiLinearProgress"}),{className:p,color:i="primary",value:b,valueBuffer:B,variant:f="indeterminate"}=x,v=me(x,kt),h=R({},x,{color:i,variant:f}),C=Tt(h),I=or(),S={},m={bar1:{},bar2:{}};if((f==="determinate"||f==="buffer")&&b!==void 0){S["aria-valuenow"]=Math.round(b),S["aria-valuemin"]=0,S["aria-valuemax"]=100;let s=b-100;I&&(s=-s),m.bar1.transform=`translateX(${s}%)`}if(f==="buffer"&&B!==void 0){let s=(B||0)-100;I&&(s=-s),m.bar2.transform=`translateX(${s}%)`}return U.jsxs(wt,R({className:Y(C.root,p),ownerState:h,role:"progressbar"},S,{ref:n},v,{children:[f==="buffer"?U.jsx(Nt,{className:C.dashed,ownerState:h}):null,U.jsx(At,{className:C.bar1,ownerState:h,style:m.bar1}),f==="determinate"?null:U.jsx(Et,{className:C.bar2,ownerState:h,style:m.bar2})]}))});function Dt(r){return Ne("MuiTab",r)}const pe=we("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Ft=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Wt=r=>{const{classes:t,textColor:n,fullWidth:x,wrapped:p,icon:i,label:b,selected:B,disabled:f}=r,v={root:["root",i&&b&&"labelIcon",`textColor${ae(n)}`,x&&"fullWidth",p&&"wrapped",B&&"selected",f&&"disabled"],iconWrapper:["iconWrapper"]};return Be(v,Dt,t)},$t=K(Ar,{name:"MuiTab",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${ae(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${pe.iconWrapper}`]:t.iconWrapper}]}})(({theme:r,ownerState:t})=>R({},r.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${pe.iconWrapper}`]:R({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:r.spacing(1)},t.iconPosition==="end"&&{marginLeft:r.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${pe.selected}`]:{opacity:1},[`&.${pe.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(r.vars||r).palette.text.secondary,[`&.${pe.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${pe.disabled}`]:{color:(r.vars||r).palette.text.disabled}},t.textColor==="secondary"&&{color:(r.vars||r).palette.text.secondary,[`&.${pe.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${pe.disabled}`]:{color:(r.vars||r).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:r.typography.pxToRem(12)})),Ge=y.forwardRef(function(t,n){const x=Ie({props:t,name:"MuiTab"}),{className:p,disabled:i=!1,disableFocusRipple:b=!1,fullWidth:B,icon:f,iconPosition:v="top",indicator:h,label:C,onChange:I,onClick:S,onFocus:m,selected:s,selectionFollowsFocus:P,textColor:u="inherit",value:c,wrapped:g=!1}=x,a=me(x,Ft),d=R({},x,{disabled:i,disableFocusRipple:b,selected:s,icon:!!f,iconPosition:v,label:!!C,fullWidth:B,textColor:u,wrapped:g}),_=Wt(d),w=f&&C&&y.isValidElement(f)?y.cloneElement(f,{className:Y(_.iconWrapper,f.props.className)}):f,W=O=>{!s&&I&&I(O,c),S&&S(O)},k=O=>{P&&!s&&I&&I(O,c),m&&m(O)};return U.jsxs($t,R({focusRipple:!b,className:Y(_.root,p),ref:n,role:"tab","aria-selected":s,disabled:i,onClick:W,onFocus:k,ownerState:d,tabIndex:s?0:-1},a,{children:[v==="top"||v==="start"?U.jsxs(y.Fragment,{children:[w,C]}):U.jsxs(y.Fragment,{children:[C,w]}),h]}))}),Lt=Ke(U.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),jt=Ke(U.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Mt(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function Ot(r,t,n,x={},p=()=>{}){const{ease:i=Mt,duration:b=300}=x;let B=null;const f=t[r];let v=!1;const h=()=>{v=!0},C=I=>{if(v){p(new Error("Animation cancelled"));return}B===null&&(B=I);const S=Math.min(1,(I-B)/b);if(t[r]=i(S)*(n-f)+f,S>=1){requestAnimationFrame(()=>{p(null)});return}requestAnimationFrame(C)};return f===n?(p(new Error("Element already at target position")),h):(requestAnimationFrame(C),h)}const Ut=["onChange"],zt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Gt(r){const{onChange:t}=r,n=me(r,Ut),x=y.useRef(),p=y.useRef(null),i=()=>{x.current=p.current.offsetHeight-p.current.clientHeight};return at(()=>{const b=Rr(()=>{const f=x.current;i(),f!==x.current&&t(x.current)}),B=Er(p.current);return B.addEventListener("resize",b),()=>{b.clear(),B.removeEventListener("resize",b)}},[t]),y.useEffect(()=>{i(),t(x.current)},[t]),U.jsx("div",R({style:zt,ref:p},n))}function Xt(r){return Ne("MuiTabScrollButton",r)}const qt=we("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ht=["className","slots","slotProps","direction","orientation","disabled"],Kt=r=>{const{classes:t,orientation:n,disabled:x}=r;return Be({root:["root",n,x&&"disabled"]},Xt,t)},Jt=K(Ar,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:r})=>R({width:40,flexShrink:0,opacity:.8,[`&.${qt.disabled}`]:{opacity:0}},r.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${r.isRtl?-90:90}deg)`}})),Yt=y.forwardRef(function(t,n){var x,p;const i=Ie({props:t,name:"MuiTabScrollButton"}),{className:b,slots:B={},slotProps:f={},direction:v}=i,h=me(i,Ht),C=or(),I=R({isRtl:C},i),S=Kt(I),m=(x=B.StartScrollButtonIcon)!=null?x:Lt,s=(p=B.EndScrollButtonIcon)!=null?p:jt,P=qe({elementType:m,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:I}),u=qe({elementType:s,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:I});return U.jsx(Jt,R({component:"div",className:Y(S.root,b),ref:n,role:null,ownerState:I,tabIndex:null},h,{children:v==="left"?U.jsx(m,R({},P)):U.jsx(s,R({},u))}))});function Vt(r){return Ne("MuiTabs",r)}const er=we("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Qt=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Tr=(r,t)=>r===t?r.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r.firstChild,wr=(r,t)=>r===t?r.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r.lastChild,Xe=(r,t,n)=>{let x=!1,p=n(r,t);for(;p;){if(p===r.firstChild){if(x)return;x=!0}const i=p.disabled||p.getAttribute("aria-disabled")==="true";if(!p.hasAttribute("tabindex")||i)p=n(r,p);else{p.focus();return}}},Zt=r=>{const{vertical:t,fixed:n,hideScrollbar:x,scrollableX:p,scrollableY:i,centered:b,scrollButtonsHideMobile:B,classes:f}=r;return Be({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",x&&"hideScrollbar",p&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",b&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",B&&"scrollButtonsHideMobile"],scrollableX:[p&&"scrollableX"],hideScrollbar:[x&&"hideScrollbar"]},Vt,f)},ea=K("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[{[`& .${er.scrollButtons}`]:t.scrollButtons},{[`& .${er.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:r,theme:t})=>R({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},r.vertical&&{flexDirection:"column"},r.scrollButtonsHideMobile&&{[`& .${er.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),ra=K("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:r})=>R({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},r.fixed&&{overflowX:"hidden",width:"100%"},r.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},r.scrollableX&&{overflowX:"auto",overflowY:"hidden"},r.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),ta=K("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:r})=>R({display:"flex"},r.vertical&&{flexDirection:"column"},r.centered&&{justifyContent:"center"})),aa=K("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(r,t)=>t.indicator})(({ownerState:r,theme:t})=>R({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},r.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},r.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},r.vertical&&{height:"100%",width:2,right:0})),oa=K(Gt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Nr={},na=y.forwardRef(function(t,n){const x=Ie({props:t,name:"MuiTabs"}),p=le(),i=or(),{"aria-label":b,"aria-labelledby":B,action:f,centered:v=!1,children:h,className:C,component:I="div",allowScrollButtonsMobile:S=!1,indicatorColor:m="primary",onChange:s,orientation:P="horizontal",ScrollButtonComponent:u=Yt,scrollButtons:c="auto",selectionFollowsFocus:g,slots:a={},slotProps:d={},TabIndicatorProps:_={},TabScrollButtonProps:w={},textColor:W="primary",value:k,variant:O="standard",visibleScrollbar:D=!1}=x,Ee=me(x,Qt),J=O==="scrollable",te=P==="vertical",Re=te?"scrollTop":"scrollLeft",je=te?"top":"left",Me=te?"bottom":"right",Je=te?"clientHeight":"clientWidth",De=te?"height":"width",be=R({},x,{component:I,allowScrollButtonsMobile:S,indicatorColor:m,orientation:P,vertical:te,scrollButtons:c,textColor:W,variant:O,visibleScrollbar:D,fixed:!J,hideScrollbar:J&&!D,scrollableX:J&&!te,scrollableY:J&&te,centered:v&&!J,scrollButtonsHideMobile:!S}),ce=Zt(be),Wr=qe({elementType:a.StartScrollButtonIcon,externalSlotProps:d.startScrollButtonIcon,ownerState:be}),$r=qe({elementType:a.EndScrollButtonIcon,externalSlotProps:d.endScrollButtonIcon,ownerState:be}),[lr,Lr]=y.useState(!1),[ge,sr]=y.useState(Nr),[cr,jr]=y.useState(!1),[dr,Mr]=y.useState(!1),[pr,Or]=y.useState(!1),[ur,Ur]=y.useState({overflow:"hidden",scrollbarWidth:0}),mr=new Map,se=y.useRef(null),fe=y.useRef(null),hr=()=>{const T=se.current;let A;if(T){const j=T.getBoundingClientRect();A={clientWidth:T.clientWidth,scrollLeft:T.scrollLeft,scrollTop:T.scrollTop,scrollLeftNormalized:st(T,i?"rtl":"ltr"),scrollWidth:T.scrollWidth,top:j.top,bottom:j.bottom,left:j.left,right:j.right}}let M;if(T&&k!==!1){const j=fe.current.children;if(j.length>0){const G=j[mr.get(k)];M=G?G.getBoundingClientRect():null}}return{tabsMeta:A,tabMeta:M}},Fe=Ze(()=>{const{tabsMeta:T,tabMeta:A}=hr();let M=0,j;if(te)j="top",A&&T&&(M=A.top-T.top+T.scrollTop);else if(j=i?"right":"left",A&&T){const H=i?T.scrollLeftNormalized+T.clientWidth-T.scrollWidth:T.scrollLeft;M=(i?-1:1)*(A[j]-T[j]+H)}const G={[j]:M,[De]:A?A[De]:0};if(isNaN(ge[j])||isNaN(ge[De]))sr(G);else{const H=Math.abs(ge[j]-G[j]),oe=Math.abs(ge[De]-G[De]);(H>=1||oe>=1)&&sr(G)}}),Ye=(T,{animation:A=!0}={})=>{A?Ot(Re,se.current,T,{duration:p.transitions.duration.standard}):se.current[Re]=T},br=T=>{let A=se.current[Re];te?A+=T:(A+=T*(i?-1:1),A*=i&&Fr()==="reverse"?-1:1),Ye(A)},gr=()=>{const T=se.current[Je];let A=0;const M=Array.from(fe.current.children);for(let j=0;j<M.length;j+=1){const G=M[j];if(A+G[Je]>T){j===0&&(A=T);break}A+=G[Je]}return A},zr=()=>{br(-1*gr())},Gr=()=>{br(gr())},Xr=y.useCallback(T=>{Ur({overflow:null,scrollbarWidth:T})},[]),qr=()=>{const T={};T.scrollbarSizeListener=J?U.jsx(oa,{onChange:Xr,className:Y(ce.scrollableX,ce.hideScrollbar)}):null;const M=J&&(c==="auto"&&(cr||dr)||c===!0);return T.scrollButtonStart=M?U.jsx(u,R({slots:{StartScrollButtonIcon:a.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Wr},orientation:P,direction:i?"right":"left",onClick:zr,disabled:!cr},w,{className:Y(ce.scrollButtons,w.className)})):null,T.scrollButtonEnd=M?U.jsx(u,R({slots:{EndScrollButtonIcon:a.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:$r},orientation:P,direction:i?"left":"right",onClick:Gr,disabled:!dr},w,{className:Y(ce.scrollButtons,w.className)})):null,T},fr=Ze(T=>{const{tabsMeta:A,tabMeta:M}=hr();if(!(!M||!A)){if(M[je]<A[je]){const j=A[Re]+(M[je]-A[je]);Ye(j,{animation:T})}else if(M[Me]>A[Me]){const j=A[Re]+(M[Me]-A[Me]);Ye(j,{animation:T})}}}),Oe=Ze(()=>{J&&c!==!1&&Or(!pr)});y.useEffect(()=>{const T=Rr(()=>{se.current&&Fe()});let A;const M=H=>{H.forEach(oe=>{oe.removedNodes.forEach(We=>{var de;(de=A)==null||de.unobserve(We)}),oe.addedNodes.forEach(We=>{var de;(de=A)==null||de.observe(We)})}),T(),Oe()},j=Er(se.current);j.addEventListener("resize",T);let G;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(T),Array.from(fe.current.children).forEach(H=>{A.observe(H)})),typeof MutationObserver<"u"&&(G=new MutationObserver(M),G.observe(fe.current,{childList:!0})),()=>{var H,oe;T.clear(),j.removeEventListener("resize",T),(H=G)==null||H.disconnect(),(oe=A)==null||oe.disconnect()}},[Fe,Oe]),y.useEffect(()=>{const T=Array.from(fe.current.children),A=T.length;if(typeof IntersectionObserver<"u"&&A>0&&J&&c!==!1){const M=T[0],j=T[A-1],G={root:se.current,threshold:.99},H=Qe=>{jr(!Qe[0].isIntersecting)},oe=new IntersectionObserver(H,G);oe.observe(M);const We=Qe=>{Mr(!Qe[0].isIntersecting)},de=new IntersectionObserver(We,G);return de.observe(j),()=>{oe.disconnect(),de.disconnect()}}},[J,c,pr,h==null?void 0:h.length]),y.useEffect(()=>{Lr(!0)},[]),y.useEffect(()=>{Fe()}),y.useEffect(()=>{fr(Nr!==ge)},[fr,ge]),y.useImperativeHandle(f,()=>({updateIndicator:Fe,updateScrollButtons:Oe}),[Fe,Oe]);const xr=U.jsx(aa,R({},_,{className:Y(ce.indicator,_.className),ownerState:be,style:R({},ge,_.style)}));let Ue=0;const Hr=y.Children.map(h,T=>{if(!y.isValidElement(T))return null;const A=T.props.value===void 0?Ue:T.props.value;mr.set(A,Ue);const M=A===k;return Ue+=1,y.cloneElement(T,R({fullWidth:O==="fullWidth",indicator:M&&!lr&&xr,selected:M,selectionFollowsFocus:g,onChange:s,textColor:W,value:A},Ue===1&&k===!1&&!T.props.tabIndex?{tabIndex:0}:{}))}),Kr=T=>{const A=fe.current,M=ot(A).activeElement;if(M.getAttribute("role")!=="tab")return;let G=P==="horizontal"?"ArrowLeft":"ArrowUp",H=P==="horizontal"?"ArrowRight":"ArrowDown";switch(P==="horizontal"&&i&&(G="ArrowRight",H="ArrowLeft"),T.key){case G:T.preventDefault(),Xe(A,M,wr);break;case H:T.preventDefault(),Xe(A,M,Tr);break;case"Home":T.preventDefault(),Xe(A,null,Tr);break;case"End":T.preventDefault(),Xe(A,null,wr);break}},Ve=qr();return U.jsxs(ea,R({className:Y(ce.root,C),ownerState:be,ref:n,as:I},Ee,{children:[Ve.scrollButtonStart,Ve.scrollbarSizeListener,U.jsxs(ra,{className:ce.scroller,ownerState:be,style:{overflow:ur.overflow,[te?`margin${i?"Left":"Right"}`:"marginBottom"]:D?void 0:-ur.scrollbarWidth},ref:se,children:[U.jsx(ta,{"aria-label":b,"aria-labelledby":B,"aria-orientation":P==="vertical"?"vertical":null,className:ce.flexContainer,ownerState:be,onKeyDown:Kr,ref:fe,role:"tablist",children:Hr}),lr&&xr]}),Ve.scrollButtonEnd]}))}),He=Ke(U.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),ia=Ke([U.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),U.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),la=({user:r,allUsers:t,departments:n,designations:x,setUser:p,open:i,closeModal:b,handleImageChange:B,selectedImage:f})=>{const[v,h]=y.useState({id:r.id}),[C,I]=y.useState({}),[S,m]=y.useState(!1),[s,P]=y.useState(!1),u=le(),c=(a,d)=>{a==="department"&&r.department!==d&&(r.designation=null,r.report_to=null),h(_=>({..._,[a]:d}))};async function g(a){a.preventDefault(),console.log(v),m(!0);const d=new Promise(async(_,w)=>{try{const W=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"profile",...v})}),k=await W.json();W.ok?(p(O=>({...O,...v})),m(!1),b(),_([...k.messages]),console.log(k.messages)):(m(!1),I(k.errors),w(k.errors),console.error(k.errors))}catch(W){m(!1),b(),console.log(W),w(["An unexpected error occurred."])}});ne.promise(d,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:_}){return e(z,{children:_.map((w,W)=>e("div",{children:w},W))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:_}){return e(z,{children:_.map((w,W)=>e("div",{children:w},W))})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}return l(ke,{open:i,onClose:b,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Profile Information"}),e(X,{variant:"outlined",color:"primary",onClick:b,sx:{position:"absolute",top:8,right:16},children:e(Le,{})})]}),l("form",{onSubmit:g,children:[e(Ce,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:l(q,{position:"relative",display:"inline-block",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[e(Te,{alt:v.name||r.name,src:f||`assets/images/users/${v.user_name||r.user_name}.jpg`,sx:{width:100,height:100}}),s&&e(z,{children:e(q,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(X,{color:"primary",component:"span",children:e(ia,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:B}),e("label",{htmlFor:"upload-button",children:e(q,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Name",fullWidth:!0,value:v.name||r.name||"",onChange:a=>c("name",a.target.value),error:!!C.name,helperText:C.name})}),e(o,{item:!0,xs:12,md:6,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"gender-label",children:"Gender"}),l(ee,{labelId:"gender-label",value:v.gender||r.gender||"na",onChange:a=>c("gender",a.target.value),error:!!C.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{disabled:!0,value:"na",children:"Select Gender"}),e(L,{value:"Male",children:"Male"}),e(L,{value:"Female",children:"Female"})]}),e($e,{children:C.gender})]})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Birth Date",type:"date",fullWidth:!0,value:v.birthday||r.birthday||"",onChange:a=>c("birthday",a.target.value),InputLabelProps:{shrink:!0},error:!!C.birthday,helperText:C.birthday})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Joining Date",type:"date",fullWidth:!0,value:v.date_of_joining||r.date_of_joining||"",onChange:a=>c("date_of_joining",a.target.value),InputLabelProps:{shrink:!0},error:!!C.date_of_joining,helperText:C.date_of_joining})}),e(o,{item:!0,xs:12,children:e(E,{label:"Address",fullWidth:!0,value:v.address||r.address,onChange:a=>c("address",a.target.value),error:!!C.address,helperText:C.address})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Employee ID",fullWidth:!0,value:v.employee_id||r.employee_id||"",onChange:a=>c("employee_id",a.target.value),error:!!C.employee_id,helperText:C.employee_id})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Phone Number",fullWidth:!0,value:v.phone||r.phone,onChange:a=>c("phone",a.target.value),error:!!C.phone,helperText:C.phone})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Email Adress",fullWidth:!0,value:v.email||r.email,onChange:a=>c("email",a.target.value),error:!!C.email,helperText:C.email})}),e(o,{item:!0,xs:12,md:6,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"department",children:"Department"}),l(ee,{labelId:"department",onChange:a=>c("department",a.target.value),error:!!C.department,id:`department-select-${r.id}`,value:v.department||r.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select Department"}),n.map(a=>e(L,{value:a.id,children:a.name},a.id))]}),e($e,{children:C.department})]})}),e(o,{item:!0,xs:12,md:6,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"designation",children:"Designation"}),l(ee,{labelId:"designation",onChange:a=>c("designation",a.target.value),label:"Designation",error:!!C.designation,id:`designation-select-${r.id}`,value:v.designation||r.designation||"na",disabled:!r.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select Designation"}),x.filter(a=>a.department_id===v.department||r.department).map(a=>e(L,{value:a.id,children:a.title},a.id))]}),e($e,{children:C.designation})]})}),e(o,{item:!0,xs:12,md:6,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"report_to",children:"Reports To"}),l(ee,{labelId:"report_to",value:v.report_to||r.report_to,onChange:a=>c("report_to",a.target.value),label:"Reports To",error:!!C.report_to,disabled:r.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",children:"--"}),t.filter(a=>a.department===v.department||r.department).map(a=>e(L,{value:a.id,children:a.name},a.id))]}),e($e,{children:C.report_to})]})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},sa=({user:r,setUser:t,open:n,closeModal:x})=>{const[p,i]=y.useState({id:r.id,passport_no:r.passport_no||"",passport_exp_date:r.passport_exp_date||"",nationality:r.nationality||"",religion:r.religion||"",marital_status:r.marital_status||"",employment_of_spouse:r.employment_of_spouse||"",number_of_children:r.number_of_children||"",nid:r.nid||""}),[b,B]=y.useState({id:r.id}),[f,v]=y.useState(!1),[h,C]=y.useState({}),[I,S]=y.useState(!1),m=le(),s=(u,c)=>{i(g=>{const a={...g,[u]:c};return c===""&&delete a[u],u==="marital_status"&&c==="Single"&&(a.employment_of_spouse="",a.number_of_children=""),a}),B(g=>{const a={...g,[u]:c};return c===""&&delete a[u],u==="marital_status"&&c==="Single"&&(a.employment_of_spouse=null,a.number_of_children=null),a})};y.useEffect(()=>{for(const c in b)c!=="id"&&b[c]===r[c]&&delete b[c];const u=Object.keys(b).filter(c=>c!=="id").length>0;v(u)},[p,b,r]);async function P(u){u.preventDefault(),S(!0);const c=new Promise(async(g,a)=>{try{const d=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"personal",...p})}),_=await d.json();d.ok?(t(_.user),S(!1),x(),g([..._.messages])):(S(!1),C(_.errors),a(_.error||"Failed to update personal information."),console.error(_.errors))}catch(d){S(!1),console.log(d),a(d.message||"An unexpected error occurred.")}});ne.promise(c,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:g}){return e(z,{children:g.map((a,d)=>e("div",{children:a},d))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:g}){return e(z,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return l(ke,{open:n,onClose:x,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Personal Information"}),e(X,{variant:"outlined",color:"primary",onClick:x,sx:{position:"absolute",top:8,right:16},children:e(Le,{})})]}),l("form",{onSubmit:P,children:[e(Ce,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Passport No",fullWidth:!0,value:b.passport_no||p.passport_no||"",onChange:u=>s("passport_no",u.target.value),error:!!h.passport_no,helperText:h.passport_no})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:b.passport_exp_date||p.passport_exp_date||"",onChange:u=>s("passport_exp_date",u.target.value),InputLabelProps:{shrink:!0},error:!!h.passport_exp_date,helperText:h.passport_exp_date})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"NID No",fullWidth:!0,value:b.nid||p.nid||"",onChange:u=>s("nid",u.target.value),error:!!h.nid,helperText:h.nid})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Nationality",fullWidth:!0,value:b.nationality||p.nationality||"",onChange:u=>s("nationality",u.target.value),error:!!h.nationality,helperText:h.nationality})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Religion",fullWidth:!0,value:b.religion||p.religion||"",onChange:u=>s("religion",u.target.value),error:!!h.religion,helperText:h.religion})}),e(o,{item:!0,xs:12,md:6,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"marital-status-label",children:"Marital status"}),l(ee,{labelId:"marital-status-label",value:b.marital_status||p.marital_status||"na",onChange:u=>s("marital_status",u.target.value),label:"Marital status",error:!!h.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",children:"-"}),e(L,{value:"Single",children:"Single"}),e(L,{value:"Married",children:"Married"})]}),e($e,{children:h.marital_status})]})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Employment of spouse",fullWidth:!0,value:b.marital_status==="Single"?"":b.employment_of_spouse||p.employment_of_spouse,onChange:u=>s("employment_of_spouse",u.target.value),error:!!h.employment_of_spouse,helperText:h.employment_of_spouse,disabled:b.marital_status==="Single"||p.marital_status==="Single"})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"No. of children",fullWidth:!0,type:"number",value:b.marital_status==="Single"?"":b.number_of_children||p.number_of_children,onChange:u=>s("number_of_children",u.target.value),error:!!h.number_of_children,helperText:h.number_of_children,disabled:b.marital_status==="Single"||p.marital_status==="Single"})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},ca=({user:r,setUser:t,open:n,closeModal:x})=>{const[p,i]=y.useState({id:r.id,emergency_contact_primary_name:r.emergency_contact_primary_name||"",emergency_contact_primary_relationship:r.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:r.emergency_contact_primary_phone||"",emergency_contact_secondary_name:r.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:r.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:r.emergency_contact_secondary_phone||""}),[b,B]=y.useState({id:r.id}),[f,v]=y.useState(!1),[h,C]=y.useState({}),[I,S]=y.useState(!1),m=le(),s=(u,c)=>{i(g=>{const a={...g,[u]:c};return c===""&&delete a[u],a}),B(g=>{const a={...g,[u]:c};return c===""&&delete a[u],a})};y.useEffect(()=>{for(const c in b)c!=="id"&&b[c]===r[c]&&delete b[c];const u=Object.keys(b).filter(c=>c!=="id").length>0;v(u)},[p,b,r]);async function P(u){u.preventDefault(),S(!0);const c=new Promise(async(g,a)=>{try{const d=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"emergency",...p})}),_=await d.json();d.ok?(t(_.user),S(!1),x(),g([..._.messages])):(S(!1),C(_.errors),a(_.error||"Failed to update emergency contact."),console.error(_.errors))}catch(d){S(!1),x(),console.log(d),a(["An unexpected error occurred."])}});ne.promise(c,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:g}){return e(z,{children:g.map((a,d)=>e("div",{children:a},d))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:g}){return e(z,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return l(ke,{open:n,onClose:x,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Personal Information"}),e(X,{variant:"outlined",color:"primary",onClick:x,sx:{position:"absolute",top:8,right:16},children:e(Le,{})})]}),l("form",{onSubmit:P,children:[e(Ce,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,children:e(re,{children:l(V,{children:[e(F,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Name",required:!0,fullWidth:!0,value:b.emergency_contact_primary_name||p.emergency_contact_primary_name||"",onChange:u=>s("emergency_contact_primary_name",u.target.value),error:!!h.bank_name,helperText:h.bank_name})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Relationship",required:!0,fullWidth:!0,value:b.emergency_contact_primary_relationship||p.emergency_contact_primary_relationship||"",onChange:u=>s("emergency_contact_primary_relationship",u.target.value),error:!!h.bank_name,helperText:h.bank_name})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Phone",required:!0,fullWidth:!0,value:b.emergency_contact_primary_phone||p.emergency_contact_primary_phone||"",onChange:u=>s("emergency_contact_primary_phone",u.target.value),error:!!h.bank_name,helperText:h.bank_name})})]})]})})}),e(o,{item:!0,xs:12,children:e(re,{children:l(V,{children:[e(F,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Name",fullWidth:!0,value:b.emergency_contact_secondary_name||p.emergency_contact_secondary_name||"",onChange:u=>s("emergency_contact_secondary_name",u.target.value),error:!!h.bank_name,helperText:h.bank_name})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Relationship",fullWidth:!0,value:b.emergency_contact_secondary_relationship||p.emergency_contact_secondary_relationship||"",onChange:u=>s("emergency_contact_secondary_relationship",u.target.value),error:!!h.bank_name,helperText:h.bank_name})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Phone",fullWidth:!0,value:b.emergency_contact_secondary_phone||p.emergency_contact_secondary_phone||"",onChange:u=>s("emergency_contact_secondary_phone",u.target.value),error:!!h.bank_name,helperText:h.bank_name})})]})]})})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},da=({user:r,setUser:t,open:n,closeModal:x})=>{const[p,i]=y.useState({id:r.id,bank_name:r.bank_name||"",bank_account_no:r.bank_account_no||"",ifsc_code:r.ifsc_code||"",pan_no:r.pan_no||""}),[b,B]=y.useState({id:r.id}),[f,v]=y.useState(!1),[h,C]=y.useState({}),[I,S]=y.useState(!1),m=le(),s=(u,c)=>{i(g=>{const a={...g,[u]:c};return c===""&&delete a[u],a}),B(g=>{const a={...g,[u]:c};return c===""&&delete a[u],a})};y.useEffect(()=>{for(const c in b)c!=="id"&&b[c]===r[c]&&delete b[c];const u=Object.keys(b).filter(c=>c!=="id").length>0;v(u)},[p,b,r]);async function P(u){u.preventDefault(),S(!0);const c=new Promise(async(g,a)=>{try{const d=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"bank",...p})}),_=await d.json();d.ok?(t(_.user),S(!1),x(),g([..._.messages])):(S(!1),C(_.errors),a(_.error||"Failed to update bank information."),console.error(_.errors))}catch(d){S(!1),console.log(d),a(d.message||"An unexpected error occurred.")}});ne.promise(c,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating bank information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:g}){return e(z,{children:g.map((a,d)=>e("div",{children:a},d))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:g}){return e(z,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}return l(ke,{open:n,onClose:x,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Bank Information"}),e(X,{variant:"outlined",color:"primary",onClick:x,sx:{position:"absolute",top:8,right:16},children:e(Le,{})})]}),l("form",{onSubmit:P,children:[e(Ce,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,children:e(E,{label:"Bank Name",fullWidth:!0,value:b.bank_name||p.bank_name||"",onChange:u=>s("bank_name",u.target.value),error:!!h.bank_name,helperText:h.bank_name})}),e(o,{item:!0,xs:12,children:e(E,{size:"small",label:"Bank Account No.",fullWidth:!0,value:b.bank_account_no||p.bank_account_no||"",onChange:u=>s("bank_account_no",u.target.value),error:!!h.bank_account_no,helperText:h.bank_account_no})}),e(o,{item:!0,xs:12,children:e(E,{label:"IFSC Code",fullWidth:!0,value:b.ifsc_code||p.ifsc_code||"",onChange:u=>s("ifsc_code",u.target.value),error:!!h.ifsc_code,helperText:h.ifsc_code})}),e(o,{item:!0,xs:12,children:e(E,{label:"PAN No.",fullWidth:!0,value:b.pan_no||p.pan_no||"",onChange:u=>s("pan_no",u.target.value),error:!!h.pan_no,helperText:h.pan_no})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!f,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},pa=({user:r,open:t,closeModal:n,handleDelete:x,setUser:p})=>{const[i,b]=y.useState({id:r.id,family_member_name:r.family_member_name||"",family_member_relationship:r.family_member_relationship||"",family_member_dob:r.family_member_dob||"",family_member_phone:r.family_member_phone||""}),[B,f]=y.useState({id:r.id}),[v,h]=y.useState(!1),[C,I]=y.useState({}),[S,m]=y.useState(!1),s=le(),P=(c,g)=>{b(a=>{const d={...a,[c]:g};return g===""&&delete d[c],d}),f(a=>{const d={...a,[c]:g};return g===""&&delete d[c],d})};y.useEffect(()=>{for(const g in B)g!=="id"&&B[g]===r[g]&&delete B[g];const c=Object.keys(B).filter(g=>g!=="id").length>0;h(c)},[i,B,r]);async function u(c){c.preventDefault(),m(!0);const g=new Promise(async(a,d)=>{try{const _=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"family",...i})}),w=await _.json();_.ok?(p(w.user),m(!1),n(),a([...w.messages])):(m(!1),I(w.errors),d(w.error||"Failed to update family information."),console.error(w.errors))}catch(_){m(!1),console.log(_),d(_.message||"An unexpected error occurred.")}});ne.promise(g,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating family member information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},success:{render({data:a}){return e(z,{children:a.map((d,_)=>e("div",{children:d},_))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},error:{render({data:a}){return e(z,{children:a})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}})}return l(ke,{open:t,onClose:n,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Family Member"}),e(X,{variant:"outlined",color:"primary",onClick:n,sx:{position:"absolute",top:8,right:16},children:e(Le,{})})]}),l("form",{onSubmit:u,children:[e(Ce,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Name",fullWidth:!0,value:B.family_member_name||i.family_member_name||"",onChange:c=>P("family_member_name",c.target.value),error:!!C.family_member_name,helperText:C.family_member_name})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Relationship",fullWidth:!0,value:B.family_member_relationship||i.family_member_relationship||"",onChange:c=>P("family_member_relationship",c.target.value),error:!!C.family_member_relationship,helperText:C.family_member_relationship})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Date of Birth",fullWidth:!0,type:"date",value:B.family_member_dob||i.family_member_dob||"",onChange:c=>P("family_member_dob",c.target.value),InputLabelProps:{shrink:!0},error:!!C.family_member_dob,helperText:C.family_member_dob})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Phone",fullWidth:!0,value:B.family_member_phone||i.family_member_phone||"",onChange:c=>P("family_member_phone",c.target.value),error:!!C.family_member_phone,helperText:C.family_member_phone})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},ua=({user:r,open:t,closeModal:n,setUser:x})=>{const[p,i]=y.useState({id:r.id}),[b,B]=y.useState(!1),[f,v]=y.useState(r.educations&&r.educations.length>0?r.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[h,C]=y.useState({}),[I,S]=y.useState(!1),m=le(),s=(g,a,d)=>{console.log(d);const _=[...f];_[g]={..._[g],[a]:d},v(_);const w=_.filter((k,O)=>{const D=r.educations[O]||{},Ee=!D.id||k.institution!==D.institution||k.subject!==D.subject||k.degree!==D.degree||k.starting_date!==D.starting_date||k.complete_date!==D.complete_date||k.grade!==D.grade,J=D.id&&k.institution===D.institution&&k.subject===D.subject&&k.degree===D.degree&&k.starting_date===D.starting_date&&k.complete_date===D.complete_date&&k.grade===D.grade;return Ee&&!J});i(k=>({...k,educations:[...w]}));const W=w.length>0;B(W)},P=async g=>{const a=f[g],d=f.filter((_,w)=>w!==g);if(v(d.length>0?d:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),a.id){const _=new Promise(async(w,W)=>{try{const k=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:a.id,user_id:r.id})}),O=await k.json();k.ok?(i(D=>({...D,educations:O.educations})),x(D=>({...D,educations:O.educations})),w(O.message||"Education record deleted successfully.")):(C(O.errors),console.log(O.errors),W(O.error||"Failed to delete education record."))}catch(k){W(k)}});ne.promise(_,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:w}){return e(z,{children:w})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:w}){return e(z,{children:w})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}},u=async g=>{g.preventDefault(),S(!0);const a=new Promise(async(d,_)=>{try{const w=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:f.map(k=>({...k,user_id:r.id}))})}),W=await w.json();w.ok?(x(k=>({...k,educations:W.educations})),S(!1),n(),d([...W.messages])):(S(!1),C(W.errors),console.log(W.errors),_(W.error||"Failed to update education records."))}catch(w){S(!1),_(w.message||"An unexpected error occurred while updating education records.")}});ne.promise(a,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:d}){return e(z,{children:d.map((_,w)=>e("div",{children:_},w))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:d}){return e(z,{children:d})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})},c=async()=>{v([...f,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return l(ke,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Education Information"}),e(X,{onClick:n,sx:{position:"absolute",top:8,right:16},children:e(He,{})})]}),l("form",{onSubmit:u,children:[e(Ce,{children:l(q,{children:[e(o,{container:!0,spacing:2,children:f.map((g,a)=>e(o,{item:!0,xs:12,children:e(re,{children:l(V,{children:[l(F,{variant:"h6",gutterBottom:!0,children:["Education #"+(a+1),e(X,{onClick:()=>P(a),sx:{position:"absolute",top:8,right:16},children:e(He,{})})]}),l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Institution",fullWidth:!0,value:g.institution||"",onChange:d=>s(a,"institution",d.target.value),error:!!h[`educations.${a}.institution`],helperText:h[`educations.${a}.institution`]?h[`educations.${a}.institution`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Degree",fullWidth:!0,value:g.degree||"",onChange:d=>s(a,"degree",d.target.value),error:!!h[`educations.${a}.degree`],helperText:h[`educations.${a}.degree`]?h[`educations.${a}.degree`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Subject",fullWidth:!0,value:g.subject||"",onChange:d=>s(a,"subject",d.target.value),error:!!h[`educations.${a}.subject`],helperText:h[`educations.${a}.subject`]?h[`educations.${a}.subject`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:g.starting_date||"",onChange:d=>s(a,"starting_date",d.target.value),error:!!h[`educations.${a}.starting_date`],helperText:h[`educations.${a}.starting_date`]?h[`educations.${a}.starting_date`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:g.complete_date||"",onChange:d=>s(a,"complete_date",d.target.value),error:!!h[`educations.${a}.complete_date`],helperText:h[`educations.${a}.complete_date`]?h[`educations.${a}.complete_date`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Grade",fullWidth:!0,value:g.grade||"",onChange:d=>s(a,"grade",d.target.value),error:!!h[`educations.${a}.grade`],helperText:h[`educations.${a}.grade`]?h[`educations.${a}.grade`][0]:""})})]})]})})},a))}),e(q,{mt:2,children:l(nr,{size:"small",color:"error",sx:{mt:2},onClick:c,children:[e(Dr,{})," Add More"]})})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},ma=({user:r,open:t,closeModal:n,setUser:x})=>{const[p,i]=y.useState({id:r.id}),[b,B]=y.useState(!1),[f,v]=y.useState(r.experiences.length>0?r.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[h,C]=y.useState({}),[I,S]=y.useState(!1),m=le(),s=(g,a,d)=>{const _=[...f];_[g]={..._[g],[a]:d},v(_);const w=_.filter((k,O)=>{const D=r.experiences[O]||{},Ee=!D.id||k.company_name!==D.company_name||k.location!==D.location||k.job_position!==D.job_position||k.period_from!==D.period_from||k.period_to!==D.period_to||k.description!==D.description,J=D.id&&k.company_name===D.company_name&&k.location===D.location&&k.job_position===D.job_position&&k.period_from===D.period_from&&k.period_to===D.period_to&&k.description===D.description;return Ee&&!J});i(k=>({...k,experiences:[...w]}));const W=w.length>0;B(W)},P=async g=>{const a=f[g],d=f.filter((_,w)=>w!==g);if(v(d.length>0?d:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),a.id){const _=new Promise(async(w,W)=>{try{const k=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:a.id,user_id:r.id})}),O=await k.json();k.ok?(i(D=>({...D,experiences:O.experiences})),x(D=>({...D,experiences:O.experiences})),w(O.message||"Experience record deleted successfully.")):(C([...O.errors]),W(O.error||"Failed to delete experience record."))}catch(k){W(k)}});ne.promise(_,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:w}){return e(z,{children:w})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:w}){return e(z,{children:w})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})}},u=async g=>{g.preventDefault(),S(!0);const a=new Promise(async(d,_)=>{try{const w=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:f.map(k=>({...k,user_id:r.id}))})}),W=await w.json();w.ok?(x(k=>({...k,experiences:W.experiences})),S(!1),n(),d([...W.messages])):(S(!1),C(W.errors),console.log(W.errors),_(W.error||"Failed to update experience records."))}catch(w){S(!1),_(w.message||"An unexpected error occurred while updating experience records.")}});ne.promise(a,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:d}){return e(z,{children:d.map((_,w)=>e("div",{children:_},w))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:d}){return e(z,{children:d})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:m.glassCard.backgroundColor,border:m.glassCard.border,color:m.palette.text.primary}}})},c=async()=>{v([...f,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return l(ke,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,children:[l(ve,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(F,{children:"Experience Information"}),e(X,{onClick:n,sx:{position:"absolute",top:8,right:16},children:e(He,{})})]}),l("form",{onSubmit:u,children:[e(Ce,{children:l(q,{children:[e(o,{container:!0,spacing:2,children:f.map((g,a)=>e(o,{item:!0,xs:12,children:e(re,{children:l(V,{children:[l(F,{variant:"h6",gutterBottom:!0,children:["Experience #"+(a+1),e(X,{onClick:()=>P(a),sx:{position:"absolute",top:8,right:16},children:e(He,{})})]}),l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Company",fullWidth:!0,value:g.company_name||"",onChange:d=>s(a,"company_name",d.target.value),error:!!h[`experiences.${a}.company_name`],helperText:h[`experiences.${a}.company_name`]?h[`experiences.${a}.company_name`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Location",fullWidth:!0,value:g.location||"",onChange:d=>s(a,"location",d.target.value),error:!!h[`experiences.${a}.location`],helperText:h[`experiences.${a}.location`]?h[`experiences.${a}.location`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Role",fullWidth:!0,value:g.job_position||"",onChange:d=>s(a,"job_position",d.target.value),error:!!h[`experiences.${a}.job_position`],helperText:h[`experiences.${a}.job_position`]?h[`experiences.${a}.job_position`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:g.period_from||"",onChange:d=>s(a,"period_from",d.target.value),error:!!h[`experiences.${a}.period_from`],helperText:h[`experiences.${a}.period_from`]?h[`experiences.${a}.period_from`][0]:""})}),e(o,{item:!0,xs:12,md:6,children:e(E,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:g.period_to||"",onChange:d=>s(a,"period_to",d.target.value),error:!!h[`experiences.${a}.period_to`],helperText:h[`experiences.${a}.period_to`]?h[`experiences.${a}.period_to`][0]:""})}),e(o,{item:!0,xs:12,children:e(E,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:g.description||"",onChange:d=>s(a,"description",d.target.value),error:!!h[`experiences.${a}.description`],helperText:h[`experiences.${a}.description`]?h[`experiences.${a}.description`][0]:""})})]})]})})},a))}),l(nr,{size:"small",color:"error",sx:{mt:2},onClick:c,children:[e(Dr,{})," Add More"]})]})}),e(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:I,children:"Submit"})})]})]})},ha=({user:r,setUser:t})=>{const[n,x]=y.useState({id:r.id,salary_basis:r.salary_basis||"",salary_amount:r.salary_amount||"",payment_type:r.payment_type||"",pf_contribution:r.pf_contribution??!1,pf_no:r.pf_no||"",employee_pf_rate:r.employee_pf_rate||0,additional_pf_rate:r.additional_pf_rate||0,total_pf_rate:r.total_pf_rate||0,esi_contribution:r.esi_contribution??!1,esi_no:r.esi_no||"",employee_esi_rate:r.employee_esi_rate||0,additional_esi_rate:r.additional_esi_rate||0,total_esi_rate:r.total_esi_rate||0}),[p,i]=y.useState({id:r.id}),[b,B]=y.useState(!1),[f,v]=y.useState({}),[h,C]=y.useState(!1),I=le(),S=(s,P)=>{x(u=>{const c={...u,[s]:P};return P===""&&delete c[s],s==="pf_contribution"&&P===0?(c.pf_no="",c.employee_pf_rate=0,c.additional_pf_rate=0,c.total_pf_rate=0):(s==="employee_pf_rate"||s==="additional_pf_rate")&&(c.total_pf_rate=c.employee_pf_rate+c.additional_pf_rate),s==="esi_contribution"&&P===0?(c.esi_no="",c.employee_esi_rate=0,c.additional_esi_rate=0,c.total_esi_rate=0):(s==="employee_esi_rate"||s==="additional_esi_rate")&&(c.total_esi_rate=c.employee_esi_rate+c.additional_esi_rate),c}),i(u=>{const c={...u,[s]:P};return P===""&&delete c[s],s==="pf_contribution"&&P===0?(c.pf_no="",c.employee_pf_rate=0,c.additional_pf_rate=0,c.total_pf_rate=0):(s==="employee_pf_rate"||s==="additional_pf_rate")&&(c.total_pf_rate=c.employee_pf_rate+c.additional_pf_rate),s==="esi_contribution"&&P===0?(c.esi_no="",c.employee_esi_rate=0,c.additional_esi_rate=0,c.total_esi_rate=0):(s==="employee_esi_rate"||s==="additional_esi_rate")&&(c.total_esi_rate=c.employee_esi_rate+c.additional_esi_rate),c})};y.useEffect(()=>{for(const P in p)P!=="id"&&p[P]===r[P]&&delete p[P];const s=Object.keys(p).filter(P=>P!=="id").length>0;B(s),console.log(n),console.log(p)},[n,p,r]);async function m(s){s.preventDefault(),C(!0);const P=new Promise(async(u,c)=>{try{const g=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"salary",...n})}),a=await g.json();g.ok?(t(a.user),C(!1),u([...a.messages])):(C(!1),v(a.errors),c(a.error||"Failed to update salary information."),console.error(a.errors))}catch(g){C(!1),console.log(g),c(g.message||"An unexpected error occurred.")}});ne.promise(P,{pending:{render(){return l("div",{style:{display:"flex",alignItems:"center"},children:[e(ie,{}),e("span",{style:{marginLeft:"8px"},children:"Updating salary information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}},success:{render({data:u}){return e(z,{children:u.map((c,g)=>e("div",{children:c},g))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}},error:{render({data:u}){return e(z,{children:u})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,color:I.palette.text.primary}}})}return l(re,{children:[e(ue,{title:"Salary & Statutory Information"}),l("form",{onSubmit:m,children:[l(V,{children:[e(F,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),l(o,{container:!0,spacing:3,children:[e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"salary-basis-label",children:"Salary basis"}),l(ee,{labelId:"salary-basis-label",value:p.salary_basis||n.salary_basis||"na",onChange:s=>S("salary_basis",s.target.value),error:!!f.salary_basis,helperText:f.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select salary basis type"}),e(L,{value:"Hourly",children:"Hourly"}),e(L,{value:"Daily",children:"Daily"}),e(L,{value:"Weekly",children:"Weekly"}),e(L,{value:"Monthly",children:"Monthly"})]})]})}),e(o,{item:!0,xs:12,md:4,children:e(E,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:p.salary_amount||n.salary_amount||"",onChange:s=>S("salary_amount",s.target.value),InputProps:{startAdornment:e(lt,{position:"start",children:"$"})},error:!!f.salary_amount,helperText:f.salary_amount})}),e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"payment-type-label",children:"Payment type"}),l(ee,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${r.id}`,value:p.payment_type||n.payment_type||"na",onChange:s=>S("payment_type",s.target.value),error:!!f.payment_type,helperText:f.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select payment type"}),e(L,{value:"Bank transfer",children:"Bank transfer"}),e(L,{value:"Check",children:"Check"}),e(L,{value:"Cash",children:"Cash"})]})]})})]}),e(ye,{sx:{my:3}}),e(F,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),l(o,{container:!0,spacing:3,children:[e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"pf-contribution-label",children:"PF contribution"}),l(ee,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${r.id}`,value:p.pf_contribution!==void 0?p.pf_contribution:n.pf_contribution!==void 0?n.pf_contribution:"na",onChange:s=>S("pf_contribution",s.target.value),error:!!f.pf_contribution,helperText:f.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select PF contribution"}),e(L,{value:1,children:"Yes"}),e(L,{value:0,children:"No"})]})]})}),e(o,{item:!0,xs:12,md:4,children:e(E,{disabled:!(p.pf_contribution||n.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:p.pf_no||n.pf_no,onChange:s=>S("pf_no",s.target.value),error:!!f.pf_no,helperText:f.pf_no})}),e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"employee-pf-rate-label",children:"Employee PF rate"}),l(ee,{disabled:!(p.pf_contribution||n.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:p.employee_pf_rate||n.employee_pf_rate||"na",onChange:s=>S("employee_pf_rate",s.target.value),error:!!f.employee_pf_rate,helperText:f.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(s=>l(L,{value:s,children:[s,"%"]},s))]})]})}),e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"additional-rate-label",children:"Additional rate"}),l(ee,{disabled:!(p.pf_contribution||n.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${r.id}`,value:p.additional_pf_rate||n.additional_pf_rate||"na",onChange:s=>S("additional_pf_rate",s.target.value),error:!!f.additional_pf_rate,helperText:f.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(s=>l(L,{value:s,children:[s,"%"]},s))]})]})}),e(o,{item:!0,xs:12,md:4,children:e(E,{disabled:!(p.pf_contribution||n.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_pf_rate||n.total_pf_rate?`${p.total_pf_rate||n.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!f.total_pf_rate,helperText:f.total_pf_rate})})]}),e(ye,{sx:{my:3}}),e(F,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),l(o,{container:!0,spacing:3,children:[e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"esi-contribution-label",children:"ESI contribution"}),l(ee,{labelId:"esi-contribution-label",label:"ESI contribution",value:p.esi_contribution!==void 0?p.esi_contribution:n.esi_contribution!==void 0?n.esi_contribution:"na",onChange:s=>S("esi_contribution",s.target.value),error:!!f.esi_contribution,helperText:f.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(L,{value:1,children:"Yes"}),e(L,{value:0,children:"No"})]})]})}),e(o,{item:!0,xs:12,md:4,children:e(E,{disabled:!(p.esi_contribution||n.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:p.esi_no||n.esi_no,onChange:s=>S("esi_no",s.target.value),error:!!f.esi_no,helperText:f.esi_no})}),e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"esi-contribution-label",children:"Employee ESI rate"}),l(ee,{disabled:!(p.esi_contribution||n.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.employee_esi_rate||n.employee_esi_rate||"na",onChange:s=>S("employee_esi_rate",s.target.value),error:!!f.employee_esi_rate,helperText:f.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(s=>l(L,{value:s,children:[s,"%"]},s))]})]})}),e(o,{item:!0,xs:12,md:4,children:l(Q,{fullWidth:!0,children:[e(Z,{id:"esi-contribution-label",children:"Additional rate"}),l(ee,{disabled:!(p.esi_contribution||n.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.additional_esi_rate||n.additional_esi_rate||"na",onChange:s=>S("additional_esi_rate",s.target.value),error:!!f.additional_esi_rate,helperText:f.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:I.glassCard.backgroundColor,border:I.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(L,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(s=>l(L,{value:s,children:[s,"%"]},s))]})]})}),e(o,{item:!0,xs:12,md:4,children:e(E,{disabled:!(p.esi_contribution||n.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_esi_rate||n.total_esi_rate?`${p.total_esi_rate||n.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!f.total_esi_rate,helperText:f.total_esi_rate})})]})]}),e(xt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(he,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:h,children:"Submit"})})]})]})},ba=({project:r})=>{const t=le();return e(re,{children:l(q,{sx:{p:2},children:[e(F,{variant:"h6",gutterBottom:!0,children:e(Jr,{style:{display:"flex",alignItems:"center",color:t.palette.text.primary,textDecoration:"none"},href:"/",as:"a",children:r.title})}),l(F,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[e("b",{children:r.openTasks})," open tasks, ",e("b",{children:r.completedTasks})," tasks completed"]}),e(F,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:r.description}),l(q,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Deadline:"}),e(F,{variant:"body2",color:"textSecondary",children:r.deadline})]}),l(q,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Project Leaders:"}),e(q,{display:"flex",children:e(vr,{max:4,total:5,children:r.leaders.map((n,x)=>e(_r,{title:n.name,arrow:!0,children:e(Te,{src:n.avatar,alt:n.name})},x))})})]}),l(q,{mb:2,children:[e(F,{variant:"subtitle2",color:"textPrimary",children:"Project Members:"}),e(q,{display:"flex",children:e(vr,{max:4,total:24,children:r.team.map((n,x)=>e(_r,{title:n.name,arrow:!0,children:e(Te,{src:n.avatar,alt:n.name})},x))})})]}),l(F,{variant:"body2",gutterBottom:!0,children:["Progress ",l("span",{style:{float:"right"},children:[r.progress,"%"]})]}),e(Rt,{variant:"determinate",value:r.progress})]})})},ga=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],Ba=({title:r,allUsers:t,report_to:n,departments:x,designations:p})=>{var u,c,g,a;const[i,b]=y.useState(Yr().props.user),[B,f]=ze.useState(0);ze.useState(null);const[v,h]=y.useState(null),[C,I]=y.useState(null);console.log(i);const S=d=>{h(d)},m=()=>{h(null)},s=(d,_)=>{f(_)},P=d=>{const _=d.target.files[0];_&&I(URL.createObjectURL(_))};return l(it,{children:[e(Vr,{title:i.name}),v==="profile"&&e(la,{user:i,allUsers:t,departments:x,designations:p,open:v==="profile",setUser:b,closeModal:m,handleImageChange:P,selectedImage:C}),v==="personal"&&e(sa,{user:i,open:v==="personal",setUser:b,closeModal:m}),v==="emergency"&&e(ca,{user:i,open:v==="emergency",setUser:b,closeModal:m}),v==="bank"&&e(da,{user:i,open:v==="bank",setUser:b,closeModal:m}),v==="family"&&e(pa,{user:i,open:v==="family",setUser:b,closeModal:m}),v==="education"&&e(ua,{user:i,open:v==="education",setUser:b,closeModal:m}),v==="experience"&&e(ma,{user:i,open:v==="experience",setUser:b,closeModal:m}),e(q,{sx:{display:"flex",justifyContent:"center",p:2},children:e(nt,{in:!0,children:l(re,{children:[e(ue,{sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("profile"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:l(o,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e(o,{item:!0,xs:12,md:5,children:l(o,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e(o,{item:!0,children:e(q,{sx:{display:"flex",alignItems:"center",mb:2},children:e(Te,{src:`assets/images/users/${i.user_name}.jpg`,alt:i.name,sx:{width:100,height:100,mr:2}})})}),e(o,{item:!0,xs:12,md:!0,children:l(q,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e(F,{variant:"h5",children:i.name}),e(F,{variant:"subtitle1",color:"textSecondary",children:((u=x.find(d=>d.id===i.department))==null?void 0:u.name)||"N/A"}),e(F,{variant:"body2",color:"textSecondary",children:((c=p.find(d=>d.id===i.designation))==null?void 0:c.title)||"N/A"}),l(F,{variant:"body2",color:"textSecondary",children:["Employee ID : ",i.employee_id||"N/A"]}),l(F,{variant:"body2",color:"textSecondary",children:["Date of Join : ",i.date_of_joining||"N/A"]}),e(nr,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e(ye,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e(o,{item:!0,xs:12,md:6,children:l(_e,{children:[e($,{children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Phone:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.phone||"N/A"})})]})}),e($,{children:l(o,{container:!0,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Email:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.email||"N/A"})})]})}),e($,{children:l(o,{container:!0,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Birthday:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.birthday||"N/A"})})]})}),e($,{children:l(o,{container:!0,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Address:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.address||"N/A"})})]})}),e($,{children:l(o,{container:!0,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Gender:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.gender||"N/A"})})]})}),e($,{children:l(o,{container:!0,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"Reports to:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:t.find(d=>d.id===i.report_to)?l(q,{sx:{display:"flex",alignItems:"center"},children:[e(Te,{src:`/assets/images/users/${(g=t.find(d=>d.id===i.report_to))==null?void 0:g.user_name}.jpg`,alt:n.name,sx:{width:24,height:24,mr:1}}),e(F,{color:"primary",children:(a=t.find(d=>d.id===i.report_to))==null?void 0:a.name})]}):"N/A"})})]})})]})})]})}),e(V,{sx:{paddingBottom:"0px !important"},children:l(na,{value:B,onChange:s,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e(Ge,{label:"Profile"}),e(Ge,{label:"Projects"}),e(Ge,{label:"Salary & Statutory"}),e(Ge,{label:"Assets"})]})})]})})}),l(q,{sx:{p:2},children:[B===0&&l(o,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e(o,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:l(re,{sx:{mb:2,flex:1},children:[e(ue,{title:"Personal Information",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("personal"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.passport_no||i.passport_exp_date||i.nationality||i.religion||i.marital_status||i.employment_of_spouse||i.number_of_children?l(_e,{children:[i.passport_no&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Passport No.:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.passport_no||"N/A"})})]})}),i.passport_exp_date&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Passport Exp Date.:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.passport_exp_date||"N/A"})})]})}),i.nid&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• NID No.:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.nid||"N/A"})})]})}),i.nationality&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Nationality:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.nationality||"N/A"})})]})}),i.religion&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Religion:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.religion||"N/A"})})]})}),i.marital_status&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Marital Status:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.marital_status||"N/A"})})]})}),i.employment_of_spouse&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Employment of Spouse:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.employment_of_spouse||"N/A"})})]})}),i.number_of_children&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• No. of Children:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.number_of_children||"N/A"})})]})})]}):e(F,{children:"No personal information available"})})]})}),e(o,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:l(re,{sx:{mb:2,flex:1},children:[e(ue,{title:"Emergency Contact",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("emergency"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.emergency_contact_primary_name||i.emergency_contact_secondary_name?l(_e,{children:[i.emergency_contact_primary_name&&l(z,{children:[e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Name:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_primary_name||"N/A"})})]})}),e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Relationship:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_primary_relationship||"N/A"})})]})}),e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Phone:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_primary_phone||"N/A"})})]})})]}),i.emergency_contact_secondary_name&&l(z,{children:[e(ye,{sx:{my:2}}),e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Name:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_secondary_name||"N/A"})})]})}),e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Relationship:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_secondary_relationship||"N/A"})})]})}),e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Phone:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e(F,{children:"No emergency contact information"})})]})}),e(o,{item:!0,xs:12,md:6,children:l(re,{variant:"outlined",sx:{mb:2},children:[e(ue,{title:"Bank Information",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("bank"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.bank_name||i.bank_account_no||i.ifsc_code||i.pan_no?l(_e,{children:[i.bank_name&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Bank Name:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.bank_name})})]})}),i.bank_account_no&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Bank Account No.:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.bank_account_no})})]})}),i.ifsc_code&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• IFSC Code:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.ifsc_code})})]})}),i.pan_no&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• PAN No:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.pan_no})})]})})]}):e(F,{children:"No bank information"})})]})}),e(o,{item:!0,xs:12,md:6,children:l(re,{variant:"outlined",children:[e(ue,{title:"Family Information",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("family"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.family_member_name||i.family_member_relationship||i.family_member_dob||i.family_member_phone?l(_e,{children:[i.family_member_name&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Name:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.family_member_name})})]})}),i.family_member_relationship&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Relationship:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.family_member_relationship})})]})}),i.family_member_dob&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Date of Birth:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.family_member_dob})})]})}),i.family_member_phone&&e($,{disableGutters:!0,children:l(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:5,children:e(N,{primary:"• Phone:"})}),e(o,{item:!0,xs:7,children:e(N,{primary:i.family_member_phone})})]})})]}):e(F,{children:"No family member information"})})]})}),e(o,{item:!0,xs:12,md:6,children:l(re,{variant:"outlined",sx:{mb:2},children:[e(ue,{title:"Education Information",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("education"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.educations&&i.educations.length>0?e(_e,{children:i.educations.map((d,_)=>l(ze.Fragment,{children:[e($,{disableGutters:!0,children:l(F,{variant:"h6",children:["• ",d.institution]})}),e($,{disableGutters:!0,children:e(F,{variant:"body1",children:d.degree||"N/A"})}),e($,{disableGutters:!0,children:l(F,{variant:"body2",children:[d.starting_date?new Date(d.starting_date).getFullYear():"N/A"," -",d.complete_date?new Date(d.complete_date).getFullYear():"N/A"]})}),_<i.educations.length-1&&e(ye,{sx:{my:1}})]},d.id))}):e(F,{children:"No education information"})})]})}),e(o,{item:!0,xs:12,md:6,children:l(re,{variant:"outlined",children:[e(ue,{title:"Experience",sx:{padding:"24px"},action:e(X,{variant:"outlined",color:"primary",onClick:()=>S("experience"),sx:{position:"absolute",top:16,right:16},children:e(xe,{})})}),e(V,{children:i.experiences&&i.experiences.length>0?e(_e,{children:i.experiences.map((d,_)=>l(ze.Fragment,{children:[e($,{disableGutters:!0,children:l(F,{variant:"h6",children:["• ",d.job_position," at ",d.company_name]})}),e($,{disableGutters:!0,children:l(F,{variant:"body1",children:[d.period_from?new Date(d.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",d.period_to?new Date(d.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e($,{disableGutters:!0,children:e(F,{variant:"body2",children:d.location})}),d.description&&e($,{disableGutters:!0,children:e(F,{variant:"body2",children:d.description})}),_<i.experiences.length-1&&e(ye,{sx:{my:1}})]},_))}):e(F,{children:"No experience information"})})]})})]}),B===1&&e(o,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:ga.map((d,_)=>e(o,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e(ba,{project:d})},d.id||_))}),B===2&&e(ha,{user:i,setUser:b})]})]})};export{Ba as default};
