import{q as u,j as m,a as e,Y as S,G as g,F as j}from"./app-DsNLFmGn.js";import{r as a,e as k,g as F,B as L,f as M,a as C}from"./vendor-D_Qsh6wj.js";import{A as b}from"./App-1zcAwj2N.js";import{L as f,D as E,a as G}from"./DeleteLeaveForm-DsRXJfeJ.js";import{A as I}from"./Add-CHNW4GKP.js";import"./Delete-CniahdGX.js";import"./chunk-YRZGWF2W-Y060YNUI.js";import"./chunk-KQ7OR4H5-DaXCV2hK.js";import"./GlassDialog-DF3tjSLB.js";import"./LoadingButton-BqVU-fyS.js";const O=({title:n,allUsers:r})=>{const{auth:p}=u().props,[s,l]=a.useState(null),[t,o]=a.useState(u().props.leavesData),[h,y]=a.useState(t.allLeaves),[x,i]=a.useState(null),[A,D]=a.useState();a.useEffect(()=>{y(t.allLeaves)},[t]);const c=d=>{l(d)},T=a.useCallback((d,B)=>{i(d),l(B)},[]),_=a.useCallback(()=>{l(null),i(null)},[]),v=()=>{l(null)};return m(j,{children:[e(S,{title:n}),s==="add_leave"&&e(f,{allUsers:r,open:s==="add_leave",setLeavesData:o,closeModal:v,leavesData:t}),s==="edit_leave"&&e(f,{allUsers:r,open:s==="edit_leave",setLeavesData:o,closeModal:v,leaveTypes:t.leaveTypes,leaveCounts:t.leaveCountsByUser[p.user.id]?t.leaveCountsByUser[p.user.id]:[],currentLeave:A}),s==="delete_leave"&&e(E,{open:s==="delete_leave",handleClose:_,leaveIdToDelete:x,setLeavesData:o}),e(L,{sx:{display:"flex",justifyContent:"center",p:2},children:e(k,{in:!0,children:m(g,{children:[e(F,{title:"Leaves",sx:{padding:"24px"},action:e(L,{display:"flex",gap:2,children:e(M,{title:"Add Leave",variant:"outlined",color:"success",startIcon:e(I,{}),onClick:()=>c("add_leave"),children:"Add Leave"})})}),e(C,{}),e(C,{children:e(G,{handleClickOpen:T,setCurrentLeave:D,openModal:c,allLeaves:h,allUsers:r,setLeavesData:o})})]})})})]})};O.layout=n=>e(b,{children:n});export{O as default};
