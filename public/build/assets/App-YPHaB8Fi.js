import{r as L,q as S,j as l,a as e,b as x,d as A,c as q,G as T,g as N,e as F,u as P,f as B,Q as V,H as G,h as Q,F as J}from"./app-XgwafsIR.js";import{p as _,q as D,s as E,t as j,u as R,r,$ as g,a0 as K,g as U,c as W,a1 as w,a2 as k,a3 as C,a4 as M,a5 as X,B as b,V as Y,a6 as Z,a7 as ee}from"./vendor-CQStpFR3.js";const te=_(D.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),ne=_(D.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var I={},oe=j;Object.defineProperty(I,"__esModule",{value:!0});var H=I.default=void 0,re=oe(L()),ae=E();H=I.default=(0,re.default)((0,ae.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");var y={},se=j;Object.defineProperty(y,"__esModule",{value:!0});var O=y.default=void 0,ie=se(L()),le=E();O=y.default=(0,ie.default)((0,le.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");const ce=({auth:d,contentRef:i,setBottomNavHeight:m})=>{const c=R(),{url:a}=S(),[p,n]=r.useState(0),u=r.useRef(null),s=()=>{if(u.current){const f=u.current.clientHeight;m(f)}};r.useEffect(()=>(s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[]),r.useEffect(()=>{a.includes("/daily-works")?n(1):a.includes("/dashboard")?n(0):a.includes(`/profile/${d.user.id}`)&&n(2)},[a,d.user.id]);const h=(f,v)=>{n(v)};return l(K,{ref:u,sx:{position:"fixed",bottom:0,left:0,right:0,zIndex:1200,display:{xs:"flex",md:"none"},backdropFilter:"blur(16px) saturate(200%)",backgroundColor:c.glassCard.backgroundColor},elevation:3,showLabels:!0,value:p,onChange:h,children:[e(g,{component:x,href:"/dashboard",label:"Home",icon:e(A,{})}),e(g,{component:x,href:"/daily-works",label:"Tasks",icon:e(H,{})}),e(g,{component:x,href:route("profile",{user:d.user.id}),label:"Profile",icon:e(O,{})})]})},de=({toggleSideBar:d})=>{const i=R(),{auth:m,url:c}=S().props,a=m.roles.includes("admin"),p=N(a),[n,u]=r.useState(null),[s,h]=r.useState(c),f=t=>{u(o=>o===t?null:t)},v=t=>{h(t),f(t)};return e(b,{sx:{p:2,height:"100%"},children:l(T,{children:[e(U,{}),e(W,{sx:{position:"absolute",zIndex:1,top:8,right:8,color:i.palette.text.primary},size:"large",onClick:d,children:e(q,{})}),e(w,{children:p.map(t=>t.subMenu?l("div",{children:[l(k,{button:!0,onClick:()=>v(t.name),sx:{backgroundColor:s===t.name?i.palette.action.selected:"transparent"},children:[e(C,{children:t.icon}),e(M,{primary:t.name}),t.subMenu?n===t.name?e(te,{}):e(ne,{}):null]}),t.subMenu&&e(X,{in:n===t.name,timeout:"auto",unmountOnExit:!0,children:e(w,{component:"div",disablePadding:!0,children:t.subMenu.map(o=>e(x,{as:"a",href:route(o.route),method:o.method||void 0,style:{alignItems:"center",color:i.palette.text.primary,textDecoration:"none"},children:l(k,{onClick:()=>h(o.name),sx:{pl:3,backgroundColor:s===o.name?i.palette.action.selected:"transparent"},button:!0,children:[e(C,{children:o.icon}),e(M,{primary:o.name})]})},o.name))})})]},t.name):e(x,{as:"a",href:route(t.route),method:t.method||void 0,style:{alignItems:"center",color:i.palette.text.primary,textDecoration:"none"},children:l(k,{button:!0,onClick:()=>h(t.name),sx:{backgroundColor:s===t.name?i.palette.action.selected:"transparent"},children:[e(C,{children:t.icon}),e(M,{primary:t.name})]})},t.name))})]})})},ue=()=>e("div",{className:"spinner-container",children:e(F.Dots,{animation:"fade",background:"rgba(0, 0, 0, 0.5)",color:"#3498db",size:60})});function fe({children:d}){const[i,m]=r.useState(),{auth:c}=S().props,[a,p]=r.useState(!1),[n,u]=r.useState(()=>localStorage.getItem("darkMode")==="true"),s=r.useRef(null),[h,f]=r.useState(0);r.useEffect(()=>{localStorage.setItem("darkMode",n)},[n]);const v=()=>{u(!n),console.log(n)},t=()=>{p(!a)},o=P(n),$=Y(o.breakpoints.down("md"));return B.Inertia.on("start",()=>{m(!0)}),B.Inertia.on("finish",z=>{m(!1)}),l(ee,{theme:o,children:[e(V,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e(Z,{}),i&&e(ue,{}),l(b,{sx:{display:"flex",flexDirection:"row",height:"100vh"},children:[e(b,{sx:{display:{xs:"none",md:"block"},height:"100vh",width:a?260:0,transition:"width 0.3s ease-in-out",flexDirection:"column",overflow:"hidden"},children:e(de,{toggleSideBar:t})}),l(b,{ref:s,sx:{pb:`${h}px`,display:"flex",flex:1,flexDirection:"column",height:"100vh",overflow:"auto"},children:[c.user&&e(G,{darkMode:n,toggleDarkMode:v,sideBarOpen:a,toggleSideBar:t}),c.user&&e(Q,{}),d,c.user&&$&&e(ce,{setBottomNavHeight:f,contentRef:s,auth:c})]})]}),e(J,{})]})}export{fe as A};
