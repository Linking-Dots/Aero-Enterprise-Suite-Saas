import{J as $e,r,a as c,b as e,F as K,g as re,d as se,Q as Ge,h as He,c as he}from"./app-gjERDQkg.js";import{u as ge,T,I as Qe,G as j,D as Ne,B as oe,E as H,e as De,L as Ue,d as Te,b as Je,N as Fe,i as Pe,A as Ke}from"./App-BUSD2D5M.js";import{P as Ve}from"./PageHeader-lHTqdCz-.js";import{S as Xe}from"./StatsCards-C7Yv4QK-.js";import{L as Ze}from"./LeaveEmployeeTable-Dy8wiKpP.js";import{C as ea}from"./Clear-C6dgMmG6.js";import{G as Le}from"./GlassDialog-CxofmWWX.js";import{D as We}from"./DialogTitle-DSuOz6g_.js";import{I as _e,F as Me,T as J}from"./TextField-CJH6c6ld.js";import{S as Re}from"./Select-B77Wji2i.js";import{M as le}from"./MenuItem-CWUHjk7j.js";import{A as aa}from"./Avatar-BObEoJgB.js";import{b as Oe,c as qe}from"./DialogContent-Dz_t7cYG.js";import{L as ta}from"./LoadingButton-C664FNkf.js";import{C as fe}from"./CircularProgress-C0M4Of_E.js";import{D as ra}from"./DialogContentText-BIQcz0AU.js";import{B as Be}from"./Button-aEmkCC5r.js";import{d as sa}from"./dayjs.min-DDi9iHg9.js";import{F as la}from"./CheckCircleIcon-eDV-vSAN.js";import{F as oa}from"./XCircleIcon-xW7yveCm.js";import{F as be}from"./ChartBarIcon-BXP0_rwv.js";import{F as Ae}from"./ExclamationTriangleIcon-A5S6VAt7.js";import{F as na}from"./MagnifyingGlassIcon-C_8Rw0U2.js";import{F as ia}from"./PlusIcon-GFd51C-N.js";import{F as da}from"./DocumentArrowDownIcon-BChOENlE.js";import{F as ca}from"./PresentationChartLineIcon-CBKdxp6i.js";import{s as Ee,l as Ie}from"./chunk-2GIFKCNQ-Da0hbpNM.js";import"./app-OY5DhjeJ.js";import"./chunk-D5XJWRAV-DRO_m4D0.js";import"./PencilIcon-C3M0yOVL.js";import"./TrashIcon-B1AQP0xV.js";import"./XCircleIcon-B2eluPXU.js";import"./UserIcon-KyMpuJVO.js";import"./CardContent-D_KMnfUx.js";import"./colorManipulator-DHrsacDm.js";import"./chunk-F3UDT23P-4Rgnd2tZ.js";import"./useHasTabbableChild-BvlKm9oE.js";import"./chunk-7F3ZLNJ6-BsMmiYjp.js";import"./chunk-7ZZXWEXF-ChHHQJmk.js";import"./chunk-R6AK6OQ4-BpgEZXJ7.js";import"./chunk-O5I3QTYU-BoYv1-8p.js";import"./index-CokAva9Y.js";import"./Popover-BSfE-ITL.js";import"./List-BBZEwiNm.js";import"./listItemTextClasses-_XgBJqik.js";import"./dividerClasses-CEahcmRh.js";import"./useSlot-BONYuXX9.js";const je=({open:$,closeModal:w,leavesData:g,setLeavesData:L,currentLeave:s,allUsers:B,setTotalRows:A,setLastPage:F,setLeaves:E,handleMonthChange:W,employee:u,selectedMonth:V,addLeaveOptimized:P,updateLeaveOptimized:k,fetchLeavesStats:_})=>{var te;const{auth:M}=$e().props,m=ge(),[h,x]=r.useState((s==null?void 0:s.user_id)||M.user.id),[o,ne]=r.useState((g==null?void 0:g.leaveTypes)||[]),[C,Q]=r.useState([]),[v,R]=r.useState((s==null?void 0:s.leave_type)||""),U=a=>{if(!a)return new Date().toISOString().split("T")[0];if(typeof a=="string"&&a.includes("T"))return a.split("T")[0];if(typeof a=="string"&&a.match(/^\d{4}-\d{2}-\d{2}$/))return a;const p=new Date(a);return isNaN(p.getTime())?new Date().toISOString().split("T")[0]:p.toISOString().split("T")[0]},[S,O]=r.useState(s!=null&&s.from_date?U(s.from_date):""),[z,ie]=r.useState(s!=null&&s.to_date?U(s.to_date):""),[G,X]=r.useState((s==null?void 0:s.no_of_days)||""),[Z,de]=r.useState(""),[ee,ce]=r.useState((s==null?void 0:s.reason)||""),[b,pe]=r.useState({}),[ae,N]=r.useState(!1),[q,ue]=r.useState("");return r.useEffect(()=>{var a,p;if(g){ne(g.leaveTypes||[]);const y=((a=g.leaveCountsByUser)==null?void 0:a[h])||[];if(Q(y),o.length>0&&!v&&!s&&R(o[0].type),s&&!v){const i=(p=g.leaveTypes)==null?void 0:p.find(d=>d.id===s.leave_type);i&&R(i.type)}}},[g,h,s]),r.useEffect(()=>{if(!v||!C||!o)return;const a=C.find(i=>i.leave_type===v),p=(a==null?void 0:a.days_used)||0;ue(p);const y=o.find(i=>i.type===v);if(y){const i=y.days-p;de(i),s&&G>i&&X(i)}},[v,C,o,s,G]),r.useEffect(()=>{X(((p,y)=>{if(!p||!y)return"";const i=new Date(p),d=new Date(y);if(i>d)return"";const I=d.getTime()-i.getTime();return Math.ceil(I/(1e3*3600*24))+1})(S,z))},[S,z]),c(Le,{open:$,onClose:w,fullWidth:!0,maxWidth:"sm",children:[c(We,{sx:{display:"flex",alignItems:"center"},children:[e(T,{variant:"h6",children:s?"Edit Leave":"Add Leave"}),e(Qe,{onClick:w,sx:{position:"absolute",top:8,right:16},children:e(ea,{})})]}),c("form",{onSubmit:async a=>{a.preventDefault(),N(!0);const p=new Promise(async(y,i)=>{try{const d={route:route().current(),user_id:h,leaveType:v,fromDate:S,toDate:z,daysCount:G,leaveReason:ee,employee:u,month:V},I=s?route("leave-update"):route("leave-add");s&&(d.id=s.id);const D=await axios.post(I,d);D.status===200&&(L(D.data.leavesData),s&&k&&D.data.leave?(k(D.data.leave),_()):P&&D.data.leave&&(P(D.data.leave),_(),A(me=>me+1)),w(),y([D.data.message||"Leave application submitted successfully"]))}catch(d){console.error(d),N(!1),d.response?(d.response.status===422?(pe(d.response.data.errors||{}),i(d.response.data.error||"Failed to submit leave application")):i("An unexpected error occurred. Please try again later."),console.error(d.response.data.error)):d.request?(i("No response received from the server. Please check your internet connection."),console.error(d.request)):(i("An error occurred while setting up the request."),console.error("Error",d.message))}finally{N(!1)}});H.promise(p,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[e(fe,{}),e("span",{style:{marginLeft:"8px"},children:"Submitting leave application..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},success:{render({data:y}){return e(K,{children:y.map((i,d)=>e("div",{children:i},d))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}},error:{render({data:y}){return e(K,{children:y})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,color:m.palette.text.primary}}})},children:[e(Oe,{children:c(j,{container:!0,spacing:2,children:[e(j,{item:!0,xs:12,md:6,children:c(Ne,{fullWidth:!0,children:[e(_e,{id:"leave-type-label",children:"Leave Type"}),c(Re,{labelId:"leave-type-label",value:v||"",onChange:a=>R(a.target.value),label:"Leave Type",error:!!b.leaveType,disabled:!1,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow,maxHeight:300}}},children:[e(le,{value:"",disabled:!0,children:"Select Leave Type"}),o.map(a=>{const p=C==null?void 0:C.find(d=>d.leave_type===a.type),i=(p?a.days-p.days_used:a.days)<=0;return e(le,{value:a.type,disabled:i,title:i?"No remaining leaves available":"",children:c(oe,{display:"flex",justifyContent:"space-between",width:"100%",children:[e("span",{children:a.type}),e("span",{children:p?`${p.days_used} / ${a.days} days`:`${a.days} days`})]})},a.id)})]}),e(Me,{children:b.leaveType})]})}),e(j,{item:!0,xs:12,md:6,children:e(J,{label:"From",type:"date",fullWidth:!0,value:S,onChange:a=>O(a.target.value),InputLabelProps:{shrink:!0},error:!!b.fromDate,helperText:b.fromDate})}),e(j,{item:!0,xs:12,md:6,children:e(J,{label:"To",type:"date",fullWidth:!0,value:z,onChange:a=>ie(a.target.value),InputLabelProps:{shrink:!0},error:!!b.toDate,helperText:b.toDate})}),e(j,{item:!0,xs:12,md:6,children:e(J,{label:"Number of days",type:"text",fullWidth:!0,value:G,InputProps:{readOnly:!0},error:!!b.daysCount,helperText:b.daysCount})}),e(j,{item:!0,xs:12,md:6,children:e(J,{label:"Remaining Leaves",type:"text",fullWidth:!0,value:`${Z} day${Z!==1?"s":""}`,InputProps:{readOnly:!0,endAdornment:c(T,{variant:"caption",color:"textSecondary",sx:{ml:1},children:["of ",((te=o.find(a=>a.type===v))==null?void 0:te.days)||0," total"]})},error:!!b.remainingLeaves,helperText:b.remainingLeaves})}),route().current()==="leaves"&&e(j,{item:!0,xs:12,md:6,children:c(Ne,{fullWidth:!0,children:[e(_e,{id:"leave-employee-label",children:"Employee"}),c(Re,{variant:"outlined",fullWidth:!0,labelId:"leave-employee-label",value:h||"na",error:!!b.user_id,onChange:a=>x(a.target.value),label:"Employee",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:m.glassCard.background,border:m.glassCard.border,borderRadius:2,boxShadow:m.glassCard.boxShadow}}},children:[e(le,{value:"na",disabled:!0,children:"Please select"}),B.map(a=>e(le,{value:a.id,children:c(oe,{sx:{display:"flex"},children:[e(aa,{src:a.profile_image,alt:a.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),a.name]})},a.id))]}),e(Me,{children:b.user_id})]})}),e(j,{item:!0,xs:12,children:e(J,{label:"Leave Reason",multiline:!0,rows:4,fullWidth:!0,value:ee,onChange:a=>ce(a.target.value),error:!!b.leaveReason,helperText:b.leaveReason})})]})}),e(qe,{sx:{padding:"16px",justifyContent:"center"},children:e(ta,{type:"submit",variant:"outlined",color:"primary",loading:ae,disabled:ae,sx:{borderRadius:"50px"},children:"Submit"})})]})]})},pa=({open:$,closeModal:w,leaveId:g,setLeavesData:L,setLeaves:s,setTotalRows:B,setLastPage:A,setError:F,deleteLeaveOptimized:E,fetchLeavesStats:W})=>{const u=ge();return c(Le,{open:$,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(We,{id:"alert-dialog-title",children:"Confirm Deletion"}),e(Oe,{children:e(ra,{id:"alert-dialog-description",children:"Are you sure you want to delete this leave? This action cannot be undone."})}),c(qe,{children:[e(Be,{onClick:w,color:"primary",children:"Cancel"}),e(Be,{onClick:()=>{const P=new Promise(async(k,_)=>{var M,m;try{const h=await axios.delete(route("leave-delete",{id:g,route:route().current()}));h.status===200&&(E?(E(g),B(x=>x-1),W()):(L(h.data.leavesData),B(h.data.leaves.total),A(h.data.leaves.last_page),s(h.data.leaves.data),F(!1),W()),k("Leave application deleted successfully"))}catch(h){if(console.error("Error deleting task:",h),h.response.status===404){const{leavesData:x}=h.response.data;L(x),F(((m=(M=h.response)==null?void 0:M.data)==null?void 0:m.message)||"Error retrieving data.")}_(h.response.data.error||"Failed to delete leave application")}finally{w()}});H.promise(P,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[e(fe,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting leave application..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:k}){return e(K,{children:k})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:k}){return e(K,{children:k})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:u.glassCard.background,border:u.glassCard.border,color:u.palette.text.primary}}})},color:"error",autoFocus:!0,children:"Delete"})]})]})},ua=({title:$,allUsers:w})=>{var ye,we,xe,Ce,ke;const{auth:g}=$e().props,L=ge(),s=De(L.breakpoints.down("sm"));De(L.breakpoints.down("md"));const[B,A]=r.useState(!1),[F,E]=r.useState([]),[W,u]=r.useState(),[V,P]=r.useState(0),[k,_]=r.useState(0),[M,m]=r.useState(),[h,x]=r.useState(""),[o,ne]=r.useState({employee:"",selectedMonth:sa().format("YYYY-MM"),status:"all",leaveType:"all",department:"all"}),[C,Q]=r.useState({perPage:30,currentPage:1}),v=r.useCallback((t,l)=>{if(t==="year"){const n=Number(l);if(n<1900||n>new Date().getFullYear()){console.warn("Invalid year selected. Must be between 1900 and current year.");return}}ne(n=>({...n,[t]:l})),Q(n=>({...n,currentPage:1}))},[]),[R,U]=r.useState({pending:0,approved:0,rejected:0,total:0}),S=((ye=g.permissions)==null?void 0:ye.includes("leaves.view"))||!1,O=((we=g.permissions)==null?void 0:we.includes("leaves.approve"))||!1,z=((xe=g.permissions)==null?void 0:xe.includes("leaves.create"))||!1,ie=((Ce=g.permissions)==null?void 0:Ce.includes("leaves.update"))||!1,G=((ke=g.permissions)==null?void 0:ke.includes("leaves.delete"))||!1,X=r.useMemo(()=>[{key:"all",label:"All Status",value:"all"},{key:"pending",label:"Pending",value:"pending"},{key:"approved",label:"Approved",value:"approved"},{key:"rejected",label:"Rejected",value:"rejected"},{key:"new",label:"New",value:"new"}],[]),Z=r.useMemo(()=>{const t=[{key:"all",label:"All Types",value:"all"}];if(!F.leaveTypes)return t;const l=F.leaveTypes.map(n=>({key:n.type.toLowerCase(),label:n.type,value:n.type.toLowerCase()}));return[...t,...l]},[F.leaveTypes]),de=r.useCallback(t=>{p(l=>({...l,[t]:!0}))},[]),ee=r.useCallback((t,l)=>{m({id:t}),p(n=>({...n,[l]:!0}))},[]),ce=r.useCallback(t=>{v("employee",t.target.value.toLowerCase())},[v]),b=r.useCallback(t=>{v("selectedMonth",t.target.value)},[v]),pe=r.useCallback(t=>{Q(l=>({...l,currentPage:t}))},[]),ae=r.useCallback(t=>{Q(l=>({...l,perPage:t,currentPage:1}))},[]),N=r.useCallback(async()=>{var t,l,n;A(!0);try{const f=await re.get(route("leaves.paginate"),{params:{page:C.currentPage,perPage:C.perPage,employee:o.employee,month:o.selectedMonth,status:o.status!=="all"?o.status:void 0,leave_type:o.leaveType!=="all"?o.leaveType:void 0,department:o.department!=="all"?o.department:void 0}});if(f.status===200){const{leaves:Y,leavesData:ze,stats:Se}=f.data;u(Y.data),E(ze),P(Y.total),_(Y.last_page),Se&&U(Se),x(""),A(!1)}}catch(f){if(console.error("Error fetching leaves data:",f.response),((t=f.response)==null?void 0:t.status)===404){const{leavesData:Y}=f.response.data;E(Y),x(((n=(l=f.response)==null?void 0:l.data)==null?void 0:n.message)||"No leaves found for the selected criteria.")}else x("Error retrieving leaves data. Please try again.");u(!1),A(!1)}},[o]),q=r.useCallback(async()=>{var t,l,n;try{const f=await re.get(route("leaves.stats"),{params:{month:o.selectedMonth}});if(f.status===200){const{stats:Y}=f.data;U(Y)}}catch(f){console.error("Error fetching leaves data:",f.response),((t=f.response)==null?void 0:t.status)===404?x(((n=(l=f.response)==null?void 0:l.data)==null?void 0:n.message)||"No leaves found for the selected criteria."):x("Error retrieving leaves data. Please try again."),A(!1)}},[o]),ue=r.useCallback(async t=>{if(O)try{(await re.post(route("leaves.bulk-approve"),{leave_ids:t})).status===200&&(N(),H.success("Selected leaves approved successfully"))}catch(l){console.error("Error bulk approving leaves:",l),H.error("Failed to approve selected leaves")}},[O,N]),ve=r.useCallback(async t=>{if(O)try{(await re.post(route("leaves.bulk-reject"),{leave_ids:t})).status===200&&(N(),H.success("Selected leaves rejected successfully"))}catch(l){console.error("Error bulk rejecting leaves:",l),H.error("Failed to reject selected leaves")}},[O,N]),te=r.useMemo(()=>[{title:"Pending",value:R.pending,icon:e(Ue,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Awaiting approval"},{title:"Approved",value:R.approved,icon:e(la,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Successfully approved"},{title:"Rejected",value:R.rejected,icon:e(oa,{}),color:"text-red-400",iconBg:"bg-red-500/20",description:"Declined requests"},{title:"Total",value:R.total,icon:e(be,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All leave requests"}],[R]);if(!S)return e(oe,{sx:{display:"flex",justifyContent:"center",p:2},children:e(Te,{children:c(se,{className:"p-8 text-center",children:[e(Ae,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"Access Denied"}),e(T,{variant:"body2",color:"textSecondary",children:"You don't have permission to view leave management."})]})})});const[a,p]=r.useState({add_leave:!1,edit_leave:!1,delete_leave:!1}),y=r.useRef(null),i=r.useCallback(t=>{p(l=>({...l,[t]:!0}))},[]),d=r.useCallback(t=>{p(l=>({...l,[t]:!1}))},[]),I=r.useCallback(t=>[...t].sort((l,n)=>new Date(l.from_date)-new Date(n.from_date)),[]),D=r.useCallback(t=>{u(l=>{const n=[...l,t];return I(n)})},[I]),me=r.useCallback(t=>{u(l=>{const n=l.map(f=>f.id===t.id?t:f);return I(n)})},[I]),Ye=r.useCallback(t=>{u(l=>l.filter(n=>n.id!==t))},[]);return r.useEffect(()=>{S&&N()},[q,S]),r.useEffect(()=>{S&&q()},[S]),c(K,{children:[e(Ge,{title:$}),a.add_leave&&e(je,{open:a.add_leave,closeModal:()=>d("add_leave"),leavesData:F,setLeavesData:E,currentLeave:null,allUsers:w,setTotalRows:P,setLastPage:_,setLeaves:u,handleMonthChange:b,employee:o.employee,selectedMonth:o.selectedMonth,addLeaveOptimized:D,fetchLeavesStats:q}),a.edit_leave&&e(je,{open:a.edit_leave,closeModal:()=>d("edit_leave"),leavesData:F,setLeavesData:E,currentLeave:M,allUsers:w,setTotalRows:P,setLastPage:_,setLeaves:u,handleMonthChange:b,employee:o.employee,selectedMonth:o.selectedMonth,updateLeaveOptimized:me,fetchLeavesStats:q}),a.delete_leave&&e(pa,{open:a.delete_leave,closeModal:()=>d("delete_leave"),leaveId:M==null?void 0:M.id,setLeaves:u,setTotalRows:P,setLastPage:_,deleteLeaveOptimized:Ye,fetchLeavesStats:q}),e(oe,{sx:{display:"flex",justifyContent:"center",p:2},children:e(Je,{in:!0,children:e(Te,{children:e(Ve,{title:"Leave Management",subtitle:"Manage employee leave requests and approvals",icon:e(ca,{className:"w-8 h-8"}),variant:"gradient",actionButtons:[...z?[{label:"Add Leave",icon:e(ia,{className:"w-4 h-4"}),onPress:()=>i("add_leave"),className:"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-secondary)] text-white font-medium hover:opacity-90"}]:[],{label:"Export",icon:e(da,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}],children:c("div",{className:"p-6",children:[e(Xe,{stats:te}),e("div",{className:"mb-6",children:c("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Fe,{label:"Month/Year",type:"month",value:o.selectedMonth,onChange:b,startContent:e(Pe,{className:"w-4 h-4"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:s?"sm":"md"})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Fe,{label:"Search Employee",placeholder:"Enter name or ID...",value:o.employee,onChange:ce,startContent:e(na,{className:"w-4 h-4 text-default-400"}),variant:"bordered",classNames:{inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:s?"sm":"md"})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Ee,{label:"Leave Status",selectedKeys:[o.status],onSelectionChange:t=>v("status",Array.from(t)[0]),variant:"bordered",classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},size:s?"sm":"md",children:X.map(t=>e(Ie,{value:t.value,children:t.label},t.key))})}),e("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e(Ee,{label:"Leave Type",selectedKeys:[o.leaveType],onSelectionChange:t=>v("leaveType",Array.from(t)[0]),variant:"bordered",classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},size:s?"sm":"md",children:Z.map(t=>e(Ie,{value:t.value,children:t.label},t.key))})}),e("div",{className:"flex gap-2",children:e(He,{variant:"flat",color:"primary",size:s?"sm":"md",onPress:N,isLoading:B,startContent:!B&&e(be,{className:"w-4 h-4"}),children:"Refresh"})})]})}),c("div",{className:"min-h-96",children:[c(T,{variant:"h6",className:"mb-4 flex items-center gap-2",children:[e(be,{className:"w-5 h-5"}),"Leave Requests Management"]}),B?e(he,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(se,{className:"text-center py-12",children:[e(fe,{size:40}),e(T,{className:"mt-4",color:"textSecondary",children:"Loading leave data..."})]})}):W&&W.length>0?e("div",{className:"overflow-hidden rounded-lg",children:e(Ze,{ref:y,totalRows:V,lastPage:k,setCurrentPage:pe,setPerPage:ae,perPage:C.perPage,currentPage:C.currentPage,handleClickOpen:ee,setCurrentLeave:m,openModal:de,leaves:W,allUsers:w,setLeaves:u,employee:o.employee,selectedMonth:o.selectedMonth,isAdminView:!0,onBulkApprove:ue,onBulkReject:ve,canApproveLeaves:O,canEditLeaves:ie,canDeleteLeaves:G,fetchLeavesStats:q})}):h?e(he,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(se,{className:"text-center py-12",children:[e(Ae,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"No Data Found"}),e(T,{color:"textSecondary",children:h})]})}):e(he,{className:"bg-white/10 backdrop-blur-md border-white/20",children:c(se,{className:"text-center py-12",children:[e(Pe,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e(T,{variant:"h6",className:"mb-2",children:"No Leave Records Found"}),e(T,{color:"textSecondary",children:"No leave records found for the selected criteria."})]})})]})]})})})})})]})};ua.layout=$=>e(Ke,{children:$});export{ua as default};
