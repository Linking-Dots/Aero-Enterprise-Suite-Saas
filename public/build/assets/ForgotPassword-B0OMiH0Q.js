import{j as l,a as e,M as S,U as q,F as f,h as E}from"./app-Blpamcva.js";import{A as x,E as P,u as I,r as c,G as m,a as L,B as a,d as N,T as O}from"./vendor-Dz0S-B-S.js";import{r as g,G as R,l as T,j as v,A as $}from"./App-DaWfJDeQ.js";import{i as h}from"./chunk-HJTJQZF3-D5k-E81R.js";import"./chunk-2BFF5KFD-CfQFItv7.js";import"./chunk-SLABUSGS-DkpN-FGf.js";var y={},D=P;Object.defineProperty(y,"__esModule",{value:!0});var j=y.default=void 0,z=D(g()),W=x();j=y.default=(0,z.default)((0,W.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email");var b={},k=P;Object.defineProperty(b,"__esModule",{value:!0});var M=b.default=void 0,A=k(g()),F=x();M=b.default=(0,A.default)((0,F.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey");var C={},V=P;Object.defineProperty(C,"__esModule",{value:!0});var w=C.default=void 0,G=V(g()),B=x();w=C.default=(0,G.default)((0,B.jsx)("path",{d:"M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z"}),"Password");function Z(){I();const[r,d]=c.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[p,u]=c.useState(!1),[n,i]=c.useState({}),[o,_]=c.useState(1),H=s=>{s.preventDefault(),u(!0),o===1?axios.post(route("password.email"),{email:r.email}).then(t=>{i({}),_(2)}).catch(t=>{console.error(t),console.error("Password reset OTP request failed:",t.response.data.errors),i(t.response.data.errors)}).finally(()=>{u(!1)}):o===2?axios.post(route("password.verify"),{email:r.email,otp:r.otp}).then(t=>{i({}),_(3)}).catch(t=>{console.error(t),console.error("OTP verification failed:",t.response.data.errors),i(t.response.data.errors)}).finally(()=>{u(!1)}):o===3&&axios.post(route("password.reset"),{email:r.email,newPassword:r.newPassword,newPassword_confirmation:r.confirmPassword}).then(t=>{E.get(route("login"))}).catch(t=>{console.error(t),console.error("Password reset failed:",t.response.data.errors),i(t.response.data.errors)}).finally(()=>{u(!1)})};return l($,{children:[e(S,{title:"Forgot Password"}),e(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:2},children:e(m,{container:!0,spacing:2,justifyContent:"center",children:e(m,{item:!0,xs:12,md:8,lg:6,xl:5,children:e(R,{children:l(L,{children:[e(a,{textAlign:"center",children:e(q,{style:{alignItems:"center",display:"inline-flex"},href:route("dashboard"),className:"d-inline-block auth-logo",children:e("img",{src:T,alt:"Logo",className:"h-24 md:h-40 sm:h-40 xs:h-10"})})}),e(a,{mt:4,children:l("form",{onSubmit:H,children:[o===1&&l(f,{children:[e(a,{mb:3,children:e(h,{isClearable:!0,type:"email",label:"Enter your email address",variant:"underlined",id:"email",name:"email",value:r.email||"",onChange:s=>{d({...r,email:s.target.value})},required:!0,fullWidth:!0,isInvalid:!!n.email,errorMessage:n.email,placeholder:"you@example.com",labelPlacement:"outside",startContent:e(j,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(a,{mt:4,children:e(v,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:p,children:"Send OTP"})})]}),o===2&&l(f,{children:[e(a,{mb:3,children:e(h,{isClearable:!0,type:"text",label:"Enter OTP sent to your email",variant:"underlined",id:"otp",name:"otp",value:r.otp||"",onChange:s=>{d({...r,otp:s.target.value})},required:!0,fullWidth:!0,isInvalid:!!n.otp,errorMessage:n.otp,placeholder:"Enter the OTP",labelPlacement:"outside",startContent:e(M,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(a,{mt:4,children:e(v,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:p,children:"Verify OTP"})})]}),o===3&&l(f,{children:[e(a,{mb:4,children:e(h,{label:"New Password",id:"newPassword",name:"newPassword",variant:"underlined",startContent:e(w,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),type:"password",value:r.newPassword||"",onChange:s=>{d({...r,newPassword:s.target.value})},required:!0,isInvalid:!!n.newPassword,errorMessage:n.newPassword,placeholder:"Enter new password",labelPlacement:"outside"})}),e(a,{mb:4,children:e(h,{isClearable:!0,type:"password",label:"Confirm New Password",variant:"underlined",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword||"",onChange:s=>{d({...r,confirmPassword:s.target.value})},required:!0,fullWidth:!0,isInvalid:!!n.confirmPassword,errorMessage:n.confirmPassword,placeholder:"Confirm new password",labelPlacement:"outside",startContent:e(w,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(a,{mt:4,children:e(v,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:p,children:"Reset Password"})})]})]})})]})})})})}),e("footer",{children:e(N,{children:e(m,{container:!0,justifyContent:"center",children:e(m,{item:!0,xs:12,textAlign:"center",children:l(O,{variant:"body2",color:"text.secondary",children:["Â© ",new Date().getFullYear()," Emam Hosen. Crafted with ",e("i",{className:"mdi mdi-heart text-danger"})]})})})})})]})}export{Z as default};
