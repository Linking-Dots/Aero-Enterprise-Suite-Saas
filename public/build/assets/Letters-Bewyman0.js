import{q as kt,j as W,a as p,c as nt,Y as Et,F as G}from"./app-PPDH9Gwj.js";import{w as M,R as ve,r as g,al as at,P as Ct,_ as St,x as Lt,y as _t,J as Ft,j as ot,at as Mt,B as pe,u as Dt,e as At,g as It,c as ye,f as De,a as Ae,G as Ie,t as Ot}from"./vendor-D1ROnS8h.js";import{t as Kt,g as Ht,_ as Oe,Y as Rt,Z as Nt,v as jt,w as zt,x as Wt,y as Bt,k as Ut,I as Vt,m as Gt,L as Yt,o as te,q as it,r as Xt,a3 as qt,a4 as Jt,d as Zt,b as Ke,B as re,G as Qt,A as er}from"./App-CI01aqwT.js";import{X as tr,m as rr,A as nr}from"./minMax-eKn6OSLb.js";import{d as ar}from"./Delete-CuO6-eaI.js";import{u as or,$ as He,i as st}from"./chunk-IR2E3HZF-ajkGs1CU.js";import{c as le}from"./DOMLayoutDelegate-B3yAHJVD.js";import{l as $e,s as xe}from"./chunk-QEQ4EHOG-Cp0GcD6l.js";import{t as ir}from"./chunk-KQ7OR4H5-BeCSUGba.js";import{u as Re}from"./chunk-TLBGAR4N-BldvI5rR.js";import{d as sr}from"./dayjs.min-B-nAD9Uc.js";import{d as lr,p as cr}from"./Search-CLKgwUYi.js";import{U as Ne}from"./Upload-Z8j430NT.js";import{D as je}from"./Download-Da2CWR9c.js";import"./useFormValidationState-DGKHj9Us.js";import"./useLabel-ZYcFDjcE.js";var ze=Kt({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...Ht],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),ur="flex mx-1 text-current self-center",dr=e=>M.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[M.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),M.jsx("path",{d:"M15 3h6v6"}),M.jsx("path",{d:"M10 14L21 3"})]});const Se=typeof document<"u"?ve.useLayoutEffect:()=>{};function X(e){const t=g.useRef(null);return Se(()=>{t.current=e},[e]),g.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}let We=new Map;function fr(e,t){if(e===t)return e;let r=We.get(e);if(r)return r(t),t;let n=We.get(t);return n?(n(e),e):t}function lt(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const R=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Z=e=>e&&"window"in e&&e.window===e?e:R(e).defaultView||window;function Q(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=lt(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=at(u,l):o==="id"&&u&&l?t.id=fr(u,l):t[o]=l!==void 0?l:u}}return t}const pr=new Set(["id"]),gr=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),br=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),vr=/^(data-.*)$/;function hr(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,u={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(pr.has(l)||r&&gr.has(l)||n&&br.has(l)||o!=null&&o.has(l)||vr.test(l))&&(u[l]=e[l]);return u}function U(e){if(mr())e.focus({preventScroll:!0});else{let t=yr(e);e.focus(),$r(t)}}let ce=null;function mr(){if(ce==null){ce=!1;try{document.createElement("div").focus({get preventScroll(){return ce=!0,!0}})}catch{}}return ce}function yr(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function $r(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function he(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function Le(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function ae(){return Le(/^Mac/i)}function xr(){return Le(/^iPhone/i)}function ct(){return Le(/^iPad/i)||ae()&&navigator.maxTouchPoints>1}function ut(){return xr()||ct()}function Tr(){return he(/AppleWebKit/i)&&!Pr()}function Pr(){return he(/Chrome/i)}function dt(){return he(/Android/i)}function wr(){return he(/Firefox/i)}const kr=g.createContext({isNative:!0,open:Sr,useHref:e=>e});function ft(){return g.useContext(kr)}function Er(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function ee(e,t,r=!0){var n,o;let{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}=t;wr()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(ae()?u=!0:l=!0);let h=Tr()&&ae()&&!ct()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:l,altKey:v,shiftKey:b}):new MouseEvent("click",{metaKey:u,ctrlKey:l,altKey:v,shiftKey:b,bubbles:!0,cancelable:!0});ee.isOpening=r,U(e),e.dispatchEvent(h),ee.isOpening=!1}ee.isOpening=!1;function Cr(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function Sr(e,t){Cr(e,r=>ee(r,t))}function Lr(e){let t=ft();return{href:e!=null&&e.href?t.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let q=new Map,we=new Set;function Be(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);o||(o=new Set,q.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),q.delete(n.target)),q.size===0)){for(let u of we)u();we.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?Be():document.addEventListener("DOMContentLoaded",Be));function pt(e){requestAnimationFrame(()=>{q.size===0?e():we.add(e)})}function _r(){let e=g.useRef(new Map),t=g.useCallback((o,u,l,v)=>{let b=v!=null&&v.once?(...h)=>{e.current.delete(l),l(...h)}:l;e.current.set(l,{type:u,eventTarget:o,fn:b,options:v}),o.addEventListener(u,l,v)},[]),r=g.useCallback((o,u,l,v)=>{var b;let h=((b=e.current.get(l))===null||b===void 0?void 0:b.fn)||l;o.removeEventListener(u,h,v),e.current.delete(l)},[]),n=g.useCallback(()=>{e.current.forEach((o,u)=>{r(o.eventTarget,o.type,u,o.options)})},[r]);return g.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function gt(e,t){Se(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function ke(e){return e.mozInputSource===0&&e.isTrusted?!0:dt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fr(e){return!dt()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}let J="default",Ee="",ge=new WeakMap;function Ue(e){if(ut()){if(J==="default"){const t=R(e);Ee=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}J="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(ge.set(e,e.style.userSelect),e.style.userSelect="none")}function ue(e){if(ut()){if(J!=="disabled")return;J="restoring",setTimeout(()=>{pt(()=>{if(J==="restoring"){const t=R(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Ee||""),Ee="",J="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&ge.has(e)){let t=ge.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),ge.delete(e)}}const bt=ve.createContext({register:()=>{}});bt.displayName="PressResponderContext";function Mr(e){let t=g.useContext(bt);if(t){let{register:r,...n}=t;e=Q(n,e),r()}return gt(t,e.ref),e}var de=new WeakMap;class fe{continuePropagation(){Oe(this,de,!1)}get shouldStopPropagation(){return Rt(this,de)}constructor(t,r,n){Nt(this,de,{writable:!0,value:void 0}),Oe(this,de,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Ve=Symbol("linkClicked");function Dr(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:o,onPressUp:u,isDisabled:l,isPressed:v,preventFocusOnPress:b,shouldCancelOnPointerExit:h,allowTextSelectionOnPress:x,ref:S,..._}=Mr(e),[k,s]=g.useState(!1),f=g.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:m,removeAllGlobalListeners:T}=_r(),P=X((a,y)=>{let F=f.current;if(l||F.didFirePressStart)return!1;let d=!0;if(F.isTriggeringEvent=!0,n){let w=new fe("pressstart",y,a);n(w),d=w.shouldStopPropagation}return r&&r(!0),F.isTriggeringEvent=!1,F.didFirePressStart=!0,s(!0),d}),$=X((a,y,F=!0)=>{let d=f.current;if(!d.didFirePressStart)return!1;d.ignoreClickAfterPress=!0,d.didFirePressStart=!1,d.isTriggeringEvent=!0;let w=!0;if(o){let i=new fe("pressend",y,a);o(i),w=i.shouldStopPropagation}if(r&&r(!1),s(!1),t&&F&&!l){let i=new fe("press",y,a);t(i),w&&(w=i.shouldStopPropagation)}return d.isTriggeringEvent=!1,w}),C=X((a,y)=>{let F=f.current;if(l)return!1;if(u){F.isTriggeringEvent=!0;let d=new fe("pressup",y,a);return u(d),F.isTriggeringEvent=!1,d.shouldStopPropagation}return!0}),L=X(a=>{let y=f.current;y.isPressed&&y.target&&(y.isOverTarget&&y.pointerType!=null&&$(z(y.target,a),y.pointerType,!1),y.isPressed=!1,y.isOverTarget=!1,y.activePointerId=null,y.pointerType=null,T(),x||ue(y.target))}),D=X(a=>{h&&L(a)}),I=g.useMemo(()=>{let a=f.current,y={onKeyDown(d){if(Te(d.nativeEvent,d.currentTarget)&&d.currentTarget.contains(d.target)){var w;Ye(d.target,d.key)&&d.preventDefault();let i=!0;if(!a.isPressed&&!d.repeat){a.target=d.currentTarget,a.isPressed=!0,i=P(d,"keyboard");let c=d.currentTarget,E=j=>{Te(j,c)&&!j.repeat&&c.contains(j.target)&&a.target&&C(z(a.target,j),"keyboard")};m(R(d.currentTarget),"keyup",lt(E,F),!0)}i&&d.stopPropagation(),d.metaKey&&ae()&&((w=a.metaKeyEvents)===null||w===void 0||w.set(d.key,d.nativeEvent))}else d.key==="Meta"&&(a.metaKeyEvents=new Map)},onClick(d){if(!(d&&!d.currentTarget.contains(d.target))&&d&&d.button===0&&!a.isTriggeringEvent&&!ee.isOpening){let w=!0;if(l&&d.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&!a.isPressed&&(a.pointerType==="virtual"||ke(d.nativeEvent))){!l&&!b&&U(d.currentTarget);let i=P(d,"virtual"),c=C(d,"virtual"),E=$(d,"virtual");w=i&&c&&E}a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1,w&&d.stopPropagation()}}},F=d=>{var w;if(a.isPressed&&a.target&&Te(d,a.target)){var i;Ye(d.target,d.key)&&d.preventDefault();let E=d.target;$(z(a.target,d),"keyboard",a.target.contains(E)),T(),d.key!=="Enter"&&_e(a.target)&&a.target.contains(E)&&!d[Ve]&&(d[Ve]=!0,ee(a.target,d,!1)),a.isPressed=!1,(i=a.metaKeyEvents)===null||i===void 0||i.delete(d.key)}else if(d.key==="Meta"&&(!((w=a.metaKeyEvents)===null||w===void 0)&&w.size)){var c;let E=a.metaKeyEvents;a.metaKeyEvents=void 0;for(let j of E.values())(c=a.target)===null||c===void 0||c.dispatchEvent(new KeyboardEvent("keyup",j))}};if(typeof PointerEvent<"u"){y.onPointerDown=c=>{if(c.button!==0||!c.currentTarget.contains(c.target))return;if(Fr(c.nativeEvent)){a.pointerType="virtual";return}Pe(c.currentTarget)&&c.preventDefault(),a.pointerType=c.pointerType;let E=!0;a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=c.pointerId,a.target=c.currentTarget,!l&&!b&&U(c.currentTarget),x||Ue(a.target),E=P(c,a.pointerType),m(R(c.currentTarget),"pointermove",d,!1),m(R(c.currentTarget),"pointerup",w,!1),m(R(c.currentTarget),"pointercancel",i,!1)),E&&c.stopPropagation()},y.onMouseDown=c=>{c.currentTarget.contains(c.target)&&c.button===0&&(Pe(c.currentTarget)&&c.preventDefault(),c.stopPropagation())},y.onPointerUp=c=>{!c.currentTarget.contains(c.target)||a.pointerType==="virtual"||c.button===0&&Y(c,c.currentTarget)&&C(c,a.pointerType||c.pointerType)};let d=c=>{c.pointerId===a.activePointerId&&(a.target&&Y(c,a.target)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,P(z(a.target,c),a.pointerType)):a.target&&a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,$(z(a.target,c),a.pointerType,!1),D(c)))},w=c=>{c.pointerId===a.activePointerId&&a.isPressed&&c.button===0&&a.target&&(Y(c,a.target)&&a.pointerType!=null?$(z(a.target,c),a.pointerType):a.isOverTarget&&a.pointerType!=null&&$(z(a.target,c),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType=null,T(),x||ue(a.target))},i=c=>{L(c)};y.onDragStart=c=>{c.currentTarget.contains(c.target)&&L(c)}}else{y.onMouseDown=i=>{if(i.button!==0||!i.currentTarget.contains(i.target))return;if(Pe(i.currentTarget)&&i.preventDefault(),a.ignoreEmulatedMouseEvents){i.stopPropagation();return}a.isPressed=!0,a.isOverTarget=!0,a.target=i.currentTarget,a.pointerType=ke(i.nativeEvent)?"virtual":"mouse",!l&&!b&&U(i.currentTarget),P(i,a.pointerType)&&i.stopPropagation(),m(R(i.currentTarget),"mouseup",d,!1)},y.onMouseEnter=i=>{if(!i.currentTarget.contains(i.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!0,c=P(i,a.pointerType)),c&&i.stopPropagation()},y.onMouseLeave=i=>{if(!i.currentTarget.contains(i.target))return;let c=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!1,c=$(i,a.pointerType,!1),D(i)),c&&i.stopPropagation()},y.onMouseUp=i=>{i.currentTarget.contains(i.target)&&!a.ignoreEmulatedMouseEvents&&i.button===0&&C(i,a.pointerType||"mouse")};let d=i=>{if(i.button===0){if(a.isPressed=!1,T(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.target&&Y(i,a.target)&&a.pointerType!=null?$(z(a.target,i),a.pointerType):a.target&&a.isOverTarget&&a.pointerType!=null&&$(z(a.target,i),a.pointerType,!1),a.isOverTarget=!1}};y.onTouchStart=i=>{if(!i.currentTarget.contains(i.target))return;let c=Ar(i.nativeEvent);if(!c)return;a.activePointerId=c.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=i.currentTarget,a.pointerType="touch",!l&&!b&&U(i.currentTarget),x||Ue(a.target),P(i,a.pointerType)&&i.stopPropagation(),m(Z(i.currentTarget),"scroll",w,!0)},y.onTouchMove=i=>{if(!i.currentTarget.contains(i.target))return;if(!a.isPressed){i.stopPropagation();return}let c=Ge(i.nativeEvent,a.activePointerId),E=!0;c&&Y(c,i.currentTarget)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,E=P(i,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,E=$(i,a.pointerType,!1),D(i)),E&&i.stopPropagation()},y.onTouchEnd=i=>{if(!i.currentTarget.contains(i.target))return;if(!a.isPressed){i.stopPropagation();return}let c=Ge(i.nativeEvent,a.activePointerId),E=!0;c&&Y(c,i.currentTarget)&&a.pointerType!=null?(C(i,a.pointerType),E=$(i,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(E=$(i,a.pointerType,!1)),E&&i.stopPropagation(),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,a.target&&!x&&ue(a.target),T()},y.onTouchCancel=i=>{i.currentTarget.contains(i.target)&&(i.stopPropagation(),a.isPressed&&L(i))};let w=i=>{a.isPressed&&i.target.contains(a.target)&&L({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};y.onDragStart=i=>{i.currentTarget.contains(i.target)&&L(i)}}return y},[m,l,b,T,x,L,D,$,P,C]);return g.useEffect(()=>()=>{var a;x||ue((a=f.current.target)!==null&&a!==void 0?a:void 0)},[x]),{isPressed:v||k,pressProps:Q(_,I)}}function _e(e){return e.tagName==="A"&&e.hasAttribute("href")}function Te(e,t){const{key:r,code:n}=e,o=t,u=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(o instanceof Z(o).HTMLInputElement&&!vt(o,r)||o instanceof Z(o).HTMLTextAreaElement||o.isContentEditable)&&!((u==="link"||!u&&_e(o))&&r!=="Enter")}function Ar(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function Ge(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const o=r[n];if(o.identifier===t)return o}return null}function z(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Ir(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Or(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function Y(e,t){let r=t.getBoundingClientRect(),n=Ir(e);return Or(r,n)}function Pe(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function Ye(e,t){return e instanceof HTMLInputElement?!vt(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!_e(e)}const Kr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vt(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Kr.has(e.type)}class Hr{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function Rr(e){let t=g.useRef({isFocused:!1,observer:null});Se(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=X(n=>{e==null||e(n)});return g.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,u=l=>{t.current.isFocused=!1,o.disabled&&r(new Hr("blur",l)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",u,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let v=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:v})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:v}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Nr(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:o}=e;const u=g.useCallback(b=>{if(b.target===b.currentTarget)return n&&n(b),o&&o(!1),!0},[n,o]),l=Rr(u),v=g.useCallback(b=>{const h=R(b.target);b.target===b.currentTarget&&h.activeElement===b.target&&(r&&r(b),o&&o(!0),l(b))},[o,r,l]);return{focusProps:{onFocus:!t&&(r||o||n)?v:void 0,onBlur:!t&&(n||o)?u:void 0}}}let oe=null,jr=new Set,ne=new Map,V=!1,Ce=!1;function Fe(e,t){for(let r of jr)r(e,t)}function zr(e){return!(e.metaKey||!ae()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function be(e){V=!0,zr(e)&&(oe="keyboard",Fe("keyboard",e))}function N(e){oe="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(V=!0,Fe("pointer",e))}function ht(e){ke(e)&&(V=!0,oe="virtual")}function mt(e){e.target===window||e.target===document||(!V&&!Ce&&(oe="virtual",Fe("virtual",e)),V=!1,Ce=!1)}function yt(){V=!1,Ce=!0}function Xe(e){if(typeof window>"u"||ne.get(Z(e)))return;const t=Z(e),r=R(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){V=!0,n.apply(this,arguments)},r.addEventListener("keydown",be,!0),r.addEventListener("keyup",be,!0),r.addEventListener("click",ht,!0),t.addEventListener("focus",mt,!0),t.addEventListener("blur",yt,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",N,!0),r.addEventListener("pointermove",N,!0),r.addEventListener("pointerup",N,!0)):(r.addEventListener("mousedown",N,!0),r.addEventListener("mousemove",N,!0),r.addEventListener("mouseup",N,!0)),t.addEventListener("beforeunload",()=>{$t(e)},{once:!0}),ne.set(t,{focus:n})}const $t=(e,t)=>{const r=Z(e),n=R(e);t&&n.removeEventListener("DOMContentLoaded",t),ne.has(r)&&(r.HTMLElement.prototype.focus=ne.get(r).focus,n.removeEventListener("keydown",be,!0),n.removeEventListener("keyup",be,!0),n.removeEventListener("click",ht,!0),r.removeEventListener("focus",mt,!0),r.removeEventListener("blur",yt,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",N,!0),n.removeEventListener("pointermove",N,!0),n.removeEventListener("pointerup",N,!0)):(n.removeEventListener("mousedown",N,!0),n.removeEventListener("mousemove",N,!0),n.removeEventListener("mouseup",N,!0)),ne.delete(r))};function Wr(e){const t=R(e);let r;return t.readyState!=="loading"?Xe(e):(r=()=>{Xe(e)},t.addEventListener("DOMContentLoaded",r)),()=>$t(e,r)}typeof document<"u"&&Wr();function Br(){return oe}function qe(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Ur(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:qe(e.onKeyDown),onKeyUp:qe(e.onKeyUp)}}}function Vr(e){const t=R(e);if(Br()==="virtual"){let r=t.activeElement;pt(()=>{t.activeElement===r&&e.isConnected&&U(e)})}else U(e)}let Gr=ve.createContext(null);function Yr(e){let t=g.useContext(Gr)||{};gt(t,e);let{ref:r,...n}=t;return n}function Xr(e,t){let{focusProps:r}=Nr(e),{keyboardProps:n}=Ur(e),o=Q(r,n),u=Yr(t),l=e.isDisabled?{}:u,v=g.useRef(e.autoFocus);return g.useEffect(()=>{v.current&&t.current&&Vr(t.current),v.current=!1},[t]),{focusableProps:Q({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},l)}}function qr(e,t){let{elementType:r="a",onPress:n,onPressStart:o,onPressEnd:u,onClick:l,isDisabled:v,...b}=e,h={};r!=="a"&&(h={role:"link",tabIndex:v?void 0:0});let{focusableProps:x}=Xr(e,t),{pressProps:S,isPressed:_}=Dr({onPress:n,onPressStart:o,onPressEnd:u,isDisabled:v,ref:t}),k=hr(b,{labelable:!0,isLink:r==="a"}),s=Q(x,S),f=ft(),m=Lr(e);return{isPressed:_,linkProps:Q(k,m,{...s,...h,"aria-disabled":v||void 0,"aria-current":e["aria-current"],onClick:T=>{var P;(P=S.onClick)==null||P.call(S,T),l&&l(T),!f.isNative&&T.currentTarget instanceof HTMLAnchorElement&&T.currentTarget.href&&!T.isDefaultPrevented()&&Er(T.currentTarget,T)&&e.href&&(T.preventDefault(),f.open(T.currentTarget,T,e.href,e.routerOptions))}})}}let Je=new Map;function Jr(e,t){if(e===t)return e;let r=Je.get(e);if(r)return r(t),t;let n=Je.get(t);return n?(n(e),e):t}function Zr(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}function Qr(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let u=t[o],l=n[o];typeof u=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=Zr(u,l):(o==="className"||o==="UNSAFE_className")&&typeof u=="string"&&typeof l=="string"?t[o]=at(u,l):o==="id"&&u&&l?t.id=Jr(u,l):t[o]=l!==void 0?l:u}}return t}function en(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,o=g.useRef({isFocused:!1,isFocusVisible:t||jt()}),[u,l]=g.useState(!1),[v,b]=g.useState(()=>o.current.isFocused&&o.current.isFocusVisible),h=g.useCallback(()=>b(o.current.isFocused&&o.current.isFocusVisible),[]),x=g.useCallback(k=>{o.current.isFocused=k,l(k),h()},[h]);zt(k=>{o.current.isFocusVisible=k,h()},[],{isTextInput:r});let{focusProps:S}=Wt({isDisabled:n,onFocusChange:x}),{focusWithinProps:_}=Bt({isDisabled:!n,onFocusWithinChange:x});return{isFocused:u,isFocusVisible:v,focusProps:n?_:S}}function tn(e){var t,r,n,o;const u=Ut(),[l,v]=Vt(e,ze.variantKeys),{ref:b,as:h,children:x,anchorIcon:S,isExternal:_=!1,showAnchorIcon:k=!1,autoFocus:s=!1,className:f,onPress:m,onPressStart:T,onPressEnd:P,onClick:$,...C}=l,L=h||"a",D=Gt(b),I=(r=(t=e==null?void 0:e.disableAnimation)!=null?t:u==null?void 0:u.disableAnimation)!=null?r:!1,{linkProps:a}=qr({...C,onPress:m,onPressStart:T,onPressEnd:P,onClick:$,isDisabled:e.isDisabled,elementType:`${h}`},D),{isFocused:y,isFocusVisible:F,focusProps:d}=en({autoFocus:s});_&&(C.rel=(n=C.rel)!=null?n:"noopener noreferrer",C.target=(o=C.target)!=null?o:"_blank");const w=g.useMemo(()=>ze({...v,disableAnimation:I,className:f}),[Yt(v),I,f]),i=g.useCallback(()=>({ref:D,className:w,"data-focus":te(y),"data-disabled":te(e.isDisabled),"data-focus-visible":te(F),...Qr(d,a,C)}),[w,y,F,d,a,C]);return{Component:L,children:x,anchorIcon:S,showAnchorIcon:k,getLinkProps:i}}var xt=it((e,t)=>{const{Component:r,children:n,showAnchorIcon:o,anchorIcon:u=M.jsx(dr,{className:ur}),getLinkProps:l}=tn({ref:t,...e});return M.jsx(r,{...l(),children:M.jsxs(M.Fragment,{children:[n,o&&u]})})});xt.displayName="NextUI.Link";var rn=xt,nn=g.useLayoutEffect,an=function(t){var r=g.useRef(t);return nn(function(){r.current=t}),r},Ze=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},on=function(t,r){var n=g.useRef();return g.useCallback(function(o){t.current=o,n.current&&Ze(n.current,null),n.current=r,r&&Ze(r,o)},[r])},Qe={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},sn=function(t){Object.keys(Qe).forEach(function(r){t.style.setProperty(r,Qe[r],"important")})},et=sn,A=null,tt=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function ln(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),A||(A=document.createElement("textarea"),A.setAttribute("tabindex","-1"),A.setAttribute("aria-hidden","true"),et(A)),A.parentNode===null&&document.body.appendChild(A);var o=e.paddingSize,u=e.borderSize,l=e.sizingStyle,v=l.boxSizing;Object.keys(l).forEach(function(_){var k=_;A.style[k]=l[k]}),et(A),A.value=t;var b=tt(A,e);A.value=t,b=tt(A,e),A.value="x";var h=A.scrollHeight-o,x=h*r;v==="border-box"&&(x=x+o+u),b=Math.max(x,b);var S=h*n;return v==="border-box"&&(S=S+o+u),b=Math.min(S,b),[b,h]}var rt=function(){},cn=function(t,r){return t.reduce(function(n,o){return n[o]=r[o],n},{})},un=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],dn=!!document.documentElement.currentStyle,fn=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=cn(un,r),o=n.boxSizing;if(o==="")return null;dn&&o==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var u=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),l=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:u,borderSize:l}},pn=fn;function Tt(e,t,r){var n=an(r);g.useLayoutEffect(function(){var o=function(l){return n.current(l)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var gn=function(t){Tt(window,"resize",t)},bn=function(t){Tt(document.fonts,"loadingdone",t)},vn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],hn=function(t,r){var n=t.cacheMeasurements,o=t.maxRows,u=t.minRows,l=t.onChange,v=l===void 0?rt:l,b=t.onHeightChange,h=b===void 0?rt:b,x=Ct(t,vn),S=x.value!==void 0,_=g.useRef(null),k=on(_,r),s=g.useRef(0),f=g.useRef(),m=function(){var $=_.current,C=n&&f.current?f.current:pn($);if(C){f.current=C;var L=ln(C,$.value||$.placeholder||"x",u,o),D=L[0],I=L[1];s.current!==D&&(s.current=D,$.style.setProperty("height",D+"px","important"),h(D,{rowHeight:I}))}},T=function($){S||m(),v($)};return g.useLayoutEffect(m),gn(m),bn(m),g.createElement("textarea",St({},x,{onChange:T,ref:k}))},mn=g.forwardRef(hn),Pt=it(({style:e,minRows:t=3,maxRows:r=8,cacheMeasurements:n=!1,disableAutosize:o=!1,onHeightChange:u,...l},v)=>{const{Component:b,label:h,description:x,startContent:S,endContent:_,hasHelper:k,shouldLabelBeOutside:s,shouldLabelBeInside:f,isInvalid:m,errorMessage:T,getBaseProps:P,getLabelProps:$,getInputProps:C,getInnerWrapperProps:L,getInputWrapperProps:D,getHelperWrapperProps:I,getDescriptionProps:a,getErrorMessageProps:y}=or({...l,ref:v,isMultiline:!0}),[F,d]=g.useState(t>1),[w,i]=g.useState(!1),c=h?M.jsx("label",{...$(),children:h}):null,E=C(),j=(B,H)=>{if(t===1&&d(B>=H.rowHeight*2),r>t){const ie=B>=r*H.rowHeight;i(ie)}u==null||u(B,H)},O=o?M.jsx("textarea",{...E,style:He(E.style,e??{})}):M.jsx(mn,{...E,cacheMeasurements:n,"data-hide-scroll":te(!w),maxRows:r,minRows:t,style:He(E.style,e??{}),onHeightChange:j}),K=g.useMemo(()=>S||_?M.jsxs("div",{...L(),children:[S,O,_]}):M.jsx("div",{...L(),children:O}),[S,E,_,L]);return M.jsxs(b,{...P(),children:[s?c:null,M.jsxs("div",{...D(),"data-has-multiple-rows":te(F),children:[f?c:null,K]}),k?M.jsx("div",{...I(),children:m&&T?M.jsx("div",{...y(),children:T}):x?M.jsx("div",{...a(),children:x}):null}):null]})});Pt.displayName="NextUI.Textarea";var yn=Pt,Me={},$n=_t;Object.defineProperty(Me,"__esModule",{value:!0});var wt=Me.default=void 0,xn=$n(Xt()),Tn=Lt();wt=Me.default=(0,xn.default)((0,Tn.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");const Pn=Ft(tr)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{"& .hZUxNm":{"white-space":"normal"},backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),wn=({allData:e,setData:t,users:r,loading:n,handleClickOpen:o,openModal:u,setCurrentRow:l,search:v})=>{const{auth:b}=kt().props,h=ot();g.useState(null),b.roles.includes("Administrator"),b.roles.includes("Supervision Engineer");const x=s=>{switch(s){case"Open":return"danger";case"Closed":return"success";case"Processing":return"primary";case"Signed":return"warning";case"Sent":return"success";default:return""}},S=s=>{if(!v)return s;const f=v.split(" ").filter(Boolean),m=new RegExp(`(${f.join("|")})`,"gi");return s.split(m).map((P,$)=>f.some(C=>P.toLowerCase()===C.toLowerCase())?p("span",{style:{backgroundColor:"yellow"},children:P},$):P)};console.log(r);const _=[{name:"From",selector:s=>s.from,sortable:!0,center:"true",width:"80px",cell:s=>S(s.from)},{name:"Status",selector:s=>s.status,sortable:!0,center:"true",width:"170px",cell:s=>p(xe,{"aria-label":"Status",color:x(s.status),placeholder:"Select Status",value:s.status,onChange:f=>k(s.id,"status",f.target.value),fullWidth:!0,selectedKeys:[s.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Open","Closed"].map(f=>p($e,{value:s.status,children:f},f))})},{name:"Received Date",selector:s=>s.received_date,sortable:!0,center:"true",width:"160px",cell:s=>p(st,{variant:"underlined",type:"date",fullWidth:!0,value:s.received_date,onChange:f=>k(s.id,"received_date",f.target.value)})},{name:"Memo Number",selector:s=>s.memo_number,sortable:!0,center:"true",width:"140px",cell:s=>S(s.memo_number)},{name:"Subject",selector:s=>s.subject,sortable:!0,left:!0,width:"260px",cell:s=>p(ir,{content:s.subject,placement:"top",showArrow:!0,radius:"md",size:"md",classNames:{content:["bg-transparent backdrop-blur-lg border border-gray-200","max-w-[300px] text-sm"]},children:p(pe,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:S(s.subject)})})},{name:"Action Taken",selector:s=>s.action_taken,sortable:!0,left:!0,width:"250px",cell:s=>{const[f,m]=g.useState(s.action_taken||"");return p(yn,{variant:"underlined",size:"sm",radius:"sm",maxRows:2,fullWidth:!0,value:f,onChange:$=>{m($.target.value)},onBlur:()=>{k(s.id,"action_taken",f)}})}},{name:"Handling Link",selector:s=>s.handling_link,sortable:!0,center:"true",width:"200px",cell:s=>p(rn,{isExternal:!0,isBlock:!0,showAnchorIcon:!0,href:s.handling_link||"#",anchorIcon:p(wt,{}),children:s.handling_memo||"N/A"})},{name:"Handling Status",selector:s=>s.handling_status,sortable:!0,center:"true",width:"180px",cell:s=>p(xe,{"aria-label":"Handling Status",color:x(s.handling_status),placeholder:"Select Status",value:s.handling_status,onChange:f=>k(s.id,"handling_status",f.target.value),fullWidth:!0,selectedKeys:[s.handling_status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:["Processing","Signed","Sent"].map(f=>p($e,{value:s.handling_status,children:f},f))})},{name:"Need Reply",selector:s=>s.need_reply,center:"true",width:"80px",cell:s=>p(le,{color:x(s.status),isSelected:s.need_reply,onChange:f=>k(s.id,"need_reply",f.target.checked)})},{name:"Replied Status",selector:s=>s.replied_status,center:"true",width:"80px",cell:s=>p(le,{color:x(s.status),isSelected:s.replied_status,onChange:f=>k(s.id,"replied_status",f.target.checked)})},{name:"Need Forward",selector:s=>s.need_forward,center:"true",width:"80px",cell:s=>p(le,{color:x(s.status),isSelected:s.need_forward,onChange:f=>k(s.id,"need_forward",f.target.checked)})},{name:"Forwarded Status",selector:s=>s.forwarded_status,center:"true",width:"90px",cell:s=>p(le,{color:x(s.status),isSelected:s.forwarded_status,onChange:f=>k(s.id,"forwarded_status",f.target.checked)})},{name:"Dealt By",selector:s=>s.dealt_by,sortable:!0,center:"true",cell:s=>p(xe,{items:r,variant:"underlined","aria-label":"Dealt By",fullWidth:!0,value:s.dealt_by||"na",onChange:f=>k(s.id,"dealt_by",f.target.value),selectedKeys:[String(s.dealt_by)],style:{minWidth:"260px"},popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"},style:{whiteSpace:"nowrap",minWidth:"fit-content"}},placeholder:"Select a user",renderValue:f=>f.map(m=>p("div",{className:"flex items-center gap-2 m-1",children:p(Re,{style:{whiteSpace:"nowrap"},size:"sm",name:m.data.name,description:m.data.designation.title,avatarProps:{radius:"sm",size:"sm",src:m.data.profile_image}})},m.key)),children:f=>p($e,{textValue:f.id,children:p(Re,{style:{whiteSpace:"nowrap"},size:"sm",name:f.name,description:f.designation.title,avatarProps:{radius:"sm",size:"sm",src:f.profile_image}})},f.id)})},{name:"Actions",center:"true",width:"150px",cell:s=>W("div",{className:"flex gap-4 items-center",children:[p(Ke,{variant:"bordered",isIconOnly:!0,color:"warning","aria-label":"Edit",onClick:()=>u("editLetter",s),children:p(Zt,{})}),p(Ke,{variant:"bordered",isIconOnly:!0,color:"danger","aria-label":"Delete",onClick:()=>handleDelete(s.id),children:p(ar,{})})]})}],k=async(s,f,m)=>{var T,P;console.log(s,f,m);try{const $=await nt.put(route("letters.update"),{id:s,[f]:m});$.status===200?(t(C=>C.map(L=>L.id===s?{...L,[f]:m}:L)),re.success(...$.data.messages||"Letter updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})):re.error($.data.error||`Failed to update letter ${[f]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}catch($){re.error(((P=(T=$.response)==null?void 0:T.data)==null?void 0:P.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:h.glassCard.backgroundColor,border:h.glassCard.border,color:h.palette.text.primary}})}};return W("div",{children:[n&&p(qt,{}),p(Mt,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:h.palette.text.primary}}}),p(Pn,{columns:_,data:e,defaultSortField:"received_date",highlightOnHover:!0,responsive:!0,dense:!0,sortIcon:p(Jt,{}),keyField:"id"})]})};sr.extend(rr);const kn=ve.memo(({auth:e,title:t,users:r})=>{const n=ot(),[o,u]=g.useState([]),[l,v]=g.useState(!1),[b,h]=g.useState(0),[x,S]=g.useState(0);g.useState([]);const[_,k]=g.useState(),[s,f]=g.useState(null),[m,T]=g.useState(null),[P,$]=g.useState(""),C=Dt(n.breakpoints.down("md")),[L,D]=g.useState(30),[I,a]=g.useState(1),y=async(O,K,B)=>{try{const H=await nt.get(route("letters.paginate"),{params:{page:O,perPage:K,search:B}});console.log(H),u(H.data.data),h(H.data.total),S(H.data.last_page),v(!1)}catch(H){console.log(H),re.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}),v(!1)}},F=()=>{const O=new Promise(async(K,B)=>{var H,ie;try{const se=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:s,page:I,perPage:L,search:P,status:filterData.status!=="all"?filterData.status:"",inCharge:filterData.incharge!=="all"?filterData.incharge:"",startDate:(H=filterData.startDate)==null?void 0:H.format("YYYY-MM-DD"),endDate:(ie=filterData.endDate)==null?void 0:ie.format("YYYY-MM-DD")})}),me=await se.json();se.ok?(u(me.data),h(me.total),K("Daily work deleted successfully")):B(me.error||"Failed to delete task")}catch(se){console.error("Error deleting task:",se),B("An error occurred while deleting the task")}finally{w()}});re.promise(O,{pending:{render(){return W("div",{style:{display:"flex",alignItems:"center"},children:[p(Ot,{}),p("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:K}){return p(G,{children:K})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:K}){return p(G,{children:K})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:n.glassCard.backgroundColor,border:n.glassCard.border,color:n.palette.text.primary}}})},d=g.useCallback((O,K)=>{f(O),T(K)},[]),w=g.useCallback(()=>{T(null),f(null)},[]),i=g.useCallback(O=>{T(O)},[]),c=g.useCallback(()=>{T(null)},[]),E=O=>{const K=O.target.value;$(K)};g.useEffect(()=>{v(!0),y(I,L,P)},[I,L,P]);const j=O=>{a(O)};return W(G,{children:[p(Et,{title:t}),m==="editLetter"&&p(LetterForm,{open:m==="editLetter",currentRow:_,setData:u,closeModal:c}),m==="deleteLetter"&&p(DeleteLetterForm,{open:m==="deleteLetter",handleClose:w,handleDelete:F,setData:u}),m==="importLetters"&&p(LettersUploadForm,{open:m==="importLetters",closeModal:c,setData:u,setTotalRows:h}),m==="exportLetters"&&p(LettersDownloadForm,{open:m==="exportLetters",closeModal:c,data:o,users:r}),p(pe,{sx:{display:"flex",justifyContent:"center",p:2},children:p(At,{in:!0,children:W(Qt,{children:[p(It,{title:t,sx:{padding:"24px"},action:W(pe,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&p(ye,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:p(nr,{})}),e.roles.includes("Administrator")&&p(G,{children:C?W(G,{children:[p(ye,{title:"Import Letters",color:"warning",onClick:()=>i("importLetters"),children:p(Ne,{})}),p(ye,{title:"Export Letters",color:"success",onClick:()=>i("exportLetters"),children:p(je,{})})]}):W(G,{children:[p(De,{title:"Import Letters",variant:"outlined",color:"warning",startIcon:p(Ne,{}),onClick:()=>i("importLetters"),children:"Import"}),p(De,{title:"Export Letters",variant:"outlined",color:"success",startIcon:p(je,{}),onClick:()=>i("exportLetters"),children:"Export"})]})})]})}),p(Ae,{children:p(pe,{children:p(Ie,{container:!0,spacing:2,children:p(Ie,{item:!0,xs:12,sm:6,md:3,children:p(st,{label:"Search",type:"text",fullWidth:!0,variant:"bordered",placeholder:"Search...",value:P,onChange:E,endContent:p(lr,{})})})})})}),W(Ae,{children:[p(wn,{setData:u,setCurrentRow:k,currentPage:I,setCurrentPage:a,setLoading:v,handleClickOpen:d,openModal:i,totalRows:b,lastPage:x,loading:l,allData:o,users:r,search:P}),b>=30&&p("div",{className:"py-2 px-2 flex justify-center items-center",children:p(cr,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:I,total:x,onChange:j})})]})]})})})]})});kn.layout=e=>p(er,{children:e});export{kn as default};
