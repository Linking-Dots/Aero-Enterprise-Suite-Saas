import{r as g,w as z,ab as te}from"./vendor-TQEDv41K.js";import{h as re,j as oe,k as le,n as ie,p as V,q as H,s as _,v as q,w as ne,x as Y,y as se,z as ce,C as ae}from"./App-3hRiYzhC.js";function fe(r,e){let t=window.getComputedStyle(r),i=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return i&&e&&(i=r.scrollHeight!==r.clientHeight||r.scrollWidth!==r.clientWidth),i}function ue(r,e){const t=[];for(;r&&r!==document.documentElement;)fe(r,e)&&t.push(r),r=r.parentElement;return t}function X(r,e,t,i){let s=re(t),c=t==null;g.useEffect(()=>{if(c||!r.current)return;let a=r.current;return a.addEventListener(e,s,i),()=>{a.removeEventListener(e,s,i)}},[r,e,i,c,s])}function ee(r,e){let t=G(r,e,"left"),i=G(r,e,"top"),s=e.offsetWidth,c=e.offsetHeight,a=r.scrollLeft,p=r.scrollTop,{borderTopWidth:f,borderLeftWidth:S}=getComputedStyle(r),y=r.scrollLeft+parseInt(S,10),P=r.scrollTop+parseInt(f,10),v=y+r.clientWidth,u=P+r.clientHeight;t<=a?a=t-parseInt(S,10):t+s>v&&(a+=t+s-v),i<=P?p=i-parseInt(f,10):i+c>u&&(p+=i+c-u),r.scrollLeft=a,r.scrollTop=p}function G(r,e,t){const i=t==="left"?"offsetLeft":"offsetTop";let s=0;for(;e.offsetParent&&(s+=e[i],e.offsetParent!==r);){if(e.offsetParent.contains(r)){s-=r[i];break}e=e.offsetParent}return s}function Z(r,e){if(document.contains(r)){let a=document.scrollingElement||document.documentElement;if(window.getComputedStyle(a).overflow==="hidden"){let f=ue(r);for(let S of f)ee(S,r)}else{var t;let{left:f,top:S}=r.getBoundingClientRect();r==null||(t=r.scrollIntoView)===null||t===void 0||t.call(r,{block:"nearest"});let{left:y,top:P}=r.getBoundingClientRect();if(Math.abs(f-y)>1||Math.abs(S-P)>1){var i,s,c;e==null||(s=e.containingElement)===null||s===void 0||(i=s.scrollIntoView)===null||i===void 0||i.call(s,{block:"center",inline:"center"}),(c=r.scrollIntoView)===null||c===void 0||c.call(r,{block:"nearest"})}}}}var he=({strokeWidth:r=1.5,...e})=>z.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:r,viewBox:"0 0 24 24",width:"1em",...e,children:z.jsx("path",{d:"m6 9 6 6 6-6"})});function j(r){return oe()?r.altKey:r.ctrlKey}function R(r){return le()?r.metaKey:r.ctrlKey}const de=1e3;function pe(r){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:i}=r,s=g.useRef({search:"",timeout:null}).current,c=a=>{let p=ye(a.key);if(!p||a.ctrlKey||a.metaKey||!a.currentTarget.contains(a.target))return;p===" "&&s.search.trim().length>0&&(a.preventDefault(),"continuePropagation"in a||a.stopPropagation()),s.search+=p;let f=e.getKeyForSearch(s.search,t.focusedKey);f==null&&(f=e.getKeyForSearch(s.search)),f!=null&&(t.setFocusedKey(f),i&&i(f)),clearTimeout(s.timeout),s.timeout=setTimeout(()=>{s.search=""},de)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?c:null}}}function ye(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function $e(r){let{selectionManager:e,keyboardDelegate:t,ref:i,autoFocus:s=!1,shouldFocusWrap:c=!1,disallowEmptySelection:a=!1,disallowSelectAll:p=!1,selectOnFocus:f=e.selectionBehavior==="replace",disallowTypeAhead:S=!1,shouldUseVirtualFocus:y,allowsTabNavigation:P=!1,isVirtualized:v,scrollRef:u=i,linkBehavior:I="action"}=r,{direction:w}=ie(),h=V(),B=o=>{if(o.altKey&&o.key==="Tab"&&o.preventDefault(),!i.current.contains(o.target))return;const d=(n,C)=>{if(n!=null){if(e.isLink(n)&&I==="selection"&&f&&!j(o)){te.flushSync(()=>{e.setFocusedKey(n,C)});let O=u.current.querySelector(`[data-key="${CSS.escape(n.toString())}"]`),N=e.getItemProps(n);h.open(O,o,N.href,N.routerOptions);return}if(e.setFocusedKey(n,C),e.isLink(n)&&I==="override")return;o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(n):f&&!j(o)&&e.replaceSelection(n)}};switch(o.key){case"ArrowDown":if(t.getKeyBelow){var $,b;o.preventDefault();let n=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):($=t.getFirstKey)===null||$===void 0?void 0:$.call(t);n==null&&c&&(n=(b=t.getFirstKey)===null||b===void 0?void 0:b.call(t,e.focusedKey)),d(n)}break;case"ArrowUp":if(t.getKeyAbove){var T,k;o.preventDefault();let n=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):(T=t.getLastKey)===null||T===void 0?void 0:T.call(t);n==null&&c&&(n=(k=t.getLastKey)===null||k===void 0?void 0:k.call(t,e.focusedKey)),d(n)}break;case"ArrowLeft":if(t.getKeyLeftOf){var E,l;o.preventDefault();let n=t.getKeyLeftOf(e.focusedKey);n==null&&c&&(n=w==="rtl"?(E=t.getFirstKey)===null||E===void 0?void 0:E.call(t,e.focusedKey):(l=t.getLastKey)===null||l===void 0?void 0:l.call(t,e.focusedKey)),d(n,w==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var x,U;o.preventDefault();let n=t.getKeyRightOf(e.focusedKey);n==null&&c&&(n=w==="rtl"?(x=t.getLastKey)===null||x===void 0?void 0:x.call(t,e.focusedKey):(U=t.getFirstKey)===null||U===void 0?void 0:U.call(t,e.focusedKey)),d(n,w==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){o.preventDefault();let n=t.getFirstKey(e.focusedKey,R(o));e.setFocusedKey(n),R(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(n):f&&e.replaceSelection(n)}break;case"End":if(t.getLastKey){o.preventDefault();let n=t.getLastKey(e.focusedKey,R(o));e.setFocusedKey(n),R(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(n):f&&e.replaceSelection(n)}break;case"PageDown":if(t.getKeyPageBelow){o.preventDefault();let n=t.getKeyPageBelow(e.focusedKey);d(n)}break;case"PageUp":if(t.getKeyPageAbove){o.preventDefault();let n=t.getKeyPageAbove(e.focusedKey);d(n)}break;case"a":R(o)&&e.selectionMode==="multiple"&&p!==!0&&(o.preventDefault(),e.selectAll());break;case"Escape":!a&&e.selectedKeys.size!==0&&(o.stopPropagation(),o.preventDefault(),e.clearSelection());break;case"Tab":if(!P){if(o.shiftKey)i.current.focus();else{let n=ne(i.current,{tabbable:!0}),C,O;do O=n.lastChild(),O&&(C=O);while(O);C&&!C.contains(document.activeElement)&&Y(C)}break}}},K=g.useRef({top:0,left:0});X(u,"scroll",v?null:()=>{K.current={top:u.current.scrollTop,left:u.current.scrollLeft}});let M=o=>{if(e.isFocused){o.currentTarget.contains(o.target)||e.setFocused(!1);return}if(o.currentTarget.contains(o.target)){if(e.setFocused(!0),e.focusedKey==null){let b=k=>{k!=null&&(e.setFocusedKey(k),f&&e.replaceSelection(k))},T=o.relatedTarget;var d,$;T&&o.currentTarget.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?b((d=e.lastSelectedKey)!==null&&d!==void 0?d:t.getLastKey()):b(($=e.firstSelectedKey)!==null&&$!==void 0?$:t.getFirstKey())}else v||(u.current.scrollTop=K.current.top,u.current.scrollLeft=K.current.left);if(e.focusedKey!=null){let b=u.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);b&&(b.contains(document.activeElement)||Y(b),q()==="keyboard"&&Z(b,{containingElement:i.current}))}}},F=o=>{o.currentTarget.contains(o.relatedTarget)||e.setFocused(!1)};const m=g.useRef(s);g.useEffect(()=>{if(m.current){let o=null;s==="first"&&(o=t.getFirstKey()),s==="last"&&(o=t.getLastKey());let d=e.selectedKeys;if(d.size){for(let $ of d)if(e.canSelectItem($)){o=$;break}}e.setFocused(!0),e.setFocusedKey(o),o==null&&!y&&H(i.current)}},[]);let D=g.useRef(e.focusedKey);g.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==D.current||m.current)&&(u!=null&&u.current)){let o=q(),d=i.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!d)return;(o==="keyboard"||m.current)&&(ee(u.current,d),o!=="virtual"&&Z(d,{containingElement:i.current}))}e.isFocused&&e.focusedKey==null&&D.current!=null&&H(i.current),D.current=e.focusedKey,m.current=!1}),X(i,"react-aria-focus-scope-restore",o=>{o.preventDefault(),e.setFocused(!0)});let A={onKeyDown:B,onFocus:M,onBlur:F,onMouseDown(o){u.current===o.target&&o.preventDefault()}},{typeSelectProps:W}=pe({keyboardDelegate:t,selectionManager:e});S||(A=_(W,A));let L;return y||(L=e.focusedKey==null?0:-1),{collectionProps:{...A,tabIndex:L}}}function Ke(r){let{selectionManager:e,key:t,ref:i,shouldSelectOnPressUp:s,shouldUseVirtualFocus:c,focus:a,isDisabled:p,onAction:f,allowsDifferentPressOrigin:S,linkBehavior:y="action"}=r,P=V(),v=l=>{if(l.pointerType==="keyboard"&&j(l))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(y==="selection"){let x=e.getItemProps(t);P.open(i.current,l,x.href,x.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(y==="override"||y==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):l&&l.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||l&&(R(l)||l.pointerType==="touch"||l.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};g.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!c&&(a?a():document.activeElement!==i.current&&H(i.current))},[i,t,e.focusedKey,e.childFocusStrategy,e.isFocused,c]),p=p||e.isDisabled(t);let u={};!c&&!p?u={tabIndex:t===e.focusedKey?0:-1,onFocus(l){l.target===i.current&&e.setFocusedKey(t)}}:p&&(u.onMouseDown=l=>{l.preventDefault()});let I=e.isLink(t)&&y==="override",w=e.isLink(t)&&y!=="selection"&&y!=="none",h=!p&&e.canSelectItem(t)&&!I,B=(f||w)&&!p,K=B&&(e.selectionBehavior==="replace"?!h:!h||e.isEmpty),M=B&&h&&e.selectionBehavior==="replace",F=K||M,m=g.useRef(null),D=F&&h,A=g.useRef(!1),W=g.useRef(!1),L=l=>{if(f&&f(),w){let x=e.getItemProps(t);P.open(i.current,l,x.href,x.routerOptions)}},o={};s?(o.onPressStart=l=>{m.current=l.pointerType,A.current=D,l.pointerType==="keyboard"&&(!F||Q())&&v(l)},S?(o.onPressUp=K?null:l=>{l.pointerType!=="keyboard"&&h&&v(l)},o.onPress=K?L:null):o.onPress=l=>{if(K||M&&l.pointerType!=="mouse"){if(l.pointerType==="keyboard"&&!J())return;L(l)}else l.pointerType!=="keyboard"&&h&&v(l)}):(o.onPressStart=l=>{m.current=l.pointerType,A.current=D,W.current=K,h&&(l.pointerType==="mouse"&&!K||l.pointerType==="keyboard"&&(!B||Q()))&&v(l)},o.onPress=l=>{(l.pointerType==="touch"||l.pointerType==="pen"||l.pointerType==="virtual"||l.pointerType==="keyboard"&&F&&J()||l.pointerType==="mouse"&&W.current)&&(F?L(l):h&&v(l))}),u["data-key"]=t,o.preventFocusOnPress=c;let{pressProps:d,isPressed:$}=se(o),b=M?l=>{m.current==="mouse"&&(l.stopPropagation(),l.preventDefault(),L(l))}:void 0,{longPressProps:T}=ce({isDisabled:!D,onLongPress(l){l.pointerType==="touch"&&(v(l),e.setSelectionBehavior("toggle"))}}),k=l=>{m.current==="touch"&&A.current&&l.preventDefault()},E=e.isLink(t)?l=>{ae.isOpening||l.preventDefault()}:void 0;return{itemProps:_(u,h||K?d:{},D?T:{},{onDoubleClick:b,onDragStartCapture:k,onClick:E}),isPressed:$,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:p,allowsSelection:h,hasAction:F}}function J(){let r=window.event;return(r==null?void 0:r.key)==="Enter"}function Q(){let r=window.event;return(r==null?void 0:r.key)===" "||(r==null?void 0:r.code)==="Space"}class ge{getItemRect(e){let t=this.ref.current,i=e!=null?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!i)return null;let s=t.getBoundingClientRect(),c=i.getBoundingClientRect();return{x:c.left-s.left+t.scrollLeft,y:c.top-s.top+t.scrollTop,width:c.width,height:c.height}}getContentSize(){let e=this.ref.current;return{width:e.scrollWidth,height:e.scrollHeight}}getVisibleRect(){let e=this.ref.current;return{x:e.scrollLeft,y:e.scrollTop,width:e.offsetWidth,height:e.offsetHeight}}constructor(e){this.ref=e}}export{fe as $,he as C,ge as a,$e as b,Ke as c,Z as d};
