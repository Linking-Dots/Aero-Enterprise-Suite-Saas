import{r as f,j as e,a as qr,q as Hr,R as Me,Y as Jr}from"./app-DfhaGE2n.js";import{G as be,D as ge,d as Ae,a as fe,b as je,C as ze,c as me}from"./GlassDialog-D98YHZL6.js";import{m as Se,k as ke,s as Z,_ as W,ag as Kr,u as Pe,f as _e,g as V,z as Ce,h as Be,w as Ze,p as ee,x as Qe,ah as er,Y as Yr,Z as Vr,ai as Ir,j as rr,a6 as Zr,a5 as Tr,a7 as Fr,aj as Ge,y as oe,ak as Ke,ae as Qr,T as E,I as U,G as a,B as z,M as D,E as te,H as Y,b as q,d as tr,J as ce,al as br,A as et,c as rt,am as he,an as A,ao as I}from"./App-DKi2TN-P.js";import{T as N,F as Re}from"./TextField-B2cg3gws.js";import{F as H,I as J,S as K}from"./Select-uWY3a6J5.js";import{L as de}from"./LoadingButton-DLfKpIJ9.js";import{C as ae}from"./CircularProgress-DFsn0g-k.js";import{A as Nr}from"./Add-yBC7ejGy.js";import{I as tt}from"./InputAdornment-Cr8F6u6Q.js";import{D as ve}from"./Divider-CUFffNR5.js";let ye;function wr(){if(ye)return ye;const r=document.createElement("div"),o=document.createElement("div");return o.style.width="10px",o.style.height="1px",r.appendChild(o),r.dir="rtl",r.style.fontSize="14px",r.style.width="4px",r.style.height="1px",r.style.position="absolute",r.style.top="-1000px",r.style.overflow="scroll",document.body.appendChild(r),ye="reverse",r.scrollLeft>0?ye="default":(r.scrollLeft=1,r.scrollLeft===0&&(ye="negative")),document.body.removeChild(r),ye}function at(r,o){const s=r.scrollLeft;if(o!=="rtl")return s;switch(wr()){case"negative":return r.scrollWidth-r.clientWidth+s;case"reverse":return r.scrollWidth-r.clientWidth-s;default:return s}}function ot(r){return ke("MuiAvatarGroup",r)}const nt=Se("MuiAvatarGroup",["root","avatar"]),st=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],gr={small:-16,medium:null},it=r=>{const{classes:o}=r;return Be({root:["root"],avatar:["avatar"]},ot,o)},lt=Z("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(r,o)=>W({[`& .${nt.avatar}`]:o.avatar},o.root)})(({theme:r,ownerState:o})=>{const s=o.spacing&&gr[o.spacing]!==void 0?gr[o.spacing]:-o.spacing;return{[`& .${Kr.root}`]:{border:`2px solid ${(r.vars||r).palette.background.default}`,boxSizing:"content-box",marginLeft:s??-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}}),fr=f.forwardRef(function(o,s){var j;const p=Pe({props:o,name:"MuiAvatarGroup"}),{children:n,className:h,component:T="div",componentsProps:b={},max:_=5,renderSurplus:x,slotProps:y={},spacing:S="medium",total:v,variant:u="circular"}=p,c=_e(p,st);let B=_<2?2:_;const d=W({},p,{max:_,spacing:S,component:T,variant:u}),i=it(d),m=f.Children.toArray(n).filter(C=>f.isValidElement(C)),t=v||m.length;t===B&&(B+=1),B=Math.min(t+1,B);const l=Math.min(m.length,B-1),g=Math.max(t-B,t-l,0),P=x?x(g):`+${g}`,R=(j=y.additionalAvatar)!=null?j:b.additionalAvatar;return e.jsxs(lt,W({as:T,ownerState:d,className:V(i.root,h),ref:s},c,{children:[g?e.jsx(Ce,W({variant:u},R,{className:V(i.avatar,R==null?void 0:R.className),children:P})):null,m.slice(0,l).reverse().map(C=>f.cloneElement(C,{className:V(C.props.className,i.avatar),variant:C.props.variant||u}))]}))});function ct(r){return ke("MuiCardActions",r)}Se("MuiCardActions",["root","spacing"]);const dt=["disableSpacing","className"],pt=r=>{const{classes:o,disableSpacing:s}=r;return Be({root:["root",!s&&"spacing"]},ct,o)},ut=Z("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.root,!s.disableSpacing&&o.spacing]}})(({ownerState:r})=>W({display:"flex",alignItems:"center",padding:8},!r.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xt=f.forwardRef(function(o,s){const j=Pe({props:o,name:"MuiCardActions"}),{disableSpacing:p=!1,className:n}=j,h=_e(j,dt),T=W({},j,{disableSpacing:p}),b=pt(T);return e.jsx(ut,W({className:V(b.root,n),ownerState:T,ref:s},h))});function mt(r){return ke("MuiLinearProgress",r)}Se("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const ht=["className","color","value","valueBuffer","variant"];let Ie=r=>r,jr,_r,yr,vr,Cr,Sr;const Ve=4,bt=Ze(jr||(jr=Ie`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),gt=Ze(_r||(_r=Ie`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),ft=Ze(yr||(yr=Ie`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),jt=r=>{const{classes:o,variant:s,color:j}=r,p={root:["root",`color${ee(j)}`,s],dashed:["dashed",`dashedColor${ee(j)}`],bar1:["bar",`barColor${ee(j)}`,(s==="indeterminate"||s==="query")&&"bar1Indeterminate",s==="determinate"&&"bar1Determinate",s==="buffer"&&"bar1Buffer"],bar2:["bar",s!=="buffer"&&`barColor${ee(j)}`,s==="buffer"&&`color${ee(j)}`,(s==="indeterminate"||s==="query")&&"bar2Indeterminate",s==="buffer"&&"bar2Buffer"]};return Be(p,mt,o)},ar=(r,o)=>o==="inherit"?"currentColor":r.vars?r.vars.palette.LinearProgress[`${o}Bg`]:r.palette.mode==="light"?Yr(r.palette[o].main,.62):Vr(r.palette[o].main,.5),_t=Z("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.root,o[`color${ee(s.color)}`],o[s.variant]]}})(({ownerState:r,theme:o})=>W({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ar(o,r.color)},r.color==="inherit"&&r.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},r.variant==="buffer"&&{backgroundColor:"transparent"},r.variant==="query"&&{transform:"rotate(180deg)"})),yt=Z("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.dashed,o[`dashedColor${ee(s.color)}`]]}})(({ownerState:r,theme:o})=>{const s=ar(o,r.color);return W({position:"absolute",marginTop:0,height:"100%",width:"100%"},r.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${s} 0%, ${s} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Qe(vr||(vr=Ie`
    animation: ${0} 3s infinite linear;
  `),ft)),vt=Z("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.bar,o[`barColor${ee(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&o.bar1Indeterminate,s.variant==="determinate"&&o.bar1Determinate,s.variant==="buffer"&&o.bar1Buffer]}})(({ownerState:r,theme:o})=>W({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:r.color==="inherit"?"currentColor":(o.vars||o).palette[r.color].main},r.variant==="determinate"&&{transition:`transform .${Ve}s linear`},r.variant==="buffer"&&{zIndex:1,transition:`transform .${Ve}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&Qe(Cr||(Cr=Ie`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),bt)),Ct=Z("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.bar,o[`barColor${ee(s.color)}`],(s.variant==="indeterminate"||s.variant==="query")&&o.bar2Indeterminate,s.variant==="buffer"&&o.bar2Buffer]}})(({ownerState:r,theme:o})=>W({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},r.variant!=="buffer"&&{backgroundColor:r.color==="inherit"?"currentColor":(o.vars||o).palette[r.color].main},r.color==="inherit"&&{opacity:.3},r.variant==="buffer"&&{backgroundColor:ar(o,r.color),transition:`transform .${Ve}s linear`}),({ownerState:r})=>(r.variant==="indeterminate"||r.variant==="query")&&Qe(Sr||(Sr=Ie`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),gt)),St=f.forwardRef(function(o,s){const j=Pe({props:o,name:"MuiLinearProgress"}),{className:p,color:n="primary",value:h,valueBuffer:T,variant:b="indeterminate"}=j,_=_e(j,ht),x=W({},j,{color:n,variant:b}),y=jt(x),S=er(),v={},u={bar1:{},bar2:{}};if((b==="determinate"||b==="buffer")&&h!==void 0){v["aria-valuenow"]=Math.round(h),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let c=h-100;S&&(c=-c),u.bar1.transform=`translateX(${c}%)`}if(b==="buffer"&&T!==void 0){let c=(T||0)-100;S&&(c=-c),u.bar2.transform=`translateX(${c}%)`}return e.jsxs(_t,W({className:V(y.root,p),ownerState:x,role:"progressbar"},v,{ref:s},_,{children:[b==="buffer"?e.jsx(yt,{className:y.dashed,ownerState:x}):null,e.jsx(vt,{className:y.bar1,ownerState:x,style:u.bar1}),b==="determinate"?null:e.jsx(Ct,{className:y.bar2,ownerState:x,style:u.bar2})]}))});function kt(r){return ke("MuiTab",r)}const le=Se("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Pt=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Bt=r=>{const{classes:o,textColor:s,fullWidth:j,wrapped:p,icon:n,label:h,selected:T,disabled:b}=r,_={root:["root",n&&h&&"labelIcon",`textColor${ee(s)}`,j&&"fullWidth",p&&"wrapped",T&&"selected",b&&"disabled"],iconWrapper:["iconWrapper"]};return Be(_,kt,o)},It=Z(Ir,{name:"MuiTab",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.root,s.label&&s.icon&&o.labelIcon,o[`textColor${ee(s.textColor)}`],s.fullWidth&&o.fullWidth,s.wrapped&&o.wrapped,{[`& .${le.iconWrapper}`]:o.iconWrapper}]}})(({theme:r,ownerState:o})=>W({},r.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:o.iconPosition==="top"||o.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${le.iconWrapper}`]:W({},o.iconPosition==="top"&&{marginBottom:6},o.iconPosition==="bottom"&&{marginTop:6},o.iconPosition==="start"&&{marginRight:r.spacing(1)},o.iconPosition==="end"&&{marginLeft:r.spacing(1)})},o.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${le.selected}`]:{opacity:1},[`&.${le.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}},o.textColor==="primary"&&{color:(r.vars||r).palette.text.secondary,[`&.${le.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${le.disabled}`]:{color:(r.vars||r).palette.text.disabled}},o.textColor==="secondary"&&{color:(r.vars||r).palette.text.secondary,[`&.${le.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${le.disabled}`]:{color:(r.vars||r).palette.text.disabled}},o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:r.typography.pxToRem(12)})),Oe=f.forwardRef(function(o,s){const j=Pe({props:o,name:"MuiTab"}),{className:p,disabled:n=!1,disableFocusRipple:h=!1,fullWidth:T,icon:b,iconPosition:_="top",indicator:x,label:y,onChange:S,onClick:v,onFocus:u,selected:c,selectionFollowsFocus:B,textColor:d="inherit",value:i,wrapped:m=!1}=j,t=_e(j,Pt),l=W({},j,{disabled:n,disableFocusRipple:h,selected:c,icon:!!b,iconPosition:_,label:!!y,fullWidth:T,textColor:d,wrapped:m}),g=Bt(l),P=b&&y&&f.isValidElement(b)?f.cloneElement(b,{className:V(g.iconWrapper,b.props.className)}):b,R=M=>{!c&&S&&S(M,i),v&&v(M)},C=M=>{B&&!c&&S&&S(M,i),u&&u(M)};return e.jsxs(It,W({focusRipple:!h,className:V(g.root,p),ref:s,role:"tab","aria-selected":c,disabled:n,onClick:R,onFocus:C,ownerState:l,tabIndex:c?0:-1},t,{children:[_==="top"||_==="start"?e.jsxs(f.Fragment,{children:[P,y]}):e.jsxs(f.Fragment,{children:[y,P]}),x]}))}),Tt=rr(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ft=rr(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Nt(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function wt(r,o,s,j={},p=()=>{}){const{ease:n=Nt,duration:h=300}=j;let T=null;const b=o[r];let _=!1;const x=()=>{_=!0},y=S=>{if(_){p(new Error("Animation cancelled"));return}T===null&&(T=S);const v=Math.min(1,(S-T)/h);if(o[r]=n(v)*(s-b)+b,v>=1){requestAnimationFrame(()=>{p(null)});return}requestAnimationFrame(y)};return b===s?(p(new Error("Element already at target position")),x):(requestAnimationFrame(y),x)}const Et=["onChange"],Rt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function At(r){const{onChange:o}=r,s=_e(r,Et),j=f.useRef(),p=f.useRef(null),n=()=>{j.current=p.current.offsetHeight-p.current.clientHeight};return Zr(()=>{const h=Fr(()=>{const b=j.current;n(),b!==j.current&&o(j.current)}),T=Tr(p.current);return T.addEventListener("resize",h),()=>{h.clear(),T.removeEventListener("resize",h)}},[o]),f.useEffect(()=>{n(),o(j.current)},[o]),e.jsx("div",W({style:Rt,ref:p},s))}function Dt(r){return ke("MuiTabScrollButton",r)}const Wt=Se("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),$t=["className","slots","slotProps","direction","orientation","disabled"],Lt=r=>{const{classes:o,orientation:s,disabled:j}=r;return Be({root:["root",s,j&&"disabled"]},Dt,o)},Mt=Z(Ir,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.root,s.orientation&&o[s.orientation]]}})(({ownerState:r})=>W({width:40,flexShrink:0,opacity:.8,[`&.${Wt.disabled}`]:{opacity:0}},r.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${r.isRtl?-90:90}deg)`}})),Ot=f.forwardRef(function(o,s){var j,p;const n=Pe({props:o,name:"MuiTabScrollButton"}),{className:h,slots:T={},slotProps:b={},direction:_}=n,x=_e(n,$t),y=er(),S=W({isRtl:y},n),v=Lt(S),u=(j=T.StartScrollButtonIcon)!=null?j:Tt,c=(p=T.EndScrollButtonIcon)!=null?p:Ft,B=Ge({elementType:u,externalSlotProps:b.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),d=Ge({elementType:c,externalSlotProps:b.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return e.jsx(Mt,W({component:"div",className:V(v.root,h),ref:s,role:null,ownerState:S,tabIndex:null},x,{children:_==="left"?e.jsx(u,W({},B)):e.jsx(c,W({},d))}))});function Ut(r){return ke("MuiTabs",r)}const Ye=Se("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),zt=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],kr=(r,o)=>r===o?r.firstChild:o&&o.nextElementSibling?o.nextElementSibling:r.firstChild,Pr=(r,o)=>r===o?r.lastChild:o&&o.previousElementSibling?o.previousElementSibling:r.lastChild,Ue=(r,o,s)=>{let j=!1,p=s(r,o);for(;p;){if(p===r.firstChild){if(j)return;j=!0}const n=p.disabled||p.getAttribute("aria-disabled")==="true";if(!p.hasAttribute("tabindex")||n)p=s(r,p);else{p.focus();return}}},Gt=r=>{const{vertical:o,fixed:s,hideScrollbar:j,scrollableX:p,scrollableY:n,centered:h,scrollButtonsHideMobile:T,classes:b}=r;return Be({root:["root",o&&"vertical"],scroller:["scroller",s&&"fixed",j&&"hideScrollbar",p&&"scrollableX",n&&"scrollableY"],flexContainer:["flexContainer",o&&"flexContainerVertical",h&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",T&&"scrollButtonsHideMobile"],scrollableX:[p&&"scrollableX"],hideScrollbar:[j&&"hideScrollbar"]},Ut,b)},Xt=Z("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[{[`& .${Ye.scrollButtons}`]:o.scrollButtons},{[`& .${Ye.scrollButtons}`]:s.scrollButtonsHideMobile&&o.scrollButtonsHideMobile},o.root,s.vertical&&o.vertical]}})(({ownerState:r,theme:o})=>W({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},r.vertical&&{flexDirection:"column"},r.scrollButtonsHideMobile&&{[`& .${Ye.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}})),qt=Z("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.scroller,s.fixed&&o.fixed,s.hideScrollbar&&o.hideScrollbar,s.scrollableX&&o.scrollableX,s.scrollableY&&o.scrollableY]}})(({ownerState:r})=>W({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},r.fixed&&{overflowX:"hidden",width:"100%"},r.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},r.scrollableX&&{overflowX:"auto",overflowY:"hidden"},r.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Ht=Z("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(r,o)=>{const{ownerState:s}=r;return[o.flexContainer,s.vertical&&o.flexContainerVertical,s.centered&&o.centered]}})(({ownerState:r})=>W({display:"flex"},r.vertical&&{flexDirection:"column"},r.centered&&{justifyContent:"center"})),Jt=Z("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(r,o)=>o.indicator})(({ownerState:r,theme:o})=>W({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create()},r.indicatorColor==="primary"&&{backgroundColor:(o.vars||o).palette.primary.main},r.indicatorColor==="secondary"&&{backgroundColor:(o.vars||o).palette.secondary.main},r.vertical&&{height:"100%",width:2,right:0})),Kt=Z(At)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Br={},Yt=f.forwardRef(function(o,s){const j=Pe({props:o,name:"MuiTabs"}),p=oe(),n=er(),{"aria-label":h,"aria-labelledby":T,action:b,centered:_=!1,children:x,className:y,component:S="div",allowScrollButtonsMobile:v=!1,indicatorColor:u="primary",onChange:c,orientation:B="horizontal",ScrollButtonComponent:d=Ot,scrollButtons:i="auto",selectionFollowsFocus:m,slots:t={},slotProps:l={},TabIndicatorProps:g={},TabScrollButtonProps:P={},textColor:R="primary",value:C,variant:M="standard",visibleScrollbar:w=!1}=j,Te=_e(j,zt),X=M==="scrollable",Q=B==="vertical",Fe=Q?"scrollTop":"scrollLeft",De=Q?"top":"left",We=Q?"bottom":"right",Xe=Q?"clientHeight":"clientWidth",Ne=Q?"height":"width",pe=W({},j,{component:S,allowScrollButtonsMobile:v,indicatorColor:u,orientation:B,vertical:Q,scrollButtons:i,textColor:R,variant:M,visibleScrollbar:w,fixed:!X,hideScrollbar:X&&!w,scrollableX:X&&!Q,scrollableY:X&&Q,centered:_&&!X,scrollButtonsHideMobile:!v}),se=Gt(pe),Er=Ge({elementType:t.StartScrollButtonIcon,externalSlotProps:l.startScrollButtonIcon,ownerState:pe}),Rr=Ge({elementType:t.EndScrollButtonIcon,externalSlotProps:l.endScrollButtonIcon,ownerState:pe}),[or,Ar]=f.useState(!1),[ue,nr]=f.useState(Br),[sr,Dr]=f.useState(!1),[ir,Wr]=f.useState(!1),[lr,$r]=f.useState(!1),[cr,Lr]=f.useState({overflow:"hidden",scrollbarWidth:0}),dr=new Map,ne=f.useRef(null),xe=f.useRef(null),pr=()=>{const k=ne.current;let F;if(k){const $=k.getBoundingClientRect();F={clientWidth:k.clientWidth,scrollLeft:k.scrollLeft,scrollTop:k.scrollTop,scrollLeftNormalized:at(k,n?"rtl":"ltr"),scrollWidth:k.scrollWidth,top:$.top,bottom:$.bottom,left:$.left,right:$.right}}let L;if(k&&C!==!1){const $=xe.current.children;if($.length>0){const O=$[dr.get(C)];L=O?O.getBoundingClientRect():null}}return{tabsMeta:F,tabMeta:L}},we=Ke(()=>{const{tabsMeta:k,tabMeta:F}=pr();let L=0,$;if(Q)$="top",F&&k&&(L=F.top-k.top+k.scrollTop);else if($=n?"right":"left",F&&k){const G=n?k.scrollLeftNormalized+k.clientWidth-k.scrollWidth:k.scrollLeft;L=(n?-1:1)*(F[$]-k[$]+G)}const O={[$]:L,[Ne]:F?F[Ne]:0};if(isNaN(ue[$])||isNaN(ue[Ne]))nr(O);else{const G=Math.abs(ue[$]-O[$]),re=Math.abs(ue[Ne]-O[Ne]);(G>=1||re>=1)&&nr(O)}}),qe=(k,{animation:F=!0}={})=>{F?wt(Fe,ne.current,k,{duration:p.transitions.duration.standard}):ne.current[Fe]=k},ur=k=>{let F=ne.current[Fe];Q?F+=k:(F+=k*(n?-1:1),F*=n&&wr()==="reverse"?-1:1),qe(F)},xr=()=>{const k=ne.current[Xe];let F=0;const L=Array.from(xe.current.children);for(let $=0;$<L.length;$+=1){const O=L[$];if(F+O[Xe]>k){$===0&&(F=k);break}F+=O[Xe]}return F},Mr=()=>{ur(-1*xr())},Or=()=>{ur(xr())},Ur=f.useCallback(k=>{Lr({overflow:null,scrollbarWidth:k})},[]),zr=()=>{const k={};k.scrollbarSizeListener=X?e.jsx(Kt,{onChange:Ur,className:V(se.scrollableX,se.hideScrollbar)}):null;const L=X&&(i==="auto"&&(sr||ir)||i===!0);return k.scrollButtonStart=L?e.jsx(d,W({slots:{StartScrollButtonIcon:t.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Er},orientation:B,direction:n?"right":"left",onClick:Mr,disabled:!sr},P,{className:V(se.scrollButtons,P.className)})):null,k.scrollButtonEnd=L?e.jsx(d,W({slots:{EndScrollButtonIcon:t.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Rr},orientation:B,direction:n?"left":"right",onClick:Or,disabled:!ir},P,{className:V(se.scrollButtons,P.className)})):null,k},mr=Ke(k=>{const{tabsMeta:F,tabMeta:L}=pr();if(!(!L||!F)){if(L[De]<F[De]){const $=F[Fe]+(L[De]-F[De]);qe($,{animation:k})}else if(L[We]>F[We]){const $=F[Fe]+(L[We]-F[We]);qe($,{animation:k})}}}),$e=Ke(()=>{X&&i!==!1&&$r(!lr)});f.useEffect(()=>{const k=Fr(()=>{ne.current&&we()});let F;const L=G=>{G.forEach(re=>{re.removedNodes.forEach(Ee=>{var ie;(ie=F)==null||ie.unobserve(Ee)}),re.addedNodes.forEach(Ee=>{var ie;(ie=F)==null||ie.observe(Ee)})}),k(),$e()},$=Tr(ne.current);$.addEventListener("resize",k);let O;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(k),Array.from(xe.current.children).forEach(G=>{F.observe(G)})),typeof MutationObserver<"u"&&(O=new MutationObserver(L),O.observe(xe.current,{childList:!0})),()=>{var G,re;k.clear(),$.removeEventListener("resize",k),(G=O)==null||G.disconnect(),(re=F)==null||re.disconnect()}},[we,$e]),f.useEffect(()=>{const k=Array.from(xe.current.children),F=k.length;if(typeof IntersectionObserver<"u"&&F>0&&X&&i!==!1){const L=k[0],$=k[F-1],O={root:ne.current,threshold:.99},G=Je=>{Dr(!Je[0].isIntersecting)},re=new IntersectionObserver(G,O);re.observe(L);const Ee=Je=>{Wr(!Je[0].isIntersecting)},ie=new IntersectionObserver(Ee,O);return ie.observe($),()=>{re.disconnect(),ie.disconnect()}}},[X,i,lr,x==null?void 0:x.length]),f.useEffect(()=>{Ar(!0)},[]),f.useEffect(()=>{we()}),f.useEffect(()=>{mr(Br!==ue)},[mr,ue]),f.useImperativeHandle(b,()=>({updateIndicator:we,updateScrollButtons:$e}),[we,$e]);const hr=e.jsx(Jt,W({},g,{className:V(se.indicator,g.className),ownerState:pe,style:W({},ue,g.style)}));let Le=0;const Gr=f.Children.map(x,k=>{if(!f.isValidElement(k))return null;const F=k.props.value===void 0?Le:k.props.value;dr.set(F,Le);const L=F===C;return Le+=1,f.cloneElement(k,W({fullWidth:M==="fullWidth",indicator:L&&!or&&hr,selected:L,selectionFollowsFocus:m,onChange:c,textColor:R,value:F},Le===1&&C===!1&&!k.props.tabIndex?{tabIndex:0}:{}))}),Xr=k=>{const F=xe.current,L=Qr(F).activeElement;if(L.getAttribute("role")!=="tab")return;let O=B==="horizontal"?"ArrowLeft":"ArrowUp",G=B==="horizontal"?"ArrowRight":"ArrowDown";switch(B==="horizontal"&&n&&(O="ArrowRight",G="ArrowLeft"),k.key){case O:k.preventDefault(),Ue(F,L,Pr);break;case G:k.preventDefault(),Ue(F,L,kr);break;case"Home":k.preventDefault(),Ue(F,null,kr);break;case"End":k.preventDefault(),Ue(F,null,Pr);break}},He=zr();return e.jsxs(Xt,W({className:V(se.root,y),ownerState:pe,ref:s,as:S},Te,{children:[He.scrollButtonStart,He.scrollbarSizeListener,e.jsxs(qt,{className:se.scroller,ownerState:pe,style:{overflow:cr.overflow,[Q?`margin${n?"Left":"Right"}`:"marginBottom"]:w?void 0:-cr.scrollbarWidth},ref:ne,children:[e.jsx(Ht,{"aria-label":h,"aria-labelledby":T,"aria-orientation":B==="vertical"?"vertical":null,className:se.flexContainer,ownerState:pe,onKeyDown:Xr,ref:xe,role:"tablist",children:Gr}),or&&hr]}),He.scrollButtonEnd]}))}),Vt=rr([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Zt=({user:r,allUsers:o,departments:s,designations:j,setUser:p,open:n,closeModal:h,handleImageChange:T,selectedImage:b})=>{const[_,x]=f.useState({id:r.id}),[y,S]=f.useState({}),[v,u]=f.useState(!1),[c,B]=f.useState(!1),d=oe(),i=(t,l)=>{t==="department"&&r.department!==l&&(r.designation=null,r.report_to=null),x(g=>({...g,[t]:l}))};async function m(t){t.preventDefault(),console.log(_),u(!0);const l=new Promise(async(g,P)=>{try{const R=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"profile",..._})}),C=await R.json();R.ok?(p(M=>({...M,..._})),u(!1),h(),g([...C.messages]),console.log(C.messages)):(u(!1),S(C.errors),P(C.errors),console.error(C.errors))}catch(R){u(!1),h(),console.log(R),P(["An unexpected error occurred."])}});te.promise(l,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating profile ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:g}){return e.jsx(e.Fragment,{children:g.map((P,R)=>e.jsx("div",{children:P},R))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:g}){return e.jsx(e.Fragment,{children:g.map((P,R)=>e.jsx("div",{children:P},R))})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,color:d.palette.text.primary}}})}return e.jsxs(be,{open:n,onClose:h,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Profile Information"}),e.jsx(U,{variant:"outlined",color:"primary",onClick:h,sx:{position:"absolute",top:8,right:16},children:e.jsx(Ae,{})})]}),e.jsxs("form",{onSubmit:m,children:[e.jsx(fe,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:e.jsxs(z,{position:"relative",display:"inline-block",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[e.jsx(Ce,{alt:_.name||r.name,src:b||`assets/images/users/${_.user_name||r.user_name}.jpg`,sx:{width:100,height:100}}),c&&e.jsx(e.Fragment,{children:e.jsx(z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(U,{color:"primary",component:"span",children:e.jsx(Vt,{})})})}),e.jsx("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:T}),e.jsx("label",{htmlFor:"upload-button",children:e.jsx(z,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Name",fullWidth:!0,value:_.name||r.name||"",onChange:t=>i("name",t.target.value),error:!!y.name,helperText:y.name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"gender-label",children:"Gender"}),e.jsxs(K,{labelId:"gender-label",value:_.gender||r.gender||"na",onChange:t=>i("gender",t.target.value),error:!!y.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{disabled:!0,value:"na",children:"Select Gender"}),e.jsx(D,{value:"Male",children:"Male"}),e.jsx(D,{value:"Female",children:"Female"})]}),e.jsx(Re,{children:y.gender})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Birth Date",type:"date",fullWidth:!0,value:_.birthday||r.birthday||"",onChange:t=>i("birthday",t.target.value),InputLabelProps:{shrink:!0},error:!!y.birthday,helperText:y.birthday})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Joining Date",type:"date",fullWidth:!0,value:_.date_of_joining||r.date_of_joining||"",onChange:t=>i("date_of_joining",t.target.value),InputLabelProps:{shrink:!0},error:!!y.date_of_joining,helperText:y.date_of_joining})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{label:"Address",fullWidth:!0,value:_.address||r.address,onChange:t=>i("address",t.target.value),error:!!y.address,helperText:y.address})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Employee ID",fullWidth:!0,value:_.employee_id||r.employee_id||"",onChange:t=>i("employee_id",t.target.value),error:!!y.employee_id,helperText:y.employee_id})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Phone Number",fullWidth:!0,value:_.phone||r.phone,onChange:t=>i("phone",t.target.value),error:!!y.phone,helperText:y.phone})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Email Adress",fullWidth:!0,value:_.email||r.email,onChange:t=>i("email",t.target.value),error:!!y.email,helperText:y.email})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"department",children:"Department"}),e.jsxs(K,{labelId:"department",onChange:t=>i("department",t.target.value),error:!!y.department,id:`department-select-${r.id}`,value:_.department||r.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select Department"}),s.map(t=>e.jsx(D,{value:t.id,children:t.name},t.id))]}),e.jsx(Re,{children:y.department})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"designation",children:"Designation"}),e.jsxs(K,{labelId:"designation",onChange:t=>i("designation",t.target.value),label:"Designation",error:!!y.designation,id:`designation-select-${r.id}`,value:_.designation||r.designation||"na",disabled:!r.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select Designation"}),j.filter(t=>t.department_id===_.department||r.department).map(t=>e.jsx(D,{value:t.id,children:t.title},t.id))]}),e.jsx(Re,{children:y.designation})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"report_to",children:"Reports To"}),e.jsxs(K,{labelId:"report_to",value:_.report_to||r.report_to,onChange:t=>i("report_to",t.target.value),label:"Reports To",error:!!y.report_to,disabled:r.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:d.glassCard.backgroundColor,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",children:"--"}),o.filter(t=>t.department===_.department||r.department).map(t=>e.jsx(D,{value:t.id,children:t.name},t.id))]}),e.jsx(Re,{children:y.report_to})]})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:v,children:"Submit"})})]})]})},Qt=({user:r,setUser:o,open:s,closeModal:j})=>{const[p,n]=f.useState({id:r.id,passport_no:r.passport_no||"",passport_exp_date:r.passport_exp_date||"",nationality:r.nationality||"",religion:r.religion||"",marital_status:r.marital_status||"",employment_of_spouse:r.employment_of_spouse||"",number_of_children:r.number_of_children||"",nid:r.nid||""}),[h,T]=f.useState({id:r.id}),[b,_]=f.useState(!1),[x,y]=f.useState({}),[S,v]=f.useState(!1),u=oe(),c=(d,i)=>{n(m=>{const t={...m,[d]:i};return i===""&&delete t[d],d==="marital_status"&&i==="Single"&&(t.employment_of_spouse="",t.number_of_children=""),t}),T(m=>{const t={...m,[d]:i};return i===""&&delete t[d],d==="marital_status"&&i==="Single"&&(t.employment_of_spouse=null,t.number_of_children=null),t})};f.useEffect(()=>{for(const i in h)i!=="id"&&h[i]===r[i]&&delete h[i];const d=Object.keys(h).filter(i=>i!=="id").length>0;_(d)},[p,h,r]);async function B(d){d.preventDefault(),v(!0);const i=new Promise(async(m,t)=>{try{const l=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"personal",...p})}),g=await l.json();l.ok?(o(g.user),v(!1),j(),m([...g.messages])):(v(!1),y(g.errors),t(g.error||"Failed to update personal information."),console.error(g.errors))}catch(l){v(!1),console.log(l),t(l.message||"An unexpected error occurred.")}});te.promise(i,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:m}){return e.jsx(e.Fragment,{children:m.map((t,l)=>e.jsx("div",{children:t},l))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:m}){return e.jsx(e.Fragment,{children:m})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}return e.jsxs(be,{open:s,onClose:j,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Personal Information"}),e.jsx(U,{variant:"outlined",color:"primary",onClick:j,sx:{position:"absolute",top:8,right:16},children:e.jsx(Ae,{})})]}),e.jsxs("form",{onSubmit:B,children:[e.jsx(fe,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Passport No",fullWidth:!0,value:h.passport_no||p.passport_no||"",onChange:d=>c("passport_no",d.target.value),error:!!x.passport_no,helperText:x.passport_no})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:h.passport_exp_date||p.passport_exp_date||"",onChange:d=>c("passport_exp_date",d.target.value),InputLabelProps:{shrink:!0},error:!!x.passport_exp_date,helperText:x.passport_exp_date})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"NID No",fullWidth:!0,value:h.nid||p.nid||"",onChange:d=>c("nid",d.target.value),error:!!x.nid,helperText:x.nid})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Nationality",fullWidth:!0,value:h.nationality||p.nationality||"",onChange:d=>c("nationality",d.target.value),error:!!x.nationality,helperText:x.nationality})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Religion",fullWidth:!0,value:h.religion||p.religion||"",onChange:d=>c("religion",d.target.value),error:!!x.religion,helperText:x.religion})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"marital-status-label",children:"Marital status"}),e.jsxs(K,{labelId:"marital-status-label",value:h.marital_status||p.marital_status||"na",onChange:d=>c("marital_status",d.target.value),label:"Marital status",error:!!x.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",children:"-"}),e.jsx(D,{value:"Single",children:"Single"}),e.jsx(D,{value:"Married",children:"Married"})]}),e.jsx(Re,{children:x.marital_status})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Employment of spouse",fullWidth:!0,value:h.marital_status==="Single"?"":h.employment_of_spouse||p.employment_of_spouse,onChange:d=>c("employment_of_spouse",d.target.value),error:!!x.employment_of_spouse,helperText:x.employment_of_spouse,disabled:h.marital_status==="Single"||p.marital_status==="Single"})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"No. of children",fullWidth:!0,type:"number",value:h.marital_status==="Single"?"":h.number_of_children||p.number_of_children,onChange:d=>c("number_of_children",d.target.value),error:!!x.number_of_children,helperText:x.number_of_children,disabled:h.marital_status==="Single"||p.marital_status==="Single"})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},ea=({user:r,setUser:o,open:s,closeModal:j})=>{const[p,n]=f.useState({id:r.id,emergency_contact_primary_name:r.emergency_contact_primary_name||"",emergency_contact_primary_relationship:r.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:r.emergency_contact_primary_phone||"",emergency_contact_secondary_name:r.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:r.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:r.emergency_contact_secondary_phone||""}),[h,T]=f.useState({id:r.id}),[b,_]=f.useState(!1),[x,y]=f.useState({}),[S,v]=f.useState(!1),u=oe(),c=(d,i)=>{n(m=>{const t={...m,[d]:i};return i===""&&delete t[d],t}),T(m=>{const t={...m,[d]:i};return i===""&&delete t[d],t})};f.useEffect(()=>{for(const i in h)i!=="id"&&h[i]===r[i]&&delete h[i];const d=Object.keys(h).filter(i=>i!=="id").length>0;_(d)},[p,h,r]);async function B(d){d.preventDefault(),v(!0);const i=new Promise(async(m,t)=>{try{const l=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"emergency",...p})}),g=await l.json();l.ok?(o(g.user),v(!1),j(),m([...g.messages])):(v(!1),y(g.errors),t(g.error||"Failed to update emergency contact."),console.error(g.errors))}catch(l){v(!1),j(),console.log(l),t(["An unexpected error occurred."])}});te.promise(i,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating personal information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:m}){return e.jsx(e.Fragment,{children:m.map((t,l)=>e.jsx("div",{children:t},l))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:m}){return e.jsx(e.Fragment,{children:m})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}return e.jsxs(be,{open:s,onClose:j,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Personal Information"}),e.jsx(U,{variant:"outlined",color:"primary",onClick:j,sx:{position:"absolute",top:8,right:16},children:e.jsx(Ae,{})})]}),e.jsxs("form",{onSubmit:B,children:[e.jsx(fe,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(E,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Name",required:!0,fullWidth:!0,value:h.emergency_contact_primary_name||p.emergency_contact_primary_name||"",onChange:d=>c("emergency_contact_primary_name",d.target.value),error:!!x.bank_name,helperText:x.bank_name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Relationship",required:!0,fullWidth:!0,value:h.emergency_contact_primary_relationship||p.emergency_contact_primary_relationship||"",onChange:d=>c("emergency_contact_primary_relationship",d.target.value),error:!!x.bank_name,helperText:x.bank_name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Phone",required:!0,fullWidth:!0,value:h.emergency_contact_primary_phone||p.emergency_contact_primary_phone||"",onChange:d=>c("emergency_contact_primary_phone",d.target.value),error:!!x.bank_name,helperText:x.bank_name})})]})]})})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(Y,{children:e.jsxs(q,{children:[e.jsx(E,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Name",fullWidth:!0,value:h.emergency_contact_secondary_name||p.emergency_contact_secondary_name||"",onChange:d=>c("emergency_contact_secondary_name",d.target.value),error:!!x.bank_name,helperText:x.bank_name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Relationship",fullWidth:!0,value:h.emergency_contact_secondary_relationship||p.emergency_contact_secondary_relationship||"",onChange:d=>c("emergency_contact_secondary_relationship",d.target.value),error:!!x.bank_name,helperText:x.bank_name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Phone",fullWidth:!0,value:h.emergency_contact_secondary_phone||p.emergency_contact_secondary_phone||"",onChange:d=>c("emergency_contact_secondary_phone",d.target.value),error:!!x.bank_name,helperText:x.bank_name})})]})]})})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},ra=({user:r,setUser:o,open:s,closeModal:j})=>{const[p,n]=f.useState({id:r.id,bank_name:r.bank_name||"",bank_account_no:r.bank_account_no||"",ifsc_code:r.ifsc_code||"",pan_no:r.pan_no||""}),[h,T]=f.useState({id:r.id}),[b,_]=f.useState(!1),[x,y]=f.useState({}),[S,v]=f.useState(!1),u=oe(),c=(d,i)=>{n(m=>{const t={...m,[d]:i};return i===""&&delete t[d],t}),T(m=>{const t={...m,[d]:i};return i===""&&delete t[d],t})};f.useEffect(()=>{for(const i in h)i!=="id"&&h[i]===r[i]&&delete h[i];const d=Object.keys(h).filter(i=>i!=="id").length>0;_(d)},[p,h,r]);async function B(d){d.preventDefault(),v(!0);const i=new Promise(async(m,t)=>{try{const l=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"bank",...p})}),g=await l.json();l.ok?(o(g.user),v(!1),j(),m([...g.messages])):(v(!1),y(g.errors),t(g.error||"Failed to update bank information."),console.error(g.errors))}catch(l){v(!1),console.log(l),t(l.message||"An unexpected error occurred.")}});te.promise(i,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating bank information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:m}){return e.jsx(e.Fragment,{children:m.map((t,l)=>e.jsx("div",{children:t},l))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:m}){return e.jsx(e.Fragment,{children:m})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}return e.jsxs(be,{open:s,onClose:j,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Bank Information"}),e.jsx(U,{variant:"outlined",color:"primary",onClick:j,sx:{position:"absolute",top:8,right:16},children:e.jsx(Ae,{})})]}),e.jsxs("form",{onSubmit:B,children:[e.jsx(fe,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{label:"Bank Name",fullWidth:!0,value:h.bank_name||p.bank_name||"",onChange:d=>c("bank_name",d.target.value),error:!!x.bank_name,helperText:x.bank_name})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{size:"small",label:"Bank Account No.",fullWidth:!0,value:h.bank_account_no||p.bank_account_no||"",onChange:d=>c("bank_account_no",d.target.value),error:!!x.bank_account_no,helperText:x.bank_account_no})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{label:"IFSC Code",fullWidth:!0,value:h.ifsc_code||p.ifsc_code||"",onChange:d=>c("ifsc_code",d.target.value),error:!!x.ifsc_code,helperText:x.ifsc_code})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{label:"PAN No.",fullWidth:!0,value:h.pan_no||p.pan_no||"",onChange:d=>c("pan_no",d.target.value),error:!!x.pan_no,helperText:x.pan_no})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},ta=({user:r,open:o,closeModal:s,handleDelete:j,setUser:p})=>{const[n,h]=f.useState({id:r.id,family_member_name:r.family_member_name||"",family_member_relationship:r.family_member_relationship||"",family_member_dob:r.family_member_dob||"",family_member_phone:r.family_member_phone||""}),[T,b]=f.useState({id:r.id}),[_,x]=f.useState(!1),[y,S]=f.useState({}),[v,u]=f.useState(!1),c=oe(),B=(i,m)=>{h(t=>{const l={...t,[i]:m};return m===""&&delete l[i],l}),b(t=>{const l={...t,[i]:m};return m===""&&delete l[i],l})};f.useEffect(()=>{for(const m in T)m!=="id"&&T[m]===r[m]&&delete T[m];const i=Object.keys(T).filter(m=>m!=="id").length>0;x(i)},[n,T,r]);async function d(i){i.preventDefault(),u(!0);const m=new Promise(async(t,l)=>{try{const g=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"family",...n})}),P=await g.json();g.ok?(p(P.user),u(!1),s(),t([...P.messages])):(u(!1),S(P.errors),l(P.error||"Failed to update family information."),console.error(P.errors))}catch(g){u(!1),console.log(g),l(g.message||"An unexpected error occurred.")}});te.promise(m,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating family member information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:c.glassCard.backgroundColor,border:c.glassCard.border,color:c.palette.text.primary}},success:{render({data:t}){return e.jsx(e.Fragment,{children:t.map((l,g)=>e.jsx("div",{children:l},g))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:c.glassCard.backgroundColor,border:c.glassCard.border,color:c.palette.text.primary}},error:{render({data:t}){return e.jsx(e.Fragment,{children:t})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:c.glassCard.backgroundColor,border:c.glassCard.border,color:c.palette.text.primary}}})}return e.jsxs(be,{open:o,onClose:s,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Family Member"}),e.jsx(U,{variant:"outlined",color:"primary",onClick:s,sx:{position:"absolute",top:8,right:16},children:e.jsx(Ae,{})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx(fe,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Name",fullWidth:!0,value:T.family_member_name||n.family_member_name||"",onChange:i=>B("family_member_name",i.target.value),error:!!y.family_member_name,helperText:y.family_member_name})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Relationship",fullWidth:!0,value:T.family_member_relationship||n.family_member_relationship||"",onChange:i=>B("family_member_relationship",i.target.value),error:!!y.family_member_relationship,helperText:y.family_member_relationship})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Date of Birth",fullWidth:!0,type:"date",value:T.family_member_dob||n.family_member_dob||"",onChange:i=>B("family_member_dob",i.target.value),InputLabelProps:{shrink:!0},error:!!y.family_member_dob,helperText:y.family_member_dob})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Phone",fullWidth:!0,value:T.family_member_phone||n.family_member_phone||"",onChange:i=>B("family_member_phone",i.target.value),error:!!y.family_member_phone,helperText:y.family_member_phone})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!_,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:v,children:"Submit"})})]})]})},aa=({user:r,open:o,closeModal:s,setUser:j})=>{const[p,n]=f.useState({id:r.id}),[h,T]=f.useState(!1),[b,_]=f.useState(r.educations&&r.educations.length>0?r.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[x,y]=f.useState({}),[S,v]=f.useState(!1),u=oe(),c=(m,t,l)=>{console.log(l);const g=[...b];g[m]={...g[m],[t]:l},_(g);const P=g.filter((C,M)=>{const w=r.educations[M]||{},Te=!w.id||C.institution!==w.institution||C.subject!==w.subject||C.degree!==w.degree||C.starting_date!==w.starting_date||C.complete_date!==w.complete_date||C.grade!==w.grade,X=w.id&&C.institution===w.institution&&C.subject===w.subject&&C.degree===w.degree&&C.starting_date===w.starting_date&&C.complete_date===w.complete_date&&C.grade===w.grade;return Te&&!X});n(C=>({...C,educations:[...P]}));const R=P.length>0;T(R)},B=async m=>{const t=b[m],l=b.filter((g,P)=>P!==m);if(_(l.length>0?l:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),t.id){const g=new Promise(async(P,R)=>{try{const C=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:t.id,user_id:r.id})}),M=await C.json();C.ok?(n(w=>({...w,educations:M.educations})),j(w=>({...w,educations:M.educations})),P(M.message||"Education record deleted successfully.")):(y(M.errors),console.log(M.errors),R(M.error||"Failed to delete education record."))}catch(C){R(C)}});te.promise(g,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:P}){return e.jsx(e.Fragment,{children:P})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:P}){return e.jsx(e.Fragment,{children:P})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}},d=async m=>{m.preventDefault(),v(!0);const t=new Promise(async(l,g)=>{try{const P=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:b.map(C=>({...C,user_id:r.id}))})}),R=await P.json();P.ok?(j(C=>({...C,educations:R.educations})),v(!1),s(),l([...R.messages])):(v(!1),y(R.errors),console.log(R.errors),g(R.error||"Failed to update education records."))}catch(P){v(!1),g(P.message||"An unexpected error occurred while updating education records.")}});te.promise(t,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:l}){return e.jsx(e.Fragment,{children:l.map((g,P)=>e.jsx("div",{children:g},P))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:l}){return e.jsx(e.Fragment,{children:l})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})},i=async()=>{_([...b,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return e.jsxs(be,{open:o,onClose:s,maxWidth:"md",fullWidth:!0,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Education Information"}),e.jsx(U,{onClick:s,sx:{position:"absolute",top:8,right:16},children:e.jsx(ze,{})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx(fe,{children:e.jsxs(z,{children:[e.jsx(a,{container:!0,spacing:2,children:b.map((m,t)=>e.jsx(a,{item:!0,xs:12,children:e.jsx(Y,{children:e.jsxs(q,{children:[e.jsxs(E,{variant:"h6",gutterBottom:!0,children:["Education #"+(t+1),e.jsx(U,{onClick:()=>B(t),sx:{position:"absolute",top:8,right:16},children:e.jsx(ze,{})})]}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Institution",fullWidth:!0,value:m.institution||"",onChange:l=>c(t,"institution",l.target.value),error:!!x[`educations.${t}.institution`],helperText:x[`educations.${t}.institution`]?x[`educations.${t}.institution`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Degree",fullWidth:!0,value:m.degree||"",onChange:l=>c(t,"degree",l.target.value),error:!!x[`educations.${t}.degree`],helperText:x[`educations.${t}.degree`]?x[`educations.${t}.degree`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Subject",fullWidth:!0,value:m.subject||"",onChange:l=>c(t,"subject",l.target.value),error:!!x[`educations.${t}.subject`],helperText:x[`educations.${t}.subject`]?x[`educations.${t}.subject`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:m.starting_date||"",onChange:l=>c(t,"starting_date",l.target.value),error:!!x[`educations.${t}.starting_date`],helperText:x[`educations.${t}.starting_date`]?x[`educations.${t}.starting_date`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:m.complete_date||"",onChange:l=>c(t,"complete_date",l.target.value),error:!!x[`educations.${t}.complete_date`],helperText:x[`educations.${t}.complete_date`]?x[`educations.${t}.complete_date`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Grade",fullWidth:!0,value:m.grade||"",onChange:l=>c(t,"grade",l.target.value),error:!!x[`educations.${t}.grade`],helperText:x[`educations.${t}.grade`]?x[`educations.${t}.grade`][0]:""})})]})]})})},t))}),e.jsx(z,{mt:2,children:e.jsxs(tr,{size:"small",color:"error",sx:{mt:2},onClick:i,children:[e.jsx(Nr,{})," Add More"]})})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},oa=({user:r,open:o,closeModal:s,setUser:j})=>{const[p,n]=f.useState({id:r.id}),[h,T]=f.useState(!1),[b,_]=f.useState(r.experiences.length>0?r.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[x,y]=f.useState({}),[S,v]=f.useState(!1),u=oe(),c=(m,t,l)=>{const g=[...b];g[m]={...g[m],[t]:l},_(g);const P=g.filter((C,M)=>{const w=r.experiences[M]||{},Te=!w.id||C.company_name!==w.company_name||C.location!==w.location||C.job_position!==w.job_position||C.period_from!==w.period_from||C.period_to!==w.period_to||C.description!==w.description,X=w.id&&C.company_name===w.company_name&&C.location===w.location&&C.job_position===w.job_position&&C.period_from===w.period_from&&C.period_to===w.period_to&&C.description===w.description;return Te&&!X});n(C=>({...C,experiences:[...P]}));const R=P.length>0;T(R)},B=async m=>{const t=b[m],l=b.filter((g,P)=>P!==m);if(_(l.length>0?l:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),t.id){const g=new Promise(async(P,R)=>{try{const C=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:t.id,user_id:r.id})}),M=await C.json();C.ok?(n(w=>({...w,experiences:M.experiences})),j(w=>({...w,experiences:M.experiences})),P(M.message||"Experience record deleted successfully.")):(y([...M.errors]),R(M.error||"Failed to delete experience record."))}catch(C){R(C)}});te.promise(g,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:P}){return e.jsx(e.Fragment,{children:P})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:P}){return e.jsx(e.Fragment,{children:P})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})}},d=async m=>{m.preventDefault(),v(!0);const t=new Promise(async(l,g)=>{try{const P=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:b.map(C=>({...C,user_id:r.id}))})}),R=await P.json();P.ok?(j(C=>({...C,experiences:R.experiences})),v(!1),s(),l([...R.messages])):(v(!1),y(R.errors),console.log(R.errors),g(R.error||"Failed to update experience records."))}catch(P){v(!1),g(P.message||"An unexpected error occurred while updating experience records.")}});te.promise(t,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:l}){return e.jsx(e.Fragment,{children:l.map((g,P)=>e.jsx("div",{children:g},P))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:l}){return e.jsx(e.Fragment,{children:l})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})},i=async()=>{_([...b,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return e.jsxs(be,{open:o,onClose:s,maxWidth:"md",fullWidth:!0,children:[e.jsxs(ge,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(E,{children:"Experience Information"}),e.jsx(U,{onClick:s,sx:{position:"absolute",top:8,right:16},children:e.jsx(ze,{})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsx(fe,{children:e.jsxs(z,{children:[e.jsx(a,{container:!0,spacing:2,children:b.map((m,t)=>e.jsx(a,{item:!0,xs:12,children:e.jsx(Y,{children:e.jsxs(q,{children:[e.jsxs(E,{variant:"h6",gutterBottom:!0,children:["Experience #"+(t+1),e.jsx(U,{onClick:()=>B(t),sx:{position:"absolute",top:8,right:16},children:e.jsx(ze,{})})]}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Company",fullWidth:!0,value:m.company_name||"",onChange:l=>c(t,"company_name",l.target.value),error:!!x[`experiences.${t}.company_name`],helperText:x[`experiences.${t}.company_name`]?x[`experiences.${t}.company_name`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Location",fullWidth:!0,value:m.location||"",onChange:l=>c(t,"location",l.target.value),error:!!x[`experiences.${t}.location`],helperText:x[`experiences.${t}.location`]?x[`experiences.${t}.location`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Role",fullWidth:!0,value:m.job_position||"",onChange:l=>c(t,"job_position",l.target.value),error:!!x[`experiences.${t}.job_position`],helperText:x[`experiences.${t}.job_position`]?x[`experiences.${t}.job_position`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:m.period_from||"",onChange:l=>c(t,"period_from",l.target.value),error:!!x[`experiences.${t}.period_from`],helperText:x[`experiences.${t}.period_from`]?x[`experiences.${t}.period_from`][0]:""})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(N,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:m.period_to||"",onChange:l=>c(t,"period_to",l.target.value),error:!!x[`experiences.${t}.period_to`],helperText:x[`experiences.${t}.period_to`]?x[`experiences.${t}.period_to`][0]:""})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(N,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:m.description||"",onChange:l=>c(t,"description",l.target.value),error:!!x[`experiences.${t}.description`],helperText:x[`experiences.${t}.description`]?x[`experiences.${t}.description`][0]:""})})]})]})})},t))}),e.jsxs(tr,{size:"small",color:"error",sx:{mt:2},onClick:i,children:[e.jsx(Nr,{})," Add More"]})]})}),e.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:S,children:"Submit"})})]})]})},na=({user:r,setUser:o})=>{const[s,j]=f.useState({id:r.id,salary_basis:r.salary_basis||"",salary_amount:r.salary_amount||"",payment_type:r.payment_type||"",pf_contribution:r.pf_contribution??!1,pf_no:r.pf_no||"",employee_pf_rate:r.employee_pf_rate||0,additional_pf_rate:r.additional_pf_rate||0,total_pf_rate:r.total_pf_rate||0,esi_contribution:r.esi_contribution??!1,esi_no:r.esi_no||"",employee_esi_rate:r.employee_esi_rate||0,additional_esi_rate:r.additional_esi_rate||0,total_esi_rate:r.total_esi_rate||0}),[p,n]=f.useState({id:r.id}),[h,T]=f.useState(!1),[b,_]=f.useState({}),[x,y]=f.useState(!1),S=oe(),v=(c,B)=>{j(d=>{const i={...d,[c]:B};return B===""&&delete i[c],c==="pf_contribution"&&B===0?(i.pf_no="",i.employee_pf_rate=0,i.additional_pf_rate=0,i.total_pf_rate=0):(c==="employee_pf_rate"||c==="additional_pf_rate")&&(i.total_pf_rate=i.employee_pf_rate+i.additional_pf_rate),c==="esi_contribution"&&B===0?(i.esi_no="",i.employee_esi_rate=0,i.additional_esi_rate=0,i.total_esi_rate=0):(c==="employee_esi_rate"||c==="additional_esi_rate")&&(i.total_esi_rate=i.employee_esi_rate+i.additional_esi_rate),i}),n(d=>{const i={...d,[c]:B};return B===""&&delete i[c],c==="pf_contribution"&&B===0?(i.pf_no="",i.employee_pf_rate=0,i.additional_pf_rate=0,i.total_pf_rate=0):(c==="employee_pf_rate"||c==="additional_pf_rate")&&(i.total_pf_rate=i.employee_pf_rate+i.additional_pf_rate),c==="esi_contribution"&&B===0?(i.esi_no="",i.employee_esi_rate=0,i.additional_esi_rate=0,i.total_esi_rate=0):(c==="employee_esi_rate"||c==="additional_esi_rate")&&(i.total_esi_rate=i.employee_esi_rate+i.additional_esi_rate),i})};f.useEffect(()=>{for(const B in p)B!=="id"&&p[B]===r[B]&&delete p[B];const c=Object.keys(p).filter(B=>B!=="id").length>0;T(c),console.log(s),console.log(p)},[s,p,r]);async function u(c){c.preventDefault(),y(!0);const B=new Promise(async(d,i)=>{try{const m=await fetch(route("profile.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"salary",...s})}),t=await m.json();m.ok?(o(t.user),y(!1),d([...t.messages])):(y(!1),_(t.errors),i(t.error||"Failed to update salary information."),console.error(t.errors))}catch(m){y(!1),console.log(m),i(m.message||"An unexpected error occurred.")}});te.promise(B,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(ae,{}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating salary information ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}},success:{render({data:d}){return e.jsx(e.Fragment,{children:d.map((i,m)=>e.jsx("div",{children:i},m))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}},error:{render({data:d}){return e.jsx(e.Fragment,{children:d})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,color:S.palette.text.primary}}})}return e.jsxs(Y,{children:[e.jsx(ce,{title:"Salary & Statutory Information"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs(q,{children:[e.jsx(E,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"salary-basis-label",children:"Salary basis"}),e.jsxs(K,{labelId:"salary-basis-label",value:p.salary_basis||s.salary_basis||"na",onChange:c=>v("salary_basis",c.target.value),error:!!b.salary_basis,helperText:b.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select salary basis type"}),e.jsx(D,{value:"Hourly",children:"Hourly"}),e.jsx(D,{value:"Daily",children:"Daily"}),e.jsx(D,{value:"Weekly",children:"Weekly"}),e.jsx(D,{value:"Monthly",children:"Monthly"})]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(N,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:p.salary_amount||s.salary_amount||"",onChange:c=>v("salary_amount",c.target.value),InputProps:{startAdornment:e.jsx(tt,{position:"start",children:"$"})},error:!!b.salary_amount,helperText:b.salary_amount})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"payment-type-label",children:"Payment type"}),e.jsxs(K,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${r.id}`,value:p.payment_type||s.payment_type||"na",onChange:c=>v("payment_type",c.target.value),error:!!b.payment_type,helperText:b.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select payment type"}),e.jsx(D,{value:"Bank transfer",children:"Bank transfer"}),e.jsx(D,{value:"Check",children:"Check"}),e.jsx(D,{value:"Cash",children:"Cash"})]})]})})]}),e.jsx(ve,{sx:{my:3}}),e.jsx(E,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"pf-contribution-label",children:"PF contribution"}),e.jsxs(K,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${r.id}`,value:p.pf_contribution!==void 0?p.pf_contribution:s.pf_contribution!==void 0?s.pf_contribution:"na",onChange:c=>v("pf_contribution",c.target.value),error:!!b.pf_contribution,helperText:b.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select PF contribution"}),e.jsx(D,{value:1,children:"Yes"}),e.jsx(D,{value:0,children:"No"})]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(N,{disabled:!(p.pf_contribution||s.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:p.pf_no||s.pf_no,onChange:c=>v("pf_no",c.target.value),error:!!b.pf_no,helperText:b.pf_no})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"employee-pf-rate-label",children:"Employee PF rate"}),e.jsxs(K,{disabled:!(p.pf_contribution||s.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:p.employee_pf_rate||s.employee_pf_rate||"na",onChange:c=>v("employee_pf_rate",c.target.value),error:!!b.employee_pf_rate,helperText:b.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(c=>e.jsxs(D,{value:c,children:[c,"%"]},c))]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"additional-rate-label",children:"Additional rate"}),e.jsxs(K,{disabled:!(p.pf_contribution||s.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${r.id}`,value:p.additional_pf_rate||s.additional_pf_rate||"na",onChange:c=>v("additional_pf_rate",c.target.value),error:!!b.additional_pf_rate,helperText:b.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(c=>e.jsxs(D,{value:c,children:[c,"%"]},c))]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(N,{disabled:!(p.pf_contribution||s.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_pf_rate||s.total_pf_rate?`${p.total_pf_rate||s.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!b.total_pf_rate,helperText:b.total_pf_rate})})]}),e.jsx(ve,{sx:{my:3}}),e.jsx(E,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"esi-contribution-label",children:"ESI contribution"}),e.jsxs(K,{labelId:"esi-contribution-label",label:"ESI contribution",value:p.esi_contribution!==void 0?p.esi_contribution:s.esi_contribution!==void 0?s.esi_contribution:"na",onChange:c=>v("esi_contribution",c.target.value),error:!!b.esi_contribution,helperText:b.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select ESI contribution"}),e.jsx(D,{value:1,children:"Yes"}),e.jsx(D,{value:0,children:"No"})]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(N,{disabled:!(p.esi_contribution||s.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:p.esi_no||s.esi_no,onChange:c=>v("esi_no",c.target.value),error:!!b.esi_no,helperText:b.esi_no})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"esi-contribution-label",children:"Employee ESI rate"}),e.jsxs(K,{disabled:!(p.esi_contribution||s.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.employee_esi_rate||s.employee_esi_rate||"na",onChange:c=>v("employee_esi_rate",c.target.value),error:!!b.employee_esi_rate,helperText:b.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(c=>e.jsxs(D,{value:c,children:[c,"%"]},c))]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(H,{fullWidth:!0,children:[e.jsx(J,{id:"esi-contribution-label",children:"Additional rate"}),e.jsxs(K,{disabled:!(p.esi_contribution||s.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:p.additional_esi_rate||s.additional_esi_rate||"na",onChange:c=>v("additional_esi_rate",c.target.value),error:!!b.additional_esi_rate,helperText:b.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:S.glassCard.backgroundColor,border:S.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(D,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(c=>e.jsxs(D,{value:c,children:[c,"%"]},c))]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(N,{disabled:!(p.esi_contribution||s.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:p.total_esi_rate||s.total_esi_rate?`${p.total_esi_rate||s.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!b.total_esi_rate,helperText:b.total_esi_rate})})]})]}),e.jsx(xt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(de,{disabled:!h,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:x,children:"Submit"})})]})]})},sa=({project:r})=>{const o=oe();return e.jsx(Y,{children:e.jsxs(z,{sx:{p:2},children:[e.jsx(E,{variant:"h6",gutterBottom:!0,children:e.jsx(qr,{style:{display:"flex",alignItems:"center",color:o.palette.text.primary,textDecoration:"none"},href:"/",as:"a",children:r.title})}),e.jsxs(E,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[e.jsx("b",{children:r.openTasks})," open tasks, ",e.jsx("b",{children:r.completedTasks})," tasks completed"]}),e.jsx(E,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:r.description}),e.jsxs(z,{mb:2,children:[e.jsx(E,{variant:"subtitle2",color:"textPrimary",children:"Deadline:"}),e.jsx(E,{variant:"body2",color:"textSecondary",children:r.deadline})]}),e.jsxs(z,{mb:2,children:[e.jsx(E,{variant:"subtitle2",color:"textPrimary",children:"Project Leaders:"}),e.jsx(z,{display:"flex",children:e.jsx(fr,{max:4,total:5,children:r.leaders.map((s,j)=>e.jsx(br,{title:s.name,arrow:!0,children:e.jsx(Ce,{src:s.avatar,alt:s.name})},j))})})]}),e.jsxs(z,{mb:2,children:[e.jsx(E,{variant:"subtitle2",color:"textPrimary",children:"Project Members:"}),e.jsx(z,{display:"flex",children:e.jsx(fr,{max:4,total:24,children:r.team.map((s,j)=>e.jsx(br,{title:s.name,arrow:!0,children:e.jsx(Ce,{src:s.avatar,alt:s.name})},j))})})]}),e.jsxs(E,{variant:"body2",gutterBottom:!0,children:["Progress ",e.jsxs("span",{style:{float:"right"},children:[r.progress,"%"]})]}),e.jsx(St,{variant:"determinate",value:r.progress})]})})},ia=[{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40},{title:"Office Management",openTasks:1,completedTasks:9,description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry...",deadline:"17 Apr 2019",leaders:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],team:[{name:"John Doe",avatar:"assets/img/profiles/avatar-02.jpg"},{name:"Richard Miles",avatar:"assets/img/profiles/avatar-09.jpg"},{name:"John Smith",avatar:"assets/img/profiles/avatar-10.jpg"},{name:"Mike Litorus",avatar:"assets/img/profiles/avatar-05.jpg"}],progress:40}],fa=({title:r,allUsers:o,report_to:s,departments:j,designations:p})=>{var d,i,m,t;const[n,h]=f.useState(Hr().props.user),[T,b]=Me.useState(0);Me.useState(null);const[_,x]=f.useState(null),[y,S]=f.useState(null);console.log(n);const v=l=>{x(l)},u=()=>{x(null)},c=(l,g)=>{b(g)},B=l=>{const g=l.target.files[0];g&&S(URL.createObjectURL(g))};return e.jsxs(et,{children:[e.jsx(Jr,{title:n.name}),_==="profile"&&e.jsx(Zt,{user:n,allUsers:o,departments:j,designations:p,open:_==="profile",setUser:h,closeModal:u,handleImageChange:B,selectedImage:y}),_==="personal"&&e.jsx(Qt,{user:n,open:_==="personal",setUser:h,closeModal:u}),_==="emergency"&&e.jsx(ea,{user:n,open:_==="emergency",setUser:h,closeModal:u}),_==="bank"&&e.jsx(ra,{user:n,open:_==="bank",setUser:h,closeModal:u}),_==="family"&&e.jsx(ta,{user:n,open:_==="family",setUser:h,closeModal:u}),_==="education"&&e.jsx(aa,{user:n,open:_==="education",setUser:h,closeModal:u}),_==="experience"&&e.jsx(oa,{user:n,open:_==="experience",setUser:h,closeModal:u}),e.jsx(z,{sx:{display:"flex",justifyContent:"center",p:2},children:e.jsx(rt,{in:!0,children:e.jsxs(Y,{children:[e.jsx(ce,{sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("profile"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:e.jsxs(a,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",children:[e.jsx(a,{item:!0,xs:12,md:5,children:e.jsxs(a,{container:!0,spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},children:[e.jsx(a,{item:!0,children:e.jsx(z,{sx:{display:"flex",alignItems:"center",mb:2},children:e.jsx(Ce,{src:`assets/images/users/${n.user_name}.jpg`,alt:n.name,sx:{width:100,height:100,mr:2}})})}),e.jsx(a,{item:!0,xs:12,md:!0,children:e.jsxs(z,{direction:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-start"},sx:{display:"flex",flexDirection:"column",mb:2},children:[e.jsx(E,{variant:"h5",children:n.name}),e.jsx(E,{variant:"subtitle1",color:"textSecondary",children:((d=j.find(l=>l.id===n.department))==null?void 0:d.name)||"N/A"}),e.jsx(E,{variant:"body2",color:"textSecondary",children:((i=p.find(l=>l.id===n.designation))==null?void 0:i.title)||"N/A"}),e.jsxs(E,{variant:"body2",color:"textSecondary",children:["Employee ID : ",n.employee_id||"N/A"]}),e.jsxs(E,{variant:"body2",color:"textSecondary",children:["Date of Join : ",n.date_of_joining||"N/A"]}),e.jsx(tr,{variant:"outlined",color:"primary",sx:{mt:1},children:"Send Message"})]})})]})}),e.jsx(ve,{orientation:"vertical",flexItem:!0,sx:{mx:2}}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(he,{children:[e.jsx(A,{children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Phone:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.phone||"N/A"})})]})}),e.jsx(A,{children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Email:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.email||"N/A"})})]})}),e.jsx(A,{children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Birthday:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.birthday||"N/A"})})]})}),e.jsx(A,{children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Address:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.address||"N/A"})})]})}),e.jsx(A,{children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Gender:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.gender||"N/A"})})]})}),e.jsx(A,{children:e.jsxs(a,{container:!0,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"Reports to:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:o.find(l=>l.id===n.report_to)?e.jsxs(z,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Ce,{src:`/assets/images/users/${(m=o.find(l=>l.id===n.report_to))==null?void 0:m.user_name}.jpg`,alt:s.name,sx:{width:24,height:24,mr:1}}),e.jsx(E,{color:"primary",children:(t=o.find(l=>l.id===n.report_to))==null?void 0:t.name})]}):"N/A"})})]})})]})})]})}),e.jsx(q,{sx:{paddingBottom:"0px !important"},children:e.jsxs(Yt,{value:T,onChange:c,"aria-label":"User Profile Tabs",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[e.jsx(Oe,{label:"Profile"}),e.jsx(Oe,{label:"Projects"}),e.jsx(Oe,{label:"Salary & Statutory"}),e.jsx(Oe,{label:"Assets"})]})})]})})}),e.jsxs(z,{sx:{p:2},children:[T===0&&e.jsxs(a,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:[e.jsx(a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:e.jsxs(Y,{sx:{mb:2,flex:1},children:[e.jsx(ce,{title:"Personal Information",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("personal"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.passport_no||n.passport_exp_date||n.nationality||n.religion||n.marital_status||n.employment_of_spouse||n.number_of_children?e.jsxs(he,{children:[n.passport_no&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Passport No.:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.passport_no||"N/A"})})]})}),n.passport_exp_date&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Passport Exp Date.:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.passport_exp_date||"N/A"})})]})}),n.nid&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• NID No.:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.nid||"N/A"})})]})}),n.nationality&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Nationality:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.nationality||"N/A"})})]})}),n.religion&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Religion:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.religion||"N/A"})})]})}),n.marital_status&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Marital Status:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.marital_status||"N/A"})})]})}),n.employment_of_spouse&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Employment of Spouse:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.employment_of_spouse||"N/A"})})]})}),n.number_of_children&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• No. of Children:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.number_of_children||"N/A"})})]})})]}):e.jsx(E,{children:"No personal information available"})})]})}),e.jsx(a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:e.jsxs(Y,{sx:{mb:2,flex:1},children:[e.jsx(ce,{title:"Emergency Contact",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("emergency"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.emergency_contact_primary_name||n.emergency_contact_secondary_name?e.jsxs(he,{children:[n.emergency_contact_primary_name&&e.jsxs(e.Fragment,{children:[e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Name:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_primary_name||"N/A"})})]})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Relationship:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_primary_relationship||"N/A"})})]})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Phone:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_primary_phone||"N/A"})})]})})]}),n.emergency_contact_secondary_name&&e.jsxs(e.Fragment,{children:[e.jsx(ve,{sx:{my:2}}),e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Name:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_secondary_name||"N/A"})})]})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Relationship:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_secondary_relationship||"N/A"})})]})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Phone:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.emergency_contact_secondary_phone||"N/A"})})]})})]})]}):e.jsx(E,{children:"No emergency contact information"})})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(Y,{variant:"outlined",sx:{mb:2},children:[e.jsx(ce,{title:"Bank Information",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("bank"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.bank_name||n.bank_account_no||n.ifsc_code||n.pan_no?e.jsxs(he,{children:[n.bank_name&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Bank Name:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.bank_name})})]})}),n.bank_account_no&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Bank Account No.:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.bank_account_no})})]})}),n.ifsc_code&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• IFSC Code:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.ifsc_code})})]})}),n.pan_no&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• PAN No:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.pan_no})})]})})]}):e.jsx(E,{children:"No bank information"})})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(Y,{variant:"outlined",children:[e.jsx(ce,{title:"Family Information",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("family"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.family_member_name||n.family_member_relationship||n.family_member_dob||n.family_member_phone?e.jsxs(he,{children:[n.family_member_name&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Name:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.family_member_name})})]})}),n.family_member_relationship&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Relationship:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.family_member_relationship})})]})}),n.family_member_dob&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Date of Birth:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.family_member_dob})})]})}),n.family_member_phone&&e.jsx(A,{disableGutters:!0,children:e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:5,children:e.jsx(I,{primary:"• Phone:"})}),e.jsx(a,{item:!0,xs:7,children:e.jsx(I,{primary:n.family_member_phone})})]})})]}):e.jsx(E,{children:"No family member information"})})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(Y,{variant:"outlined",sx:{mb:2},children:[e.jsx(ce,{title:"Education Information",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("education"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.educations&&n.educations.length>0?e.jsx(he,{children:n.educations.map((l,g)=>e.jsxs(Me.Fragment,{children:[e.jsx(A,{disableGutters:!0,children:e.jsxs(E,{variant:"h6",children:["• ",l.institution]})}),e.jsx(A,{disableGutters:!0,children:e.jsx(E,{variant:"body1",children:l.degree||"N/A"})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(E,{variant:"body2",children:[l.starting_date?new Date(l.starting_date).getFullYear():"N/A"," -",l.complete_date?new Date(l.complete_date).getFullYear():"N/A"]})}),g<n.educations.length-1&&e.jsx(ve,{sx:{my:1}})]},l.id))}):e.jsx(E,{children:"No education information"})})]})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsxs(Y,{variant:"outlined",children:[e.jsx(ce,{title:"Experience",sx:{padding:"24px"},action:e.jsx(U,{variant:"outlined",color:"primary",onClick:()=>v("experience"),sx:{position:"absolute",top:16,right:16},children:e.jsx(me,{})})}),e.jsx(q,{children:n.experiences&&n.experiences.length>0?e.jsx(he,{children:n.experiences.map((l,g)=>e.jsxs(Me.Fragment,{children:[e.jsx(A,{disableGutters:!0,children:e.jsxs(E,{variant:"h6",children:["• ",l.job_position," at ",l.company_name]})}),e.jsx(A,{disableGutters:!0,children:e.jsxs(E,{variant:"body1",children:[l.period_from?new Date(l.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," "," - ",l.period_to?new Date(l.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})}),e.jsx(A,{disableGutters:!0,children:e.jsx(E,{variant:"body2",children:l.location})}),l.description&&e.jsx(A,{disableGutters:!0,children:e.jsx(E,{variant:"body2",children:l.description})}),g<n.experiences.length-1&&e.jsx(ve,{sx:{my:1}})]},g))}):e.jsx(E,{children:"No experience information"})})]})})]}),T===1&&e.jsx(a,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:ia.map((l,g)=>e.jsx(a,{item:!0,xs:12,md:4,sx:{display:"flex",flexDirection:"column"},children:e.jsx(sa,{project:l})},l.id||g))}),T===2&&e.jsx(na,{user:n,setUser:h})]})]})};export{fa as default};
